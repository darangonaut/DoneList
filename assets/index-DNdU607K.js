(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var Ed={exports:{}},hl={};var S_;function lS(){if(S_)return hl;S_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var b_;function uS(){return b_||(b_=1,Ed.exports=lS()),Ed.exports}var Rt=uS(),Td={exports:{}},_t={};var w_;function cS(){if(w_)return _t;w_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,et={};function ht(O,Q,W){this.props=O,this.context=Q,this.refs=et,this.updater=W||Z}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function pt(O,Q,W){this.props=O,this.context=Q,this.refs=et,this.updater=W||Z}var Kt=pt.prototype=new Et;Kt.constructor=pt,tt(Kt,ht.prototype),Kt.isPureReactComponent=!0;var mt=Array.isArray;function Tt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Q,W){var rt=W.ref;return{$$typeof:s,type:O,key:Q,ref:rt!==void 0?rt:null,props:W}}function V(O,Q){return I(O.type,Q,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Q[W]})}var w=/\/+/g;function ie(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Q.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Tt,Tt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,W,rt,gt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case s:case t:Ut=!0;break;case A:return Ut=O._init,H(Ut(O._payload),Q,W,rt,gt)}}if(Ut)return gt=gt(O),Ut=rt===""?"."+ie(O,0):rt,mt(gt)?(W="",Ut!=null&&(W=Ut.replace(w,"$&/")+"/"),H(gt,Q,W,"",function(Zr){return Zr})):gt!=null&&(N(gt)&&(gt=V(gt,W+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Ut)),Q.push(gt)),1;Ut=0;var Ce=rt===""?".":rt+":";if(mt(O))for(var re=0;re<O.length;re++)rt=O[re],bt=Ce+ie(rt,re),Ut+=H(rt,Q,W,bt,gt);else if(re=K(O),typeof re=="function")for(O=re.call(O),re=0;!(rt=O.next()).done;)rt=rt.value,bt=Ce+ie(rt,re++),Ut+=H(rt,Q,W,bt,gt);else if(bt==="object"){if(typeof O.then=="function")return H(Ie(O),Q,W,rt,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function $(O,Q,W){if(O==null)return O;var rt=[],gt=0;return H(O,rt,"","",function(bt){return Q.call(W,bt,gt++)}),rt}function ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:$,forEach:function(O,Q,W){$(O,function(){Q.apply(this,arguments)},W)},count:function(O){var Q=0;return $(O,function(){Q++}),Q},toArray:function(O){return $(O,function(Q){return Q})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=b,_t.Children=Ht,_t.Component=ht,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=pt,_t.StrictMode=a,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Q,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=tt({},O.props),gt=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(gt=""+Q.key),Q)!S.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(rt[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)rt.children=W;else if(1<bt){for(var Ut=Array(bt),Ce=0;Ce<bt;Ce++)Ut[Ce]=arguments[Ce+2];rt.children=Ut}return I(O.type,gt,rt)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,Q,W){var rt,gt={},bt=null;if(Q!=null)for(rt in Q.key!==void 0&&(bt=""+Q.key),Q)S.call(Q,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Q[rt]);var Ut=arguments.length-2;if(Ut===1)gt.children=W;else if(1<Ut){for(var Ce=Array(Ut),re=0;re<Ut;re++)Ce[re]=arguments[re+2];gt.children=Ce}if(O&&O.defaultProps)for(rt in Ut=O.defaultProps,Ut)gt[rt]===void 0&&(gt[rt]=Ut[rt]);return I(O,bt,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=N,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},_t.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},_t.startTransition=function(O){var Q=C.T,W={};C.T=W;try{var rt=O(),gt=C.S;gt!==null&&gt(W,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Tt,kt)}catch(bt){kt(bt)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),C.T=Q}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(O){return C.H.use(O)},_t.useActionState=function(O,Q,W){return C.H.useActionState(O,Q,W)},_t.useCallback=function(O,Q){return C.H.useCallback(O,Q)},_t.useContext=function(O){return C.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},_t.useEffect=function(O,Q){return C.H.useEffect(O,Q)},_t.useEffectEvent=function(O){return C.H.useEffectEvent(O)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(O,Q,W){return C.H.useImperativeHandle(O,Q,W)},_t.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},_t.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},_t.useMemo=function(O,Q){return C.H.useMemo(O,Q)},_t.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},_t.useReducer=function(O,Q,W){return C.H.useReducer(O,Q,W)},_t.useRef=function(O){return C.H.useRef(O)},_t.useState=function(O){return C.H.useState(O)},_t.useSyncExternalStore=function(O,Q,W){return C.H.useSyncExternalStore(O,Q,W)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.4",_t}var R_;function cm(){return R_||(R_=1,Td.exports=cS()),Td.exports}var Qn=cm(),Ad={exports:{}},fl={},Sd={exports:{}},bd={};var I_;function hS(){return I_||(I_=1,(function(s){function t(H,$){var ut=H.length;H.push($);t:for(;0<ut;){var kt=ut-1>>>1,Ht=H[kt];if(0<l(Ht,$))H[kt]=$,H[ut]=Ht,ut=kt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var $=H[0],ut=H.pop();if(ut!==$){H[0]=ut;t:for(var kt=0,Ht=H.length,O=Ht>>>1;kt<O;){var Q=2*(kt+1)-1,W=H[Q],rt=Q+1,gt=H[rt];if(0>l(W,ut))rt<Ht&&0>l(gt,W)?(H[kt]=gt,H[rt]=ut,kt=rt):(H[kt]=W,H[Q]=ut,kt=Q);else if(rt<Ht&&0>l(gt,ut))H[kt]=gt,H[rt]=ut,kt=rt;else break t}}return $}function l(H,$){var ut=H.sortIndex-$.sortIndex;return ut!==0?ut:H.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,b=null,M=3,K=!1,Z=!1,tt=!1,et=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Kt(H){for(var $=i(_);$!==null;){if($.callback===null)a(_);else if($.startTime<=H)a(_),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(_)}}function mt(H){if(tt=!1,Kt(H),!Z)if(i(v)!==null)Z=!0,Tt||(Tt=!0,U());else{var $=i(_);$!==null&&Ie(mt,$.startTime-H)}}var Tt=!1,C=-1,S=5,I=-1;function V(){return et?!0:!(s.unstable_now()-I<S)}function N(){if(et=!1,Tt){var H=s.unstable_now();I=H;var $=!0;try{t:{Z=!1,tt&&(tt=!1,Et(C),C=-1),K=!0;var ut=M;try{e:{for(Kt(H),b=i(v);b!==null&&!(b.expirationTime>H&&V());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,M=b.priorityLevel;var Ht=kt(b.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,Kt(H),$=!0;break e}b===i(v)&&a(v),Kt(H)}else a(v);b=i(v)}if(b!==null)$=!0;else{var O=i(_);O!==null&&Ie(mt,O.startTime-H),$=!1}}break t}finally{b=null,M=ut,K=!1}$=void 0}}finally{$?U():Tt=!1}}}var U;if(typeof pt=="function")U=function(){pt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,U=function(){ie.postMessage(null)}}else U=function(){ht(N,0)};function Ie(H,$){C=ht(function(){H(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var $=3;break;default:$=M}var ut=M;M=$;try{return H()}finally{M=ut}},s.unstable_requestPaint=function(){et=!0},s.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return $()}finally{M=ut}},s.unstable_scheduleCallback=function(H,$,ut){var kt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:$,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>kt?(H.sortIndex=ut,t(_,H),i(v)===null&&H===i(_)&&(tt?(Et(C),C=-1):tt=!0,Ie(mt,ut-kt))):(H.sortIndex=Ht,t(v,H),Z||K||(Z=!0,Tt||(Tt=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var $=M;return function(){var ut=M;M=$;try{return H.apply(this,arguments)}finally{M=ut}}}})(bd)),bd}var C_;function fS(){return C_||(C_=1,Sd.exports=hS()),Sd.exports}var wd={exports:{}},Qe={};var D_;function dS(){if(D_)return Qe;D_=1;var s=cm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:M,fetchPriority:K}):A==="script"&&a.d.X(v,{crossOrigin:b,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var N_;function mS(){if(N_)return wd.exports;N_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),wd.exports=dS(),wd.exports}var O_;function gS(){if(O_)return fl;O_=1;var s=fS(),t=cm(),i=mS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ht:return"Profiler";case et:return"StrictMode";case mt:return"Suspense";case Tt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case pt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function W(e,n){Ht++,kt[Ht]=e.current,e.current=n}var rt=O(null),gt=O(null),bt=O(null),Ut=O(null);function Ce(e,n){switch(W(bt,n),W(gt,e),W(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(rt),W(rt,e)}function re(){Q(rt),Q(gt),Q(bt)}function Zr(e){e.memoizedState!==null&&W(Ut,e);var n=rt.current,r=Ky(n,e.type);n!==r&&(W(gt,e),W(rt,r))}function Gs(e){gt.current===e&&(Q(rt),Q(gt)),Ut.current===e&&(Q(Ut),ol._currentValue=ut)}var Fs,Qs;function Wn(e){if(Fs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Fs=n&&n[1]||"",Qs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+Qs}var ao=!1;function $r(e,n){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var z=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){z=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){z=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===P.length)for(o=R.length-1,c=P.length-1;1<=o&&0<=c&&R[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==P[c]){var j=`
`+R[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=c);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return Wn("Activity");default:return""}}function lo(e){try{var n="",r=null;do n+=oo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,nr=s.unstable_cancelCallback,Th=s.unstable_shouldYield,Fl=s.unstable_requestPaint,Ze=s.unstable_now,Wr=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,co=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Ql=s.unstable_IdlePriority,Kl=s.log,Yl=s.unstable_setDisableYieldValue,xn=null,ke=null;function vn(e){if(typeof Kl=="function"&&Yl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(xn,e)}catch{}}var ce=Math.clz32?Math.clz32:Jl,Xl=Math.log,Ks=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Xl(e)/Ks|0)|0}var ti=256,ts=262144,pe=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ei(o):(g&=E,g!==0?c=ei(g):r||(r=E&~e,r!==0&&(c=ei(r))))):(E=o&~f,E!==0?c=ei(E):g!==0?c=ei(g):r||(r=o&~e,r!==0&&(c=ei(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,r,o,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var j=31-ce(r),F=1<<j;E[j]=0,R[j]=-1;var z=P[j];if(z!==null)for(P[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}r&=~F}o!==0&&ns(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ns(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ho(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function fo(e,n){var r=n&-n;return r=(r&42)!==0?1:is(r),(r&(e.suspendedLanes|n))!==0?0:r}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:p_(e.type))}function Ln(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var kn=Math.random().toString(36).slice(2),ye="__reactFiber$"+kn,Me="__reactProps$"+kn,ri="__reactContainer$"+kn,Ys="__reactEvents$"+kn,wh="__reactListeners$"+kn,Wl="__reactHandles$"+kn,tu="__reactResources$"+kn,si="__reactMarker$"+kn;function Xs(e){delete e[ye],delete e[Me],delete e[Ys],delete e[wh],delete e[Wl]}function ai(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=t_(e);e!==null;){if(r=e[ye])return r;e=t_(e)}return n}e=r,r=e.parentNode}return null}function En(e){if(e=e[ye]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var mo=new Set,go={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function eu(e){return ge.call(_o,e)?!0:ge.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function Js(e,n,r){if(eu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ss=/[\n"\\]/g;function en(e){return e.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,r,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,g,xe(n)):r!=null?Eo(e,g,xe(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function nu(e,n,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Eo(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function iu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ru.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ao(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&To(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var So=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,hi=null;function as(e){var n=En(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Me]||null;if(!c)throw Error(a(90));Zs(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&rs(o)}break t;case"textarea":iu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ta=!1;function ur(e,n,r){if(ta)return e(n,r);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(lr!==null||hi!==null)&&($u(),lr&&(n=lr,e=hi,hi=lr=null,as(n),e)))for(n=0;n<e.length;n++)as(e[n])}}function zn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){os=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{os=!1}var fi=null,bo=null,ls=null;function wo(){if(ls)return ls;var e,n=bo,r=n.length,o,c="value"in fi?fi.value:fi.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===c[f-o];o++);return ls=c.slice(e,1<o?1-o:void 0)}function us(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function Bn(){return!1}function Pe(e){function n(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Pe(Oi),cr=b({},Oi,{view:0,detail:0}),Ro=Pe(cr),hr,ea,mi,na=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(hr=e.screenX-mi.screenX,ea=e.screenY-mi.screenY):ea=hr=0,mi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Io=Pe(na),cs=b({},na,{dataTransfer:0}),au=Pe(cs),ou=b({},cr,{relatedTarget:0}),hs=Pe(ou),Co=b({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Pe(Co),ia=b({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=Pe(ia),cu=b({},Oi,{data:0}),gi=Pe(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function fr(){return mu}var $e=b({},cr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Pe($e),pu=b({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=Pe(pu),u=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Pe(u),y=b({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),L=b({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),J=b({},Oi,{newState:0,oldState:0}),At=Pe(J),he=[9,13,27,32],Bt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var Sn=An&&"TextEvent"in window&&!se,pi=An&&(!Bt||se&&8<se&&11>=se),qn=" ",jn=!1;function fs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function V0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(jn=!0,qn);case"textInput":return e=n.data,e===qn&&jn?null:e;default:return null}}function M0(e,n){if(sa)return e==="compositionend"||!Bt&&fs(e,n)?(e=wo(),ls=bo=fi=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!x0[e.type]:n==="textarea"}function rg(e,n,r,o){lr?hi?hi.push(o):hi=[o]:lr=o,n=sc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Do=null,No=null;function U0(e){By(e,0)}function yu(e){var n=cn(e);if(rs(n))return e}function sg(e,n){if(e==="change")return n}var ag=!1;if(An){var Rh;if(An){var Ih="oninput"in document;if(!Ih){var og=document.createElement("div");og.setAttribute("oninput","return;"),Ih=typeof og.oninput=="function"}Rh=Ih}else Rh=!1;ag=Rh&&(!document.documentMode||9<document.documentMode)}function lg(){Do&&(Do.detachEvent("onpropertychange",ug),No=Do=null)}function ug(e){if(e.propertyName==="value"&&yu(No)){var n=[];rg(n,No,e,Tn(e)),ur(U0,n)}}function L0(e,n,r){e==="focusin"?(lg(),Do=n,No=r,Do.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(No)}function P0(e,n){if(e==="click")return yu(n)}function z0(e,n){if(e==="input"||e==="change")return yu(n)}function B0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:B0;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!ge.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,n){var r=cg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cg(r)}}function fg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var q0=An&&"documentMode"in document&&11>=document.documentMode,aa=null,Dh=null,Vo=null,Nh=!1;function mg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||aa==null||aa!==ci(o)||(o=aa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=sc(Dh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=aa)))}function ds(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var oa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Oh={},gg={};An&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function ms(e){if(Oh[e])return Oh[e];if(!oa[e])return e;var n=oa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in gg)return Oh[e]=n[r];return e}var pg=ms("animationend"),yg=ms("animationiteration"),_g=ms("animationstart"),j0=ms("transitionrun"),H0=ms("transitionstart"),G0=ms("transitioncancel"),vg=ms("transitionend"),Eg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Hn(e,n){Eg.set(e,n),li(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bn=[],la=0,Mh=0;function vu(){for(var e=la,n=Mh=la=0;n<e;){var r=bn[n];bn[n++]=null;var o=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&Tg(r,c,f)}}function Eu(e,n,r,o){bn[la++]=e,bn[la++]=n,bn[la++]=r,bn[la++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,r,o){return Eu(e,n,r,o),Tu(e)}function gs(e,n){return Eu(e,null,null,n),Tu(e)}function Tg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-ce(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function Tu(e){if(50<tl)throw tl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function F0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new F0(e,n,r,o)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ag(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,r,o,c,f){var g=0;if(o=e,typeof e=="function")Uh(e)&&(g=1);else if(typeof e=="string")g=JA(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,c),e.elementType=I,e.lanes=f,e;case tt:return ps(r.children,c,f,n);case et:g=8,c|=24;break;case ht:return e=dn(12,r,n,c|2),e.elementType=ht,e.lanes=f,e;case mt:return e=dn(13,r,n,c),e.elementType=mt,e.lanes=f,e;case Tt:return e=dn(19,r,n,c),e.elementType=Tt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case Et:g=9;break t;case Kt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function ps(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Lh(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function Sg(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=bg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:lo(n)},bg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ca=[],ha=0,Su=null,Mo=0,Rn=[],In=0,dr=null,yi=1,_i="";function xi(e,n){ca[ha++]=Mo,ca[ha++]=Su,Su=e,Mo=n}function wg(e,n,r){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=dr,dr=e;var o=yi;e=_i;var c=32-ce(o)-1;o&=~(1<<c),r+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,yi=1<<32-ce(n)+c|r<<c|o,_i=f+e}else yi=1<<f|r<<c|o,_i=e}function Ph(e){e.return!==null&&(xi(e,1),wg(e,1,0))}function zh(e){for(;e===Su;)Su=ca[--ha],ca[ha]=null,Mo=ca[--ha],ca[ha]=null;for(;e===dr;)dr=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null,yi=Rn[--In],Rn[In]=null}function Rg(e,n){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=dr,yi=n.id,_i=n.overflow,dr=e}var ze=null,te=null,xt=!1,mr=null,Cn=!1,Bh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(wn(n,e)),Bh}function Ig(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Me]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<nl.length;r++)Ct(nl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Gy(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||gr(e,!0)}function Cg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function fa(e){if(e!==ze)return!1;if(!xt)return Cg(e),xt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||sd(e.type,e.memoizedProps)),r=!r),r&&te&&gr(e),Cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Wy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Wy(e)}else n===27?(n=te,Dr(e.type)?(e=cd,cd=null,te=e):te=n):te=ze?Nn(e.stateNode.nextSibling):null;return!0}function ys(){te=ze=null,xt=!1}function qh(){var e=mr;return e!==null&&(on===null?on=e:on.push.apply(on,e),mr=null),e}function xo(e){mr===null?mr=[e]:mr.push(e)}var jh=O(null),_s=null,Ui=null;function pr(e,n,r){W(jh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=jh.current,Q(jh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Hh(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function da(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ut.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}c=c.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Dg(_s,e)}function wu(e,n){return _s===null&&vs(e),Dg(e,n)}function Dg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},K0=s.unstable_scheduleCallback,Y0=s.unstable_NormalPriority,Ee={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new Q0,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&K0(Y0,function(){e.controller.abort()})}var Lo=null,Qh=0,ma=0,ga=null;function X0(e,n){if(Lo===null){var r=Lo=[];Qh=0,ma=Jf(),ga={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Ng,Ng),n}function Ng(){if(--Qh===0&&Lo!==null){ga!==null&&(ga.status="fulfilled");var e=Lo;Lo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function J0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Og=H.S;H.S=function(e,n){my=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&X0(e,n),Og!==null&&Og(e,n)};var Es=O(null);function Kh(){var e=Es.current;return e!==null?e:$t.pooledCache}function Ru(e,n){n===null?W(Es,Es.current):W(Es,n.pool)}function Vg(){var e=Kh();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(a(460)),Yh=Error(a(474)),Iu=Error(a(542)),Cu={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Pn,Pn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw As=n,pa}}function Ts(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(As=r,pa):r}}var As=null;function Ug(){if(As===null)throw Error(a(459));var e=As;return As=null,e}function Lg(e){if(e===pa||e===Iu)throw Error(a(483))}var ya=null,ko=0;function Du(e){var n=ko;return ko+=1,ya===null&&(ya=[]),xg(ya,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function kg(e){function n(x,D){if(e){var k=x.deletions;k===null?(x.deletions=[D],x.flags|=16):k.push(D)}}function r(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=Mi(x,D),x.index=0,x.sibling=null,x}function f(x,D,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<D?(x.flags|=67108866,D):k):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,k,G){return D===null||D.tag!==6?(D=Lh(k,x.mode,G),D.return=x,D):(D=c(D,k),D.return=x,D)}function R(x,D,k,G){var ot=k.type;return ot===tt?j(x,D,k.props.children,G,k.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Ts(ot)===D.type)?(D=c(D,k.props),Po(D,k),D.return=x,D):(D=Au(k.type,k.key,k.props,null,x.mode,G),Po(D,k),D.return=x,D)}function P(x,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=kh(k,x.mode,G),D.return=x,D):(D=c(D,k.children||[]),D.return=x,D)}function j(x,D,k,G,ot){return D===null||D.tag!==7?(D=ps(k,x.mode,G,ot),D.return=x,D):(D=c(D,k),D.return=x,D)}function F(x,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Lh(""+D,x.mode,k),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case K:return k=Au(D.type,D.key,D.props,null,x.mode,k),Po(k,D),k.return=x,k;case Z:return D=kh(D,x.mode,k),D.return=x,D;case S:return D=Ts(D),F(x,D,k)}if(Ie(D)||U(D))return D=ps(D,x.mode,k,null),D.return=x,D;if(typeof D.then=="function")return F(x,Du(D),k);if(D.$$typeof===pt)return F(x,wu(x,D),k);Nu(x,D)}return null}function z(x,D,k,G){var ot=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(x,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ot?R(x,D,k,G):null;case Z:return k.key===ot?P(x,D,k,G):null;case S:return k=Ts(k),z(x,D,k,G)}if(Ie(k)||U(k))return ot!==null?null:j(x,D,k,G,null);if(typeof k.then=="function")return z(x,D,Du(k),G);if(k.$$typeof===pt)return z(x,D,wu(x,k),G);Nu(x,k)}return null}function q(x,D,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(k)||null,E(D,x,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return x=x.get(G.key===null?k:G.key)||null,R(D,x,G,ot);case Z:return x=x.get(G.key===null?k:G.key)||null,P(D,x,G,ot);case S:return G=Ts(G),q(x,D,k,G,ot)}if(Ie(G)||U(G))return x=x.get(k)||null,j(D,x,G,ot,null);if(typeof G.then=="function")return q(x,D,k,Du(G),ot);if(G.$$typeof===pt)return q(x,D,k,wu(D,G),ot);Nu(D,G)}return null}function st(x,D,k,G){for(var ot=null,Pt=null,at=D,wt=D=0,Nt=null;at!==null&&wt<k.length;wt++){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var zt=z(x,at,k[wt],G);if(zt===null){at===null&&(at=Nt);break}e&&at&&zt.alternate===null&&n(x,at),D=f(zt,D,wt),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt,at=Nt}if(wt===k.length)return r(x,at),xt&&xi(x,wt),ot;if(at===null){for(;wt<k.length;wt++)at=F(x,k[wt],G),at!==null&&(D=f(at,D,wt),Pt===null?ot=at:Pt.sibling=at,Pt=at);return xt&&xi(x,wt),ot}for(at=o(at);wt<k.length;wt++)Nt=q(at,x,wt,k[wt],G),Nt!==null&&(e&&Nt.alternate!==null&&at.delete(Nt.key===null?wt:Nt.key),D=f(Nt,D,wt),Pt===null?ot=Nt:Pt.sibling=Nt,Pt=Nt);return e&&at.forEach(function(xr){return n(x,xr)}),xt&&xi(x,wt),ot}function ct(x,D,k,G){if(k==null)throw Error(a(151));for(var ot=null,Pt=null,at=D,wt=D=0,Nt=null,zt=k.next();at!==null&&!zt.done;wt++,zt=k.next()){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var xr=z(x,at,zt.value,G);if(xr===null){at===null&&(at=Nt);break}e&&at&&xr.alternate===null&&n(x,at),D=f(xr,D,wt),Pt===null?ot=xr:Pt.sibling=xr,Pt=xr,at=Nt}if(zt.done)return r(x,at),xt&&xi(x,wt),ot;if(at===null){for(;!zt.done;wt++,zt=k.next())zt=F(x,zt.value,G),zt!==null&&(D=f(zt,D,wt),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt);return xt&&xi(x,wt),ot}for(at=o(at);!zt.done;wt++,zt=k.next())zt=q(at,x,wt,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?wt:zt.key),D=f(zt,D,wt),Pt===null?ot=zt:Pt.sibling=zt,Pt=zt);return e&&at.forEach(function(oS){return n(x,oS)}),xt&&xi(x,wt),ot}function Zt(x,D,k,G){if(typeof k=="object"&&k!==null&&k.type===tt&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ot=k.key;D!==null;){if(D.key===ot){if(ot=k.type,ot===tt){if(D.tag===7){r(x,D.sibling),G=c(D,k.props.children),G.return=x,x=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Ts(ot)===D.type){r(x,D.sibling),G=c(D,k.props),Po(G,k),G.return=x,x=G;break t}r(x,D);break}else n(x,D);D=D.sibling}k.type===tt?(G=ps(k.props.children,x.mode,G,k.key),G.return=x,x=G):(G=Au(k.type,k.key,k.props,null,x.mode,G),Po(G,k),G.return=x,x=G)}return g(x);case Z:t:{for(ot=k.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){r(x,D.sibling),G=c(D,k.children||[]),G.return=x,x=G;break t}else{r(x,D);break}else n(x,D);D=D.sibling}G=kh(k,x.mode,G),G.return=x,x=G}return g(x);case S:return k=Ts(k),Zt(x,D,k,G)}if(Ie(k))return st(x,D,k,G);if(U(k)){if(ot=U(k),typeof ot!="function")throw Error(a(150));return k=ot.call(k),ct(x,D,k,G)}if(typeof k.then=="function")return Zt(x,D,Du(k),G);if(k.$$typeof===pt)return Zt(x,D,wu(x,k),G);Nu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(r(x,D.sibling),G=c(D,k),G.return=x,x=G):(r(x,D),G=Lh(k,x.mode,G),G.return=x,x=G),g(x)):r(x,D)}return function(x,D,k,G){try{ko=0;var ot=Zt(x,D,k,G);return ya=null,ot}catch(at){if(at===pa||at===Iu)throw at;var Pt=dn(29,at,null,x.mode);return Pt.lanes=G,Pt.return=x,Pt}}}var Ss=kg(!0),Pg=kg(!1),yr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Tu(e),Tg(e,null,r),n}return Eu(e,o,n,r),Tu(e)}function zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}function Zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var $h=!1;function Bo(){if($h){var e=ga;if(e!==null)throw e}}function qo(e,n,r,o){$h=!1;var c=e.updateQueue;yr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=P:E.next=P,j.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,j=P=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===ma&&($h=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ct=E;z=n;var Zt=r;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){F=st.call(Zt,F,z);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call(Zt,F,z):st,z==null)break t;F=b({},F,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(P=j=q,R=F):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=F}}function zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zg(r[e],n)}var _a=O(null),Ou=O(0);function qg(e,n){e=Fi,W(Ou,e),W(_a,n),Fi=e|n.baseLanes}function Wh(){W(Ou,Fi),W(_a,_a.current)}function tf(){Fi=Ou.current,Q(_a),Q(Ou)}var mn=O(null),Dn=null;function Er(e){var n=e.alternate;W(fe,fe.current&1),W(mn,e),Dn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Dn=e)}function ef(e){W(fe,fe.current),W(mn,e),Dn===null&&(Dn=e)}function jg(e){e.tag===22?(W(fe,fe.current),W(mn,e),Dn===null&&(Dn=e)):Tr()}function Tr(){W(fe,fe.current),W(mn,mn.current)}function gn(e){Q(mn),Dn===e&&(Dn=null),Q(fe)}var fe=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ld(r)||ud(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,St=null,Xt=null,Te=null,Mu=!1,va=!1,bs=!1,xu=0,jo=0,Ea=null,Z0=0;function le(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function rf(e,n,r,o,c,f){return ki=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?wp:vf,bs=!1,f=r(o,c),bs=!1,va&&(f=Gg(n,r,o,c)),Hg(e),f}function Hg(e){H.H=Fo;var n=Xt!==null&&Xt.next!==null;if(ki=0,Te=Xt=St=null,Mu=!1,jo=0,Ea=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&bu(e)&&(Ae=!0))}function Gg(e,n,r,o){St=e;var c=0;do{if(va&&(Ea=null),jo=0,va=!1,25<=c)throw Error(a(301));if(c+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Rp,f=n(r,o)}while(va);return f}function $0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(St.flags|=1024),n}function sf(){var e=xu!==0;return xu=0,e}function af(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function of(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}ki=0,Te=Xt=St=null,va=!1,jo=xu=0,Ea=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?St.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?St.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?St.memoizedState=Te=e:Te=Te.next=e}return Te}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),e=xg(Ea,e,n),n=St,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?wp:vf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===pt)return Be(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Uu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function Pi(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=de();return uf(n,Xt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,R=null,P=n,j=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Dt&F)===F:(ki&F)===F){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===ma&&(j=!0);else if((ki&z)===z){P=P.next,z===ma&&(j=!0);continue}else F={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,St.lanes|=z,br|=z;F=P.action,bs&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else z={lane:F,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,St.lanes|=F,br|=F;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!fn(f,e.memoizedState)&&(Ae=!0,j&&(r=ga,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Fg(e,n,r){var o=St,c=de(),f=xt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!fn((Xt||c).memoizedState,r);if(g&&(c.memoizedState=r,Ae=!0),c=c.queue,df(Yg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},Kg.bind(null,o,c,r,n),null),$t===null)throw Error(a(349));f||(ki&127)!==0||Qg(o,n,r)}return r}function Qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Uu(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Kg(e,n,r,o){n.value=r,n.getSnapshot=o,Xg(n)&&Jg(e)}function Yg(e,n,r){return r(function(){Xg(n)&&Jg(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Jg(e){var n=gs(e,2);n!==null&&ln(n,e,2)}function hf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),bs){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Zg(e,n,r,o){return e.baseState=r,uf(e,Xt,typeof o=="function"?o:Pi)}function W0(e,n,r,o,c){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,$g(n,f)):(f.next=r.next,n.pending=r.next=f)}}function $g(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(c,o),R=H.S;R!==null&&R(g,E),Wg(e,n,E)}catch(P){ff(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(c,o),Wg(e,n,f)}catch(P){ff(e,n,P)}}function Wg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){tp(e,n,o)},function(o){return ff(e,n,o)}):tp(e,n,r)}function tp(e,n,r){n.status="fulfilled",n.value=r,ep(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,$g(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(xt){var r=$t.formState;if(r!==null){t:{var o=St;if(xt){if(te){e:{for(var c=te,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=Nn(c.nextSibling),o=c.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},r.queue=o,r=Ap.bind(null,St,o),o.dispatch=r,o=hf(!1),f=_f.bind(null,St,!1,o.queue),o=We(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=W0.bind(null,St,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function rp(e){var n=de();return sp(n,Xt,e)}function sp(e,n,r){if(n=uf(e,n,np)[0],e=ku(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===pa?Iu:g}else o=n;n=de();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Ta(9,{destroy:void 0},tA.bind(null,c,r),null)),[o,f,e]}function tA(e,n){e.action=n}function ap(e){var n=de(),r=Xt;if(r!==null)return sp(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ta(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Uu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function op(){return de().memoizedState}function Pu(e,n,r,o){var c=We();St.flags|=e,c.memoizedState=Ta(1|n,{destroy:void 0},r,o===void 0?null:o)}function zu(e,n,r,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&nf(o,Xt.memoizedState.deps)?c.memoizedState=Ta(n,f,r,o):(St.flags|=e,c.memoizedState=Ta(1|n,f,r,o))}function lp(e,n){Pu(8390656,8,e,n)}function df(e,n){zu(2048,8,e,n)}function eA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Uu(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function up(e){var n=de().memoizedState;return eA({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function cp(e,n){return zu(4,2,e,n)}function hp(e,n){return zu(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,r){r=r!=null?r.concat([e]):null,zu(4,4,fp.bind(null,n,e),r)}function mf(){}function mp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function gp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),bs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o}function gf(e,n,r){return r===void 0||(ki&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=py(),St.lanes|=e,br|=e,r)}function pp(e,n,r,o){return fn(r,n)?r:_a.current!==null?(e=gf(e,r,o),fn(e,n)||(Ae=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=r):(e=py(),St.lanes|=e,br|=e,n)}function yp(e,n,r,o,c){var f=$.p;$.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,_f(e,!1,n,r);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=J0(R,o);Go(e,n,j,_n(e))}else Go(e,n,o,_n(e))}catch(F){Go(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function nA(){}function pf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=_p(e).queue;yp(e,c,n,ut,r===null?nA:function(){return vp(e),r(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},_n())}function yf(){return Be(ol)}function Ep(){return de().memoizedState}function Tp(){return de().memoizedState}function iA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=_r(r);var o=vr(n,e,r);o!==null&&(ln(o,n,r),zo(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function rA(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Sp(n,r):(r=xh(e,n,r,o),r!==null&&(ln(r,e,o),bp(r,n,o)))}function Ap(e,n,r){var o=_n();Go(e,n,r,o)}function Go(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Sp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Eu(e,n,c,0),$t===null&&vu(),!1}catch{}if(r=xh(e,n,c,o),r!==null)return ln(r,e,o),bp(r,n,o),!0}return!1}function _f(e,n,r,o){if(o={lane:2,revertLane:Jf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=xh(e,r,o,2),n!==null&&ln(n,e,2)}function Bu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Sp(e,n){va=Mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function bp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}var Fo={readContext:Be,use:Lu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Fo.useEffectEvent=le;var wp={readContext:Be,use:Lu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:lp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Pu(4194308,4,fp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(bs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var c=r(n);if(bs){vn(!0);try{r(n)}finally{vn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=rA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=Ap.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:mf,useDeferredValue:function(e,n){var r=We();return gf(r,e,n)},useTransition:function(){var e=hf(!1);return e=yp.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,c=We();if(xt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Dt&127)!==0||Qg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},Kg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=$t.identifierPrefix;if(xt){var r=_i,o=yi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=xu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=Z0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_f.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return We().memoizedState=iA.bind(null,St)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:Be,use:Lu,useCallback:mp,useContext:Be,useEffect:df,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:ku,useRef:op,useState:function(){return ku(Pi)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return pp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=ku(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:yf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var r=de();return Zg(r,Xt,e,n)},useMemoCache:lf,useCacheRefresh:Tp};vf.useEffectEvent=up;var Rp={readContext:Be,use:Lu,useCallback:mp,useContext:Be,useEffect:df,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:cf,useRef:op,useState:function(){return cf(Pi)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return Xt===null?gf(r,e,n):pp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=cf(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Fg,useId:Ep,useHostTransitionStatus:yf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var r=de();return Xt!==null?Zg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Tp};Rp.useEffectEvent=up;function Ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),c=_r(o);c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),c=_r(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(ln(n,e,r),zo(n,e,r))}};function Ip(e,n,r,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(c,f):!0}function Cp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function ws(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Dp(e){_u(e)}function Np(e){console.error(e)}function Op(e){_u(e)}function qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Af(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,n)},r}function Mp(e){return e=_r(e),e.tag=3,e}function xp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Vp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vp(n,r,o),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function sA(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&da(n,r,c,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Dn===null?Wu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Kf(e,o,c)),!1;case 22:return r.flags|=65536,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Kf(e,o,c)),!1}throw Error(a(435,r.tag))}return Kf(e,o,c),Wu(),!1}if(xt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Bh&&(e=Error(a(422),{cause:o}),xo(wn(e,r)))):(o!==Bh&&(n=Error(a(423),{cause:o}),xo(wn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=wn(o,r),c=Af(e.stateNode,o,c),Zh(e,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,r),Wo===null?Wo=[f]:Wo.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Af(r.stateNode,o,e),Zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Mp(c),xp(c,e,r,o),Zh(r,c),!1}r=r.return}while(r!==null);return!1}var Sf=Error(a(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?Pg(n,null,r,o):Ss(n,e.child,r,o)}function Up(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return vs(n),o=rf(e,n,r,g,f,c),E=sf(),e!==null&&!Ae?(af(e,n,c),zi(e,n,c)):(xt&&E&&Ph(n),n.flags|=1,qe(e,n,o,c),n.child)}function Lp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Uh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,kp(e,n,f,o,c)):(e=Au(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(g,o)&&e.ref===n.ref)return zi(e,n,c)}return n.flags|=1,e=Mi(f,o),e.ref=n.ref,e.return=n,n.child=e}function kp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,c)}return bf(e,n,r,o,c)}function Pp(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return zp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?qg(n,f):Wh(),jg(n);else return o=n.lanes=536870912,zp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ru(n,f.cachePool),qg(n,f),Tr(),n.memoizedState=null):(e!==null&&Ru(n,null),Wh(),Tr());return qe(e,n,c,r),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zp(e,n,r,o,c){var f=Kh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ru(n,null),Wh(),jg(n),e!==null&&da(e,n,o,!0),n.childLanes=c,null}function ju(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,r){return Ss(n,e.child,null,r),e=ju(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function aA(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Qo(null,e);if(ef(n),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),c)if(n.flags&256)n.flags&=-257,n=Bp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||da(e,n,r,!1),c=(r&e.childLanes)!==0,Ae||c){if(o=$t,o!==null&&(g=fo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,gs(e,g),ln(o,e,g),Sf;Wu(),n=Bp(e,n,r)}else e=f.treeContext,te=Nn(g.nextSibling),ze=n,xt=!0,mr=null,Cn=!1,e!==null&&Rg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function bf(e,n,r,o,c){return vs(n),r=rf(e,n,r,o,void 0,c),o=sf(),e!==null&&!Ae?(af(e,n,c),zi(e,n,c)):(xt&&o&&Ph(n),n.flags|=1,qe(e,n,r,c),n.child)}function qp(e,n,r,o,c,f){return vs(n),n.updateQueue=null,r=Gg(n,o,r,c),Hg(e),o=sf(),e!==null&&!Ae?(af(e,n,f),zi(e,n,f)):(xt&&o&&Ph(n),n.flags|=1,qe(e,n,r,f),n.child)}function jp(e,n,r,o,c){if(vs(n),n.stateNode===null){var f=ua,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ua,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),qo(n,o,f,c),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=ws(r,E);f.props=R;var P=f.context,j=r.contextType;g=ua,typeof j=="object"&&j!==null&&(g=Be(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Cp(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,c),Bo(),P=n.memoizedState,E||z!==P||yr?(typeof F=="function"&&(Ef(n,r,F,o),P=n.memoizedState),(R=yr||Ip(n,r,R,o,z,P,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Jh(e,n),g=n.memoizedProps,j=ws(r,g),f.props=j,F=n.pendingProps,z=f.context,P=r.contextType,R=ua,typeof P=="object"&&P!==null&&(R=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==R)&&Cp(n,f,o,R),yr=!1,z=n.memoizedState,f.state=z,qo(n,o,f,c),Bo();var q=n.memoizedState;g!==F||z!==q||yr||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(Ef(n,r,E,o),q=n.memoizedState),(j=yr||Ip(n,r,j,o,z,q,R)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Hu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ss(n,e.child,null,c),n.child=Ss(n,null,r,c)):qe(e,n,r,c),n.memoizedState=f.state,e=n.child):e=zi(e,n,c),e}function Hp(e,n,r,o){return ys(),n.flags|=256,qe(e,n,r,o),n.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:Vg()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function Gp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(c?Er(n):Tr(),(e=te)?(e=$y(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Sg(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Tr(),c=n.mode,E=Gu({mode:"hidden",children:E},c),o=ps(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,g,r),n.memoizedState=wf,Qo(null,o)):(Er(n),Cf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Df(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,c=n.mode,o=Gu({mode:"visible",children:o.children},c),E=ps(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ss(n,e.child,null,r),o=n.child,o.memoizedState=Rf(r),o.childLanes=If(e,g,r),n.memoizedState=wf,n=Qo(null,o));else if(Er(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=Df(e,n,r)}else if(Ae||da(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=fo(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,gs(e,o),ln(g,e,o),Sf;ld(E)||Wu(),n=Df(e,n,r)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Nn(E.nextSibling),ze=n,xt=!0,mr=null,Cn=!1,e!==null&&Rg(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return c?(Tr(),E=o.fallback,c=n.mode,R=e.child,P=R.sibling,o=Mi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=ps(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Rf(r):(c=E.cachePool,c!==null?(R=Ee._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=Vg(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=If(e,g,r),n.memoizedState=wf,Qo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Cf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Df(e,n,r){return Ss(n,e.child,null,r),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function Nf(e,n,r,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Qp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(fe,g),qe(e,n,o,r),o=xt?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,n);else if(e.tag===19)Fp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Vu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Nf(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Vu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(da(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function oA(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),pr(n,Ee,e.memoizedState.cache),ys();break;case 27:case 5:Zr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Gp(e,n,r):(Er(n),e=zi(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(da(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Qp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Pp(e,n,r,n.pendingProps);case 24:pr(n,Ee,e.memoizedState.cache)}return zi(e,n,r)}function Kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Ae=!1,oA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,xt&&(n.flags&1048576)!==0&&wg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ts(n.elementType),n.type=e,typeof e=="function")Uh(e)?(o=ws(e,o),n.tag=1,n=jp(null,n,e,o,r)):(n.tag=0,n=bf(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===Kt){n.tag=11,n=Up(null,n,e,o,r);break t}else if(c===C){n.tag=14,n=Lp(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=ws(o,n.pendingProps),jp(e,n,o,c,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Jh(e,n),qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,pr(n,Ee,o),o!==f.cache&&Gh(n,[Ee],r,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hp(e,n,o,r);break t}else if(o!==c){c=wn(Error(a(424)),n),xo(c),n=Hp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Nn(e.firstChild),ze=n,xt=!0,mr=null,Cn=!0,r=Pg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ys(),o===c){n=zi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Hu(e,n),e===null?(r=r_(n.type,null,n.pendingProps,null))?n.memoizedState=r:xt||(r=n.type,e=n.pendingProps,o=ac(bt.current).createElement(r),o[ye]=n,o[Me]=e,je(o,r,e),_e(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zr(n),e===null&&xt&&(o=n.stateNode=e_(n.type,n.pendingProps,bt.current),ze=n,Cn=!0,c=te,Dr(n.type)?(cd=c,te=Nn(o.firstChild)):te=c),qe(e,n,n.pendingProps.children,r),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((c=o=te)&&(o=kA(o,n.type,n.pendingProps,Cn),o!==null?(n.stateNode=o,ze=n,te=Nn(o.firstChild),Cn=!1,c=!0):c=!1),c||gr(n)),Zr(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,sd(c,f)?o=null:g!==null&&sd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=rf(e,n,$0,null,null,r),ol._currentValue=c),Hu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&xt&&((e=r=te)&&(r=PA(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return Gp(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ss(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Up(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,vs(n),c=Be(c),o=o(c),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,r);case 15:return kp(e,n,n.type,n.pendingProps,r);case 19:return Qp(e,n,r);case 31:return aA(e,n,r);case 22:return Pp(e,n,r,n.pendingProps);case 24:return vs(n),o=Be(Ee),e===null?(c=Kh(),c===null&&(c=$t,f=Fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Xh(n),pr(n,Ee,c)):((e.lanes&r)!==0&&(Jh(e,n),qo(n,null,null,r),Bo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),pr(n,Ee,o)):(o=f.cache,pr(n,Ee,o),o!==c.cache&&Gh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Vf(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw As=Cu,Yh}else e.flags&=-16777217}function Yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Ey())e.flags|=8192;else throw As=Cu,Yh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function lA(e,n,r){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),Yp(n,f)):(ee(n),Vf(n,c,null,o,r))):f?f!==e.memoizedState?(Bi(n),ee(n),Yp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ee(n),Vf(n,c,e,o,r)),null;case 27:if(Gs(n),r=bt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=rt.current,fa(n)?Ig(n):(e=e_(c,o,r),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Gs(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=rt.current,fa(n))Ig(n);else{var g=ac(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ye]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ee(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,fa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,r)),e||gr(n,!0)}else e=ac(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&td(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return ee(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Ko(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ag(r,e),r=r.sibling;return W(fe,fe.current&1|2),xt&&xi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ze()>Ju&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304)}else{if(!c)if(e=Vu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!xt)return ee(n),null}else 2*Ze()-o.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,c=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,r=fe.current,W(fe,c?r&1|2:r&1),xt&&xi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Fu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function uA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Gs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return gn(n),tf(),e!==null&&Q(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function Xp(e,n){switch(zh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Gs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(fe);break;case 10:Li(n.type);break;case 22:case 23:gn(n),tf(),e!==null&&Q(Es);break;case 24:Li(Ee)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=r,P=E;try{P()}catch(j){Qt(c,R,j)}}}o=o.next}while(o!==f)}}catch(j){Qt(n,n.return,j)}}function Jp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Bg(n,r)}catch(o){Qt(e,e.return,o)}}}function Zp(e,n,r){r.props=ws(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Xo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Qt(e,n,c)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Qt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(e,n,c)}else r.current=null}function $p(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Qt(e,e.return,c)}}function Mf(e,n,r){try{var o=e.stateNode;OA(o,e.type,r,n),o[Me]=n}catch(c){Qt(e,e.return,c)}}function Wp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Pn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Uf(e,n,r),e=e.sibling;e!==null;)Uf(e,n,r),e=e.sibling}function Qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qu(e,n,r),e=e.sibling;e!==null;)Qu(e,n,r),e=e.sibling}function ty(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,o,r),n[ye]=e,n[Me]=r}catch(f){Qt(e,e.return,f)}}var qi=!1,Se=!1,Lf=!1,ey=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function cA(e,n){if(e=e.containerInfo,id=dc,e=dg(e),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,P=0,j=0,F=e,z=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=g+c),F!==f||o!==0&&F.nodeType!==3||(R=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)z=F,F=q;for(;;){if(F===e)break e;if(z===r&&++P===c&&(E=g),z===f&&++j===o&&(R=g),(q=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=ws(r.type,c);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Qt(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)od(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ny(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),o&4&&Yo(5,r);break;case 1:if(Hi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var c=ws(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Jp(r),o&512&&Xo(r,r.return);break;case 3:if(Hi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Bg(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&ty(r);case 26:case 5:Hi(e,r),n===null&&o&4&&$p(r),o&512&&Xo(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),o&4&&sy(e,r);break;case 13:Hi(e,r),o&4&&ay(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=vA.bind(null,r),zA(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||Se,c=qi;var f=Se;qi=o,(Se=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),qi=c,Se=f}break;case 30:break;default:Hi(e,r)}}function iy(e){var n=e.alternate;n!==null&&(e.alternate=null,iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function ji(e,n,r){for(r=r.child;r!==null;)ry(e,n,r),r=r.sibling}function ry(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(xn,r)}catch{}switch(r.tag){case 26:Se||vi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||vi(r,n);var o=ae,c=rn;Dr(r.type)&&(ae=r.stateNode,rn=!1),ji(e,n,r),rl(r.stateNode),ae=o,rn=c;break;case 5:Se||vi(r,n);case 6:if(o=ae,c=rn,ae=null,ji(e,n,r),ae=o,rn=c,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ma(e)):Jy(ae,r.stateNode));break;case 4:o=ae,c=rn,ae=r.stateNode.containerInfo,rn=!0,ji(e,n,r),ae=o,rn=c;break;case 0:case 11:case 14:case 15:Ar(2,r,n),Se||Ar(4,r,n),ji(e,n,r);break;case 1:Se||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Zp(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,ji(e,n,r),Se=o;break;default:ji(e,n,r)}}function sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(r){Qt(n,n.return,r)}}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(r){Qt(n,n.return,r)}}function hA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ey),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ey),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var r=hA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=EA.bind(null,e,o);o.then(c,c)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));ry(f,g,c),ae=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Gn=null;function oy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Ar(3,e,e.return),Yo(3,e),Ar(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Gn;if(sn(n,e),an(e),o&512&&(Se||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[si]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=o_("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;case"meta":if(g=o_("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else l_(c,e.type,e.stateNode);else e.stateNode=a_(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?l_(c,e.type,e.stateNode):a_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||vi(r,r.return)),r!==null&&o&4&&Mf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||vi(r,r.return)),e.flags&32){c=e.stateNode;try{nn(c,"")}catch(st){Qt(e,e.return,st)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Mf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Lf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Qt(e,e.return,st)}}break;case 3:if(uc=null,c=Gn,Gn=oc(n.containerInfo),sn(n,e),Gn=c,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(st){Qt(e,e.return,st)}Lf&&(Lf=!1,ly(e));break;case 4:o=Gn,Gn=oc(e.stateNode.containerInfo),sn(n,e),an(e),Gn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:c=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=qi,j=Se;if(qi=P||c,Se=j||R,sn(n,e),Se=j,qi=P,an(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||qi||Se||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Qt(R,R.return,st)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(st){Qt(R,R.return,st)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;c?Zy(q,!0):Zy(R.stateNode,!1)}catch(st){Qt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ku(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Wp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=xf(e);Qu(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=xf(e);Qu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=xf(e);Uf(e,P,R);break;default:throw Error(a(161))}}catch(j){Qt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ly(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ny(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Rs(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Zp(n,n.return,r),Rs(n);break;case 27:rl(n.stateNode);case 26:case 5:vi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,r),Yo(4,f);break;case 1:if(Gi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Qt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)zg(R[c],E)}catch(P){Qt(o,o.return,P)}}r&&g&64&&Jp(f),Xo(f,f.return);break;case 27:ty(f);case 26:case 5:Gi(c,f,r),r&&o===null&&g&4&&$p(f),Xo(f,f.return);break;case 12:Gi(c,f,r);break;case 31:Gi(c,f,r),r&&g&4&&sy(c,f);break;case 13:Gi(c,f,r),r&&g&4&&ay(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,r),Xo(f,f.return);break;case 30:break;default:Gi(c,f,r)}n=n.sibling}}function kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Fn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uy(e,n,r,o),n=n.sibling}function uy(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,r,o),c&2048&&Yo(9,n);break;case 1:Fn(e,n,r,o);break;case 3:Fn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(c&2048){Fn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Fn(e,n,r,o);break;case 31:Fn(e,n,r,o);break;case 13:Fn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,r,o):Jo(e,n):f._visibility&2?Fn(e,n,r,o):(f._visibility|=2,Aa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&kf(g,n);break;case 24:Fn(e,n,r,o),c&2048&&Pf(n.alternate,n);break;default:Fn(e,n,r,o)}}function Aa(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,R,c),Yo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Aa(f,g,E,R,c):Jo(f,g):(j._visibility|=2,Aa(f,g,E,R,c)),c&&P&2048&&kf(g.alternate,g);break;case 24:Aa(f,g,E,R,c),c&&P&2048&&Pf(g.alternate,g);break;default:Aa(f,g,E,R,c)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Jo(r,o),c&2048&&kf(o.alternate,o);break;case 24:Jo(r,o),c&2048&&Pf(o.alternate,o);break;default:Jo(r,o)}n=n.sibling}}var Zo=8192;function Sa(e,n,r){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)cy(e,n,r),e=e.sibling}function cy(e,n,r){switch(e.tag){case 26:Sa(e,n,r),e.flags&Zo&&e.memoizedState!==null&&ZA(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,r);break;case 3:case 4:var o=Gn;Gn=oc(e.stateNode.containerInfo),Sa(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Sa(e,n,r),Zo=o):Sa(e,n,r));break;default:Sa(e,n,r)}}function hy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,dy(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fy(e),e=e.sibling}function fy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):$o(e);break;default:$o(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,dy(o,e)}hy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function dy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var c=o.sibling,f=o.return;if(iy(o),o===r){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var fA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},dA=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,It=null,Dt=0,Ft=0,pn=null,Sr=!1,ba=!1,zf=!1,Fi=0,ue=0,br=0,Is=0,Bf=0,yn=0,wa=0,Wo=null,on=null,qf=!1,Xu=0,my=0,Ju=1/0,Zu=null,wr=null,Ne=0,Rr=null,Ra=null,Qi=0,jf=0,Hf=null,gy=null,tl=0,Gf=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?Jf():$l()}function py(){if(yn===0)if((Dt&536870912)===0||xt){var e=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Ir(e,Dt,yn,!1)),es(e,r),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Is|=r),ue===4&&Ir(e,Dt,yn,!1)),Ei(e))}function yy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),c=o?pA(e,n):Qf(e,n,!0),f=o;do{if(c===0){ba&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!mA(r)){c=Qf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Wo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!R){E.errorRecoveryDisabledLanes|=f,Is|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ia(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,yn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xu+300-Ze(),10<c)){if(Ir(o,n,yn,!Sr),ni(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Yy(_y.bind(null,o,r,on,Zu,qf,n,yn,Is,wa,Sr,f,"Throttled",-0,0),c);break t}_y(o,r,on,Zu,qf,n,yn,Is,wa,Sr,f,null,-0,0)}}break}while(!0);Ei(e)}function _y(e,n,r,o,c,f,g,E,R,P,j,F,z,q){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},cy(n,f,F);var st=(f&62914560)===f?Xu-Ze():(f&4194048)===f?my-Ze():0;if(st=$A(F,st),st!==null){Qi=f,e.cancelPendingCommit=st(Ry.bind(null,e,n,f,r,o,c,g,E,R,j,F,null,z,q)),Ir(e,f,g,!P);return}}Ry(e,n,f,r,o,c,g,E,R)}function mA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~Bf,n&=~Is,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&ns(e,r,n)}function $u(){return(qt&6)===0?(el(0),!1):!0}function Ff(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ui=_s=null,of(e),ya=null,ko=0,e=It;for(;e!==null;)Xp(e.alternate,e),e=e.return;It=null}}function Ia(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,xA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,Ff(),$t=e,It=r=Mi(e.current,null),Dt=n,Ft=0,pn=null,Sr=!1,ba=Un(e,n),zf=!1,wa=yn=Bf=Is=br=ue=0,on=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-ce(o),f=1<<c;n|=e[c],o&=~f}return Fi=n,vu(),r}function vy(e,n){St=null,H.H=Fo,n===pa||n===Iu?(n=Ug(),Ft=3):n===Yh?(n=Ug(),Ft=4):Ft=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,It===null&&(ue=1,qu(e,wn(n,e.current)))}function Ey(){var e=mn.current;return e===null?!0:(Dt&4194048)===Dt?Dn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Dn:!1}function Ty(){var e=H.H;return H.H=Fo,e===null?Fo:e}function Ay(){var e=H.A;return H.A=fA,e}function Wu(){ue=4,Sr||(Dt&4194048)!==Dt&&mn.current!==null||(ba=!0),(br&134217727)===0&&(Is&134217727)===0||$t===null||Ir($t,Dt,yn,!1)}function Qf(e,n,r){var o=qt;qt|=2;var c=Ty(),f=Ay();($t!==e||Dt!==n)&&(Zu=null,Ia(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&It!==null){var E=It,R=pn;switch(Ft){case 8:Ff(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var P=Ft;if(Ft=0,pn=null,Ca(e,E,R,P),r&&ba){g=0;break t}break;default:P=Ft,Ft=0,pn=null,Ca(e,E,R,P)}}gA(),g=ue;break}catch(j){vy(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ui=_s=null,qt=o,H.H=c,H.A=f,It===null&&($t=null,Dt=0,vu()),g}function gA(){for(;It!==null;)Sy(It)}function pA(e,n){var r=qt;qt|=2;var o=Ty(),c=Ay();$t!==e||Dt!==n?(Zu=null,Ju=Ze()+500,Ia(e,n)):ba=Un(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Ca(e,n,f,1);break;case 2:case 9:if(Mg(f)){Ft=0,pn=null,by(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),Ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Mg(f)?(Ft=0,pn=null,by(n)):(Ft=0,pn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?u_(g):E.stateNode.complete){Ft=0,pn=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,tc(P)):It=null}break e}}Ft=0,pn=null,Ca(e,n,f,5);break;case 6:Ft=0,pn=null,Ca(e,n,f,6);break;case 8:Ff(),ue=6;break t;default:throw Error(a(462))}}yA();break}catch(j){vy(e,j)}while(!0);return Ui=_s=null,H.H=o,H.A=c,qt=r,It!==null?0:($t=null,Dt=0,vu(),ue)}function yA(){for(;It!==null&&!Th();)Sy(It)}function Sy(e){var n=Kp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?tc(e):It=n}function by(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=qp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:of(n);default:Xp(r,n),n=It=Ag(n,Fi),n=Kp(r,n,Fi)}e.memoizedProps=e.pendingProps,n===null?tc(e):It=n}function Ca(e,n,r,o){Ui=_s=null,of(n),ya=null,ko=0;var c=n.return;try{if(sA(e,c,n,r,Dt)){ue=1,qu(e,wn(r,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ue=1,qu(e,wn(r,e.current)),It=null;return}n.flags&32768?(xt||o===1?e=!0:ba||(Dt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),wy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){wy(n,Sr);return}e=n.return;var r=lA(n.alternate,n,Fi);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function wy(e,n){do{var r=uA(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);ue=6,It=null}function Ry(e,n,r,o,c,f,g,E,R){e.cancelPendingCommit=null;do ec();while(Ne!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,r,f,g,E,R),e===$t&&(It=$t=null,Dt=0),Ra=n,Rr=e,Qi=r,jf=f,Hf=c,gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TA(ir,function(){return Oy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=$.p,$.p=2,g=qt,qt|=4;try{cA(e,n,r)}finally{qt=g,$.p=c,H.T=o}}Ne=1,Iy(),Cy(),Dy()}}function Iy(){if(Ne===1){Ne=0;var e=Rr,n=Ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=qt;qt|=4;try{oy(n,e);var f=rd,g=dg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fg(E.ownerDocument.documentElement,E)){if(R!==null&&Ch(E)){var P=R.start,j=R.end;if(j===void 0&&(j=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ct=Math.min(R.start,st),Zt=R.end===void 0?ct:Math.min(R.end,st);!q.extend&&ct>Zt&&(g=Zt,Zt=ct,ct=g);var x=hg(E,ct),D=hg(E,Zt);if(x&&D&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var k=F.createRange();k.setStart(x.node,x.offset),q.removeAllRanges(),ct>Zt?(q.addRange(k),q.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),q.addRange(k))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dc=!!id,rd=id=null}finally{qt=c,$.p=o,H.T=r}}e.current=n,Ne=2}}function Cy(){if(Ne===2){Ne=0;var e=Rr,n=Ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=$.p;$.p=2;var c=qt;qt|=4;try{ny(e,n.alternate,n)}finally{qt=c,$.p=o,H.T=r}}Ne=3}}function Dy(){if(Ne===4||Ne===3){Ne=0,Fl();var e=Rr,n=Ra,r=Qi,o=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ra=Rr=null,Ny(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(wr=null),Di(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=$.p,$.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,$.p=c}}(Qi&3)!==0&&ec(),Ei(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Gf?tl++:(tl=0,Gf=e):tl=0,el(0)}}function Ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function ec(){return Iy(),Cy(),Dy(),Oy()}function Oy(){if(Ne!==5)return!1;var e=Rr,n=jf;jf=0;var r=Di(Qi),o=H.T,c=$.p;try{$.p=32>r?32:r,H.T=null,r=Hf,Hf=null;var f=Rr,g=Qi;if(Ne=0,Ra=Rr=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,fy(f.current),uy(f,f.current,g,r),qt=E,el(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{$.p=c,H.T=o,Ny(e,n)}}function Vy(e,n,r){n=wn(r,n),n=Af(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(es(e,2),Ei(e))}function Qt(e,n,r){if(e.tag===3)Vy(e,e,r);else for(;n!==null;){if(n.tag===3){Vy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=wn(r,e),r=Mp(2),o=vr(n,r,2),o!==null&&(xp(r,o,n,e),es(o,2),Ei(o));break}}n=n.return}}function Kf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new dA;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(zf=!0,c.add(r),e=_A.bind(null,e,n,r),n.then(e,e))}function _A(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>Ze()-Xu?(qt&2)===0&&Ia(e,0):Bf|=r,wa===Dt&&(wa=0)),Ei(e)}function My(e,n){n===0&&(n=Zl()),e=gs(e,n),e!==null&&(es(e,n),Ei(e))}function vA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),My(e,r)}function EA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,r)}function TA(e,n){return De(e,n)}var nc=null,Da=null,Yf=!1,ic=!1,Xf=!1,Cr=0;function Ei(e){e!==Da&&e.next===null&&(Da===null?nc=Da=e:Da=Da.next=e),ic=!0,Yf||(Yf=!0,SA())}function el(e,n){if(!Xf&&ic){Xf=!0;do for(var r=!1,o=nc;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ky(o,f))}else f=Dt,f=ni(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,ky(o,f));o=o.next}while(r);Xf=!1}}function AA(){xy()}function xy(){ic=Yf=!1;var e=0;Cr!==0&&MA()&&(e=Cr);for(var n=Ze(),r=null,o=nc;o!==null;){var c=o.next,f=Uy(o,n);f===0?(o.next=null,r===null?nc=c:r.next=c,c===null&&(Da=r)):(r=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=c}Ne!==0&&Ne!==5||el(e),Cr!==0&&(Cr=0)}function Uy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=c[g];R===-1?((E&r)===0||(E&o)!==0)&&(c[g]=Sh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Dt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Di(r)){case 2:case 8:r=co;break;case 32:r=ir;break;case 268435456:r=Ql;break;default:r=ir}return o=Ly.bind(null,e),r=De(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ec()&&e.callbackNode!==r)return null;var o=Dt;return o=ni(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yy(e,o,n),Uy(e,Ze()),e.callbackNode!=null&&e.callbackNode===r?Ly.bind(null,e):null)}function ky(e,n){if(ec())return null;yy(e,n,!0)}function SA(){UA(function(){(qt&6)!==0?De(uo,AA):xy()})}function Jf(){if(Cr===0){var e=ma;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Cr=e}return Cr}function Py(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function zy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function bA(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Py((c[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Py(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var R=g?zy(c,g):new FormData(c);pf(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?zy(c,g):new FormData(c),pf(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Zf=0;Zf<Vh.length;Zf++){var $f=Vh[Zf],wA=$f.toLowerCase(),RA=$f[0].toUpperCase()+$f.slice(1);Hn(wA,"on"+RA)}Hn(pg,"onAnimationEnd"),Hn(yg,"onAnimationIteration"),Hn(_g,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(j0,"onTransitionRun"),Hn(H0,"onTransitionStart"),Hn(G0,"onTransitionCancel"),Hn(vg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function By(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){_u(j)}c.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){_u(j)}c.currentTarget=null,f=R}}}}function Ct(e,n){var r=n[Ys];r===void 0&&(r=n[Ys]=new Set);var o=e+"__bubble";r.has(o)||(qy(n,e,2,!1),r.add(o))}function Wf(e,n,r){var o=0;n&&(o|=4),qy(r,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[rc]){e[rc]=!0,mo.forEach(function(r){r!=="selectionchange"&&(IA.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,Wf("selectionchange",!1,n))}}function qy(e,n,r,o){switch(p_(n)){case 2:var c=eS;break;case 8:c=nS;break;default:c=gd}r=c.bind(null,n,r,e),c=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function ed(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,j=Tn(r),F=[];t:{var z=Eg.get(e);if(z!==void 0){var q=di,st=e;switch(e){case"keypress":if(us(r)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":st="focus",q=hs;break;case"focusout":st="blur",q=hs;break;case"beforeblur":case"afterblur":q=hs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case pg:case yg:case _g:q=lu;break;case vg:q=T;break;case"scroll":case"scrollend":q=Ro;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=At}var ct=(n&4)!==0,Zt=!ct&&(e==="scroll"||e==="scrollend"),x=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=P,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||x===null||(G=zn(D,x),G!=null&&ct.push(il(D,G,k))),Zt)break;D=D.return}0<ct.length&&(z=new q(z,st,null,r,j),F.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==So&&(st=r.relatedTarget||r.fromElement)&&(ai(st)||st[ri]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=P,st=st?ai(st):null,st!==null&&(Zt=h(st),ct=st.tag,st!==Zt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=P),q!==st)){if(ct=Io,G="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Vi,G="onPointerLeave",x="onPointerEnter",D="pointer"),Zt=q==null?z:cn(q),k=st==null?z:cn(st),z=new ct(G,D+"leave",q,r,j),z.target=Zt,z.relatedTarget=k,G=null,ai(j)===P&&(ct=new ct(x,D+"enter",st,r,j),ct.target=k,ct.relatedTarget=Zt,G=ct),Zt=G,q&&st)e:{for(ct=CA,x=q,D=st,k=0,G=x;G;G=ct(G))k++;G=0;for(var ot=D;ot;ot=ct(ot))G++;for(;0<k-G;)x=ct(x),k--;for(;0<G-k;)D=ct(D),G--;for(;k--;){if(x===D||D!==null&&x===D.alternate){ct=x;break e}x=ct(x),D=ct(D)}ct=null}else ct=null;q!==null&&jy(F,z,q,ct,!1),st!==null&&Zt!==null&&jy(F,Zt,st,ct,!0)}}t:{if(z=P?cn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=sg;else if(ig(z))if(ag)Pt=z0;else{Pt=k0;var at=L0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$s(P.elementType)&&(Pt=sg):Pt=P0;if(Pt&&(Pt=Pt(e,P))){rg(F,Pt,r,j);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(at=P?cn(P):window,e){case"focusin":(ig(at)||at.contentEditable==="true")&&(aa=at,Dh=P,Vo=null);break;case"focusout":Vo=Dh=aa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,mg(F,r,j);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":mg(F,r,j)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else sa?fs(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(pi&&r.locale!=="ko"&&(sa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&sa&&(wt=wo()):(fi=j,bo="value"in fi?fi.value:fi.textContent,sa=!0)),at=sc(P,Nt),0<at.length&&(Nt=new gi(Nt,e,null,r,j),F.push({event:Nt,listeners:at}),wt?Nt.data=wt:(wt=ra(r),wt!==null&&(Nt.data=wt)))),(wt=Sn?V0(e,r):M0(e,r))&&(Nt=sc(P,"onBeforeInput"),0<Nt.length&&(at=new gi("onBeforeInput","beforeinput",null,r,j),F.push({event:at,listeners:Nt}),at.data=wt)),bA(F,e,P,r,j)}By(F,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zn(e,r),c!=null&&o.unshift(il(e,c,f)),c=zn(e,n),c!=null&&o.push(il(e,c,f))),e.tag===3)return o;e=e.return}return[]}function CA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jy(e,n,r,o,c){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=zn(r,f),P!=null&&g.unshift(il(r,P,R))):c||(P=zn(r,f),P!=null&&g.push(il(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var DA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function Hy(e){return(typeof e=="string"?e:""+e).replace(DA,`
`).replace(NA,"")}function Gy(e,n){return n=Hy(n),Hy(e)===n}function Jt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ws(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,Js(e,r,o))}}function nd(e,n,r,o,c,f){switch(r){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Js(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}c&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=c=null,R=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":c=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":P=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,o,j,r,null)}}nu(e,f,E,R,P,g,c,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,c,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,r,null)}ar(e,o,c,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,R,o,r,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ct(nl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if($s(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&nd(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function OA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,P=null,j=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=F;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,F)}}for(var z in o){var q=o[z];if(F=r[z],o.hasOwnProperty(z)&&(q!=null||F!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Jt(e,n,z,q,o,F)}}Zs(e,g,E,R,P,j,f,c);return;case"select":q=g=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=r[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Jt(e,n,c,f,o,R)}n=E,r=g,o=q,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}iu(e,z,q);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Jt(e,n,st,null,o,z));for(R in o)z=o[R],q=r[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Jt(e,n,ct,null,o,z);for(P in o)if(z=o[P],q=r[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,q)}return;default:if($s(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&nd(e,n,Zt,void 0,o,z);for(j in o)z=o[j],q=r[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||nd(e,n,j,z,o,q);return}}for(var x in r)z=r[x],r.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Jt(e,n,x,null,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z==null&&q==null||Jt(e,n,F,z,o,q)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Fy(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var R=r[o],P=R.startTime;if(P>E)break;var j=R.transferSize,F=R.initiatorType;j&&Fy(F)&&(R=R.responseEnd,g+=j*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,rd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function MA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(LA)}:Yy;function LA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Jy(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),Ma(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&rl(e.ownerDocument.body);r=c}while(r);Ma(n)}function Zy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":od(r),Xs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function kA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function PA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Wy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function e_(e,n,r){switch(n=ac(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var On=new Map,n_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=$.d;$.d={f:BA,r:qA,D:jA,C:HA,L:GA,m:FA,X:KA,S:QA,M:YA};function BA(){var e=Ki.f(),n=$u();return e||n}function qA(e){var n=En(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):Ki.r(e)}var Na=typeof document>"u"?null:document;function i_(e,n,r){var o=Na;if(o&&typeof n=="string"&&n){var c=en(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),n_.has(c)||(n_.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function jA(e){Ki.D(e),i_("dns-prefetch",e,null)}function HA(e,n){Ki.C(e,n),i_("preconnect",e,n)}function GA(e,n,r){Ki.L(e,n,r);var o=Na;if(o&&e&&n){var c='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+en(r.imageSizes)+'"]')):c+='[href="'+en(e)+'"]';var f=c;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function FA(e,n){Ki.m(e,n);var r=Na;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(al(f)))return}o=r.createElement("link"),je(o,"link",e),_e(o),r.head.appendChild(o)}}}function QA(e,n,r){Ki.S(e,n,r);var o=Na;if(o&&e){var c=oi(o).hoistableStyles,f=Oa(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&hd(e,r);var R=g=o.createElement("link");_e(R),je(R,"link",e),R._p=new Promise(function(P,j){R.onload=P,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function KA(e,n){Ki.X(e,n);var r=Na;if(r&&e){var o=oi(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(al(c)),f||(e=b({src:e,async:!0},n),(n=On.get(c))&&fd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function YA(e,n){Ki.M(e,n);var r=Na;if(r&&e){var o=oi(r).hoistableScripts,c=Va(e),f=o.get(c);f||(f=r.querySelector(al(c)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(c))&&fd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function r_(e,n,r,o){var c=(c=bt.current)?oc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=oi(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=oi(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||XA(c,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(r),r=oi(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+en(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function XA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+en(e)+'"]'}function al(e){return"script[async]"+e}function a_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var c=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",c),lc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Oa(r.href);var f=e.querySelector(sl(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=s_(r),(c=On.get(c))&&hd(o,c),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),n.state.loading|=4,lc(f,r.precedence,e),n.instance=f;case"script":return f=Va(r.src),(c=e.querySelector(al(f)))?(n.instance=c,_e(c),c):(o=r,(c=On.get(f))&&(o=b({},r),fd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),_e(c),je(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,r.precedence,e));return n.instance}function lc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function o_(e,n,r){if(uc===null){var o=new Map,c=uc=new Map;c.set(r,o)}else c=uc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[si]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function l_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function JA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Oa(o.href),f=n.querySelector(sl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=s_(o),(c=On.get(c))&&hd(o,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var dd=0;function $A(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*VA());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(WA,e),hc=null,cc.call(e))}function WA(e,n){if(!(n.state.loading&4)){var r=hc.get(e);if(r)var o=r.get(null);else{r=new Map,hc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=cc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function tS(e,n,r,o,c,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function c_(e,n,r,o,c,f,g,E,R,P,j,F){return e=new tS(e,n,r,g,R,P,j,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function h_(e){return e?(e=ua,e):ua}function f_(e,n,r,o,c,f){c=h_(c),o.context===null?o.context=c:o.pendingContext=c,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(ln(r,e,n),zo(r,e,n))}function d_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function md(e,n){d_(e,n),(e=e.alternate)&&d_(e,n)}function m_(e){if(e.tag===13||e.tag===31){var n=gs(e,67108864);n!==null&&ln(n,e,67108864),md(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=_n();n=is(n);var r=gs(e,n);r!==null&&ln(r,e,n),md(e,n)}}var dc=!0;function eS(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=2,gd(e,n,r,o)}finally{$.p=f,H.T=c}}function nS(e,n,r,o){var c=H.T;H.T=null;var f=$.p;try{$.p=8,gd(e,n,r,o)}finally{$.p=f,H.T=c}}function gd(e,n,r,o){if(dc){var c=pd(o);if(c===null)ed(e,n,o,mc,r),y_(e,o);else if(rS(c,e,n,r,o))o.stopPropagation();else if(y_(e,o),n&4&&-1<iS.indexOf(e)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}Ei(f),(qt&6)===0&&(Ju=Ze()+500,el(0))}}break;case 31:case 13:E=gs(f,2),E!==null&&ln(E,f,2),$u(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,mc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else ed(e,n,o,null,r)}}function pd(e){return e=Tn(e),yd(e)}var mc=null;function yd(e){if(mc=null,e=ai(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function p_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case uo:return 2;case co:return 8;case ir:case Ah:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var _d=!1,Nr=null,Or=null,Vr=null,ll=new Map,ul=new Map,Mr=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&m_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function rS(e,n,r,o,c){switch(n){case"focusin":return Nr=cl(Nr,e,n,r,o,c),!0;case"dragenter":return Or=cl(Or,e,n,r,o,c),!0;case"mouseover":return Vr=cl(Vr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,c)),!0}return!1}function __(e){var n=ai(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){g_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){g_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=pd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=En(r),n!==null&&m_(n),e.blockedOn=r,!1;n.shift()}return!0}function v_(e,n,r){gc(e)&&r.delete(n)}function sS(){_d=!1,Nr!==null&&gc(Nr)&&(Nr=null),Or!==null&&gc(Or)&&(Or=null),Vr!==null&&gc(Vr)&&(Vr=null),ll.forEach(v_),ul.forEach(v_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,sS)))}var yc=null;function E_(e){yc!==e&&(yc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(yd(o||r)===null)continue;break}var f=En(r);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Ma(e){function n(R){return pc(R,e)}Nr!==null&&pc(Nr,e),Or!==null&&pc(Or,e),Vr!==null&&pc(Vr,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)__(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Me]||null;if(typeof f=="function")g||E_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(yd(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),E_(r)}}}function T_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function vd(e){this._internalRoot=e}_c.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();f_(r,o,e,n,null,null)},_c.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;f_(e.current,2,null,e,null,null),$u(),n[ri]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&__(e)}};var A_=t.version;if(A_!=="19.2.4")throw Error(a(527,A_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var aS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{xn=vc.inject(aS),ke=vc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=Dp,f=Np,g=Op;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=c_(e,1,!1,null,null,r,o,null,c,f,g,T_),e[ri]=n.current,td(e),new vd(n)},fl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=Dp,g=Np,E=Op,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=c_(e,1,!0,n,r??null,o,c,R,f,g,E,T_),n.context=h_(null),r=n.current,o=_n(),o=is(o),c=_r(o),c.callback=null,vr(r,c,o),r=o,n.current.lanes=r,es(n,r),Ei(n),e[ri]=n.current,td(e),new _c(n)},fl.version="19.2.4",fl}var V_;function pS(){if(V_)return Ad.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=gS(),Ad.exports}var yS=pS();const _S=()=>{};var M_={};const uE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},vS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=h>>2,b=(h&3)<<4|p>>4;let M=(p&15)<<2|_>>6,K=_&63;v||(K=64,d||(M=64)),a.push(i[A],i[b],i[M],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(uE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):vS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||p==null||_==null||b==null)throw new ES;const M=h<<2|p>>4;if(a.push(M),_!==64){const K=p<<4&240|_>>2;if(a.push(K),b!==64){const Z=_<<6&192|b;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(s){const t=uE(s);return cE.encodeByteArray(t,!0)},Lc=function(s){return TS(s).replace(/\./g,"")},hE=function(s){try{return cE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SS=()=>AS().__FIREBASE_DEFAULTS__,bS=()=>{if(typeof process>"u"||typeof M_>"u")return;const s=M_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},wS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&hE(s[1]);return t&&JSON.parse(t)},nh=()=>{try{return _S()||SS()||bS()||wS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>nh()?.emulatorHosts?.[s],RS=s=>{const t=fE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},dE=()=>nh()?.config,mE=s=>nh()?.[`_${s}`];class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Wa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(s){return(await fetch(s,{credentials:"include"})).ok}function CS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const _l={};function DS(){const s={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?s.emulator.push(t):s.prod.push(t);return s}function NS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let x_=!1;function pE(s,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||_l[s]===t||_l[s]||x_)return;_l[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=DS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{x_=!0,d()},M}function A(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function b(){const M=NS(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),tt=i("learnmore"),et=document.getElementById(tt)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),A(et,tt);const Kt=_();v(Et,ht),pt.append(Et,Z,et,Kt),document.body.appendChild(pt)}h?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function VS(){const s=nh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const BS="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=BS,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?qS(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function qS(s,t){return s.replace(jS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const jS=/\{\$([^}]+)}/g;function HS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function xs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(U_(h)&&U_(d)){if(!xs(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function U_(s){return s!==null&&typeof s=="object"}function Ul(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function GS(s,t){const i=new FS(s,t);return i.subscribe.bind(i)}class FS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");QS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Rd),l.error===void 0&&(l.error=Rd),l.complete===void 0&&(l.complete=Rd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Rd(){}function tn(s){return s&&s._delegate?s._delegate:s}class Us{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Cs="[DEFAULT]";class KS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new IS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XS(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:YS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(s){return s===Cs?void 0:s}function XS(s){return s.instantiationMode==="EAGER"}class JS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new KS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const ZS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},$S=Ot.INFO,WS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},t1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=WS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const e1=(s,t)=>t.some(i=>s instanceof i);let L_,k_;function n1(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Bd=new WeakMap,_E=new WeakMap,Id=new WeakMap,fm=new WeakMap;function r1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&yE.set(i,s)}).catch(()=>{}),fm.set(t,s),t}function s1(s){if(Bd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bd.set(s,t)}let qd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Bd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||_E.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function a1(s){qd=s(qd)}function o1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Cd(this),t,...i);return _E.set(a,t.sort?t.sort():[t]),Br(a)}:i1().includes(s)?function(...t){return s.apply(Cd(this),t),Br(yE.get(this))}:function(...t){return Br(s.apply(Cd(this),t))}}function l1(s){return typeof s=="function"?o1(s):(s instanceof IDBTransaction&&s1(s),e1(s,n1())?new Proxy(s,qd):s)}function Br(s){if(s instanceof IDBRequest)return r1(s);if(Id.has(s))return Id.get(s);const t=l1(s);return t!==s&&(Id.set(s,t),fm.set(t,s)),t}const Cd=s=>fm.get(s);function u1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],Dd=new Map;function P_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=h1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||c1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Dd.set(t,h),h}a1(s=>({...s,get:(t,i,a)=>P_(t,i)||s.get(t,i,a),has:(t,i)=>!!P_(t,i)||s.has(t,i)}));class f1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function d1(s){return s.getComponent()?.type==="VERSION"}const jd="@firebase/app",z_="0.14.7";const Zi=new hm("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",A1="@firebase/data-connect",S1="@firebase/database-compat",b1="@firebase/functions",w1="@firebase/functions-compat",R1="@firebase/installations",I1="@firebase/installations-compat",C1="@firebase/messaging",D1="@firebase/messaging-compat",N1="@firebase/performance",O1="@firebase/performance-compat",V1="@firebase/remote-config",M1="@firebase/remote-config-compat",x1="@firebase/storage",U1="@firebase/storage-compat",L1="@firebase/firestore",k1="@firebase/ai",P1="@firebase/firestore-compat",z1="firebase",B1="12.8.0";const Hd="[DEFAULT]",q1={[jd]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[A1]:"fire-data-connect",[S1]:"fire-rtdb-compat",[b1]:"fire-fn",[w1]:"fire-fn-compat",[R1]:"fire-iid",[I1]:"fire-iid-compat",[C1]:"fire-fcm",[D1]:"fire-fcm-compat",[N1]:"fire-perf",[O1]:"fire-perf-compat",[V1]:"fire-rc",[M1]:"fire-rc-compat",[x1]:"fire-gcs",[U1]:"fire-gcs-compat",[L1]:"fire-fst",[P1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[z1]:"fire-js-all"};const kc=new Map,j1=new Map,Gd=new Map;function B_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Fa(s){const t=s.name;if(Gd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Gd.set(t,s);for(const i of kc.values())B_(i,s);for(const i of j1.values())B_(i,s);return!0}function dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new xl("app","Firebase",H1);class G1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const to=B1;function vE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Hd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw qr.create("bad-app-name",{appName:String(l)});if(i||(i=dE()),!i)throw qr.create("no-options");const h=kc.get(l);if(h){if(xs(i,h.options)&&xs(a,h.config))return h;throw qr.create("duplicate-app",{appName:l})}const d=new JS(l);for(const v of Gd.values())d.addComponent(v);const p=new G1(i,a,d);return kc.set(l,p),p}function EE(s=Hd){const t=kc.get(s);if(!t&&s===Hd&&dE())return vE();if(!t)throw qr.create("no-app",{appName:s});return t}function jr(s,t,i){let a=q1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Fa(new Us(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const F1="firebase-heartbeat-database",Q1=1,bl="firebase-heartbeat-store";let Nd=null;function TE(){return Nd||(Nd=u1(F1,Q1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw qr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function K1(s){try{const i=(await TE()).transaction(bl),a=await i.objectStore(bl).get(AE(s));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=qr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function q_(s,t){try{const a=(await TE()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,AE(s)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=qr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function AE(s){return`${s.name}!${s.options.appId}`}const Y1=1024,X1=30;class J1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>X1){const l=W1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j_(),{heartbeatsToSend:i,unsentEntries:a}=Z1(this._heartbeatsCache.heartbeats),l=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function j_(){return new Date().toISOString().substring(0,10)}function Z1(s,t=Y1){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),H_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),H_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await K1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function H_(s){return Lc(JSON.stringify({version:2,heartbeats:s})).length}function W1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function tb(s){Fa(new Us("platform-logger",t=>new f1(t),"PRIVATE")),Fa(new Us("heartbeat",t=>new J1(t),"PRIVATE")),jr(jd,z_,s),jr(jd,z_,"esm2020"),jr("fire-js","")}tb("");var eb="firebase",nb="12.8.0";jr(eb,nb,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ib=SE,bE=new xl("auth","Firebase",SE());const Pc=new hm("@firebase/auth");function rb(s,...t){Pc.logLevel<=Ot.WARN&&Pc.warn(`Auth (${to}): ${s}`,...t)}function Rc(s,...t){Pc.logLevel<=Ot.ERROR&&Pc.error(`Auth (${to}): ${s}`,...t)}function Ii(s,...t){throw gm(s,...t)}function Jn(s,...t){return gm(s,...t)}function mm(s,t,i){const a={...ib(),[t]:i};return new xl("auth","Firebase",a).create(t,{appName:s.name})}function Os(s){return mm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ii(s,"argument-error"),mm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return bE.create(s,...t)}function dt(s,t,...i){if(!s)throw gm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Rc(t),new Error(t)}function $i(s,t){s||Xi(t)}function Fd(){return typeof self<"u"&&self.location?.href||""}function ab(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function ob(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ab()||xS()||"connection"in navigator)?navigator.onLine:!0}function lb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ll{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=OS()||US()}get(){return ob()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pm(s,t){$i(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class wE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ub={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hb=new Ll(3e4,6e4);function ym(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function eo(s,t,i,a,l={}){return RE(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Ul({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...h};return MS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(_.credentials="include"),wE.fetch()(await IE(s,s.config.apiHost,i,p),_)})}async function RE(s,t,i){s._canInitEmulator=!1;const a={...ub,...t};try{const l=new db(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ec(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw mm(s,A,_);Ii(s,A)}}catch(l){if(l instanceof er)throw l;Ii(s,"network-request-failed",{message:String(l)})}}async function fb(s,t,i,a,l={}){const h=await eo(s,t,i,a,l);return"mfaPendingCredential"in h&&Ii(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function IE(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?pm(s.config,l):`${s.config.apiScheme}://${l}`;return cb.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class db{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Jn(this.auth,"network-request-failed")),hb.get())})}}function Ec(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Jn(s,t,a);return l.customData._tokenResponse=i,l}async function mb(s,t){return eo(s,"POST","/v1/accounts:delete",t)}async function zc(s,t){return eo(s,"POST","/v1/accounts:lookup",t)}function vl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gb(s,t=!1){const i=tn(s),a=await i.getIdToken(t),l=_m(a);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:vl(Od(l.auth_time)),issuedAtTime:vl(Od(l.iat)),expirationTime:vl(Od(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Od(s){return Number(s)*1e3}function _m(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const l=hE(i);return l?JSON.parse(l):(Rc("Failed to decode base64 JWT payload"),null)}catch(l){return Rc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function F_(s){const t=_m(s);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function wl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&pb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function pb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(s){const t=s.auth,i=await s.getIdToken(),a=await wl(s,zc(t,{idToken:i}));dt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?CE(l.providerUserInfo):[],d=vb(s.providerData,h),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function _b(s){const t=tn(s);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function CE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Eb(s,t){const i=await RE(s,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await IE(s,l,"/v1/token",`key=${h}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(v.credentials="include"),wE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Tb(s,t){return eo(s,"POST","/v2/accounts:revokeToken",ym(s,t))}class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=F_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await Eb(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new Pa;return a&&(dt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(dt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ur(s,t){dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new yb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await wl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gb(this,t)}reload(){return _b(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await wl(this,mb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:M,isAnonymous:K,providerData:Z,stsTokenManager:tt}=i;dt(b&&tt,t,"internal-error");const et=Pa.fromJSON(this.name,tt);dt(typeof b=="string",t,"internal-error"),Ur(a,t.name),Ur(l,t.name),dt(typeof M=="boolean",t,"internal-error"),dt(typeof K=="boolean",t,"internal-error"),Ur(h,t.name),Ur(d,t.name),Ur(p,t.name),Ur(v,t.name),Ur(_,t.name),Ur(A,t.name);const ht=new Yn({uid:b,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ht.providerData=Z.map(Et=>({...Et}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Pa;l.updateFromServerResponse(i);const h=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Bc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?CE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new Pa;p.updateFromIdToken(a);const v=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const Q_=new Map;function Ji(s){$i(s instanceof Function,"Expected a class definition");let t=Q_.get(s);return t?($i(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Q_.set(s,t),t)}class DE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}DE.type="NONE";const K_=DE;function Ic(s,t,i){return`firebase:${s}:${t}:${i}`}class za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Ic(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ic("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new za(Ji(K_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Ji(K_);const d=Ic(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const M=await zc(t,{idToken:A}).catch(()=>{});if(!M)break;b=await Yn._fromGetAccountInfoResponse(t,M,A)}else b=Yn._fromJSON(t,A);_!==h&&(p=b),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new za(h,t,a):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new za(h,t,a))}}function Y_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ME(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UE(t))return"Blackberry";if(LE(t))return"Webos";if(OE(t))return"Safari";if((t.includes("chrome/")||VE(t))&&!t.includes("edge/"))return"Chrome";if(xE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function NE(s=Je()){return/firefox\//i.test(s)}function OE(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function VE(s=Je()){return/crios\//i.test(s)}function ME(s=Je()){return/iemobile/i.test(s)}function xE(s=Je()){return/android/i.test(s)}function UE(s=Je()){return/blackberry/i.test(s)}function LE(s=Je()){return/webos/i.test(s)}function vm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ab(s=Je()){return vm(s)&&!!window.navigator?.standalone}function Sb(){return LS()&&document.documentMode===10}function kE(s=Je()){return vm(s)||xE(s)||LE(s)||UE(s)||/windows phone/i.test(s)||ME(s)}function PE(s,t=[]){let i;switch(s){case"Browser":i=Y_(Je());break;case"Worker":i=`${Y_(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${a}`}class bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function wb(s,t={}){return eo(s,"GET","/v2/passwordPolicy",ym(s,t))}const Rb=6;class Ib{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Rb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class Cb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Os(this));const i=t?tn(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wb(this),i=new Ib(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Tb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ih(s){return tn(s)}class X_{constructor(t){this.auth=t,this.observer=null,this.addObserver=GS(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Db(s){Em=s}function Nb(s){return Em.loadJS(s)}function Ob(){return Em.gapiScript}function Vb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Mb(s,t){const i=dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(xs(h,t??{}))return l;Ii(l,"already-initialized")}return i.initialize({options:t})}function xb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Ub(s,t,i){const a=ih(s);dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=zE(t),{host:d,port:p}=Lb(t),v=p===null?"":`:${p}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),dt(xs(_,a.config.emulator)&&xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Wa(d)?(gE(`${h}//${d}${v}`),pE("Auth",!0)):kb()}function zE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Lb(s){const t=zE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:J_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:J_(d)}}}function J_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function kb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class BE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Ba(s,t){return fb(s,"POST","/v1/accounts:signInWithIdp",ym(s,t))}const Pb="http://localhost";class Ls extends BE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Ls(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ba(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:Pb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class Tm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class kl extends Tm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lr extends kl{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class Yi extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ls._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class kr extends kl{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Pr extends kl{constructor(){super("twitter.com")}static credential(t,i){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";class Qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Yn._fromIdTokenResponse(t,a,l),d=Z_(a);return new Qa({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Z_(a);return new Qa({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Z_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class qc extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new qc(t,i,a,l)}}function qE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(s,h,t,a):h})}async function zb(s,t,i=!1){const a=await wl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Qa._forOperation(s,"link",a)}async function Bb(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Os(a));const l="reauthenticate";try{const h=await wl(s,qE(a,l,t,s),i);dt(h.idToken,a,"internal-error");const d=_m(h.idToken);dt(d,a,"internal-error");const{sub:p}=d;return dt(s.uid===p,a,"user-mismatch"),Qa._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ii(a,"user-mismatch"),h}}async function qb(s,t,i=!1){if(Kn(s.app))return Promise.reject(Os(s));const a="signIn",l=await qE(s,a,t),h=await Qa._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}function jb(s,t,i,a){return tn(s).onIdTokenChanged(t,i,a)}function Hb(s,t,i){return tn(s).beforeAuthStateChanged(t,i)}function Gb(s,t,i,a){return tn(s).onAuthStateChanged(t,i,a)}function Fb(s){return tn(s).signOut()}const jc="__sak";class jE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qb=1e3,Kb=10;class HE extends jE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);Sb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Kb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}HE.type="LOCAL";const Yb=HE;class GE extends jE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}GE.type="SESSION";const FE=GE;function Xb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,h)),v=await Xb(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];function Am(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Jb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const _=Am("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const M=b;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(M.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function Zb(s){Ai().location.href=s}function QE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function $b(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wb(){return navigator?.serviceWorker?.controller||null}function tw(){return QE()?self:null}const KE="firebaseLocalStorageDb",ew=1,Hc="firebaseLocalStorage",YE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function sh(s,t){return s.transaction([Hc],t?"readwrite":"readonly").objectStore(Hc)}function nw(){const s=indexedDB.deleteDatabase(KE);return new Pl(s).toPromise()}function Kd(){const s=indexedDB.open(KE,ew);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Hc,{keyPath:YE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Hc)?t(a):(a.close(),await nw(),t(await Kd()))})})}async function $_(s,t,i){const a=sh(s,!0).put({[YE]:t,value:i});return new Pl(a).toPromise()}async function iw(s,t){const i=sh(s,!1).get(t),a=await new Pl(i).toPromise();return a===void 0?null:a.value}function W_(s,t){const i=sh(s,!0).delete(t);return new Pl(i).toPromise()}const rw=800,sw=3;class XE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>sw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $b(),!this.activeServiceWorker)return;this.sender=new Jb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Wb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await $_(t,jc,"1"),await W_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>$_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>iw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>W_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=sh(l,!1).getAll();return new Pl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XE.type="LOCAL";const aw=XE;new Ll(3e4,6e4);function JE(s,t){return t?Ji(t):(dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Sm extends BE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ow(s){return qb(s.auth,new Sm(s),s.bypassAuthState)}function lw(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),Bb(i,new Sm(s),s.bypassAuthState)}async function uw(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),zb(i,new Sm(s),s.bypassAuthState)}class ZE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ow;case"linkViaPopup":case"linkViaRedirect":return uw;case"reauthViaPopup":case"reauthViaRedirect":return lw;default:Ii(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cw=new Ll(2e3,1e4);async function hw(s,t,i){if(Kn(s.app))return Promise.reject(Jn(s,"operation-not-supported-in-this-environment"));const a=ih(s);sb(s,t,Tm);const l=JE(a,i);return new Ds(a,"signInViaPopup",t,l).executeNotNull()}class Ds extends ZE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cw.get())};t()}}Ds.currentPopupAction=null;const fw="pendingRedirect",Cc=new Map;class dw extends ZE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const a=await mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mw(s,t){const i=yw(t),a=pw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function gw(s,t){Cc.set(s._key(),t)}function pw(s){return Ji(s._redirectPersistence)}function yw(s){return Ic(fw,s.config.apiKey,s.name)}async function _w(s,t,i=!1){if(Kn(s.app))return Promise.reject(Os(s));const a=ih(s),l=JE(a,t),d=await new dw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const vw=600*1e3;class Ew{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Tw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!$E(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Jn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(t))}saveEventToCache(t){this.cachedEventUids.add(tv(t)),this.lastProcessedEventTime=Date.now()}}function tv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $E({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Tw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(s);default:return!1}}async function Aw(s,t={}){return eo(s,"GET","/v1/projects",t)}const Sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bw=/^https?/;async function ww(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Aw(s);for(const i of t)try{if(Rw(i))return}catch{}Ii(s,"unauthorized-domain")}function Rw(s){const t=Fd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!bw.test(i))return!1;if(Sw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Iw=new Ll(3e4,6e4);function ev(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Cw(s){return new Promise((t,i)=>{function a(){ev(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ev(),i(Jn(s,"network-request-failed"))},timeout:Iw.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=Vb("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(Jn(s,"network-request-failed"))},Nb(`${Ob()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function Dw(s){return Dc=Dc||Cw(s),Dc}const Nw=new Ll(5e3,15e3),Ow="__/auth/iframe",Vw="emulator/auth/iframe",Mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uw(s){const t=s.config;dt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?pm(t,Vw):`https://${s.config.authDomain}/${Ow}`,a={apiKey:t.apiKey,appName:s.name,v:to},l=xw.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ul(a).slice(1)}`}async function Lw(s){const t=await Dw(s),i=Ai().gapi;return dt(i,s,"internal-error"),t.open({where:document.body,url:Uw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Jn(s,"network-request-failed"),p=Ai().setTimeout(()=>{h(d)},Nw.get());function v(){Ai().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{h(d)})}))}const kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pw=500,zw=600,Bw="_blank",qw="http://localhost";class nv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jw(s,t,i,a=Pw,l=zw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...kw,width:a.toString(),height:l.toString(),top:h,left:d},_=Je().toLowerCase();i&&(p=VE(_)?Bw:i),NE(_)&&(t=t||qw,v.scrollbars="yes");const A=Object.entries(v).reduce((M,[K,Z])=>`${M}${K}=${Z},`,"");if(Ab(_)&&p!=="_self")return Hw(t||"",p),new nv(null);const b=window.open(t||"",p,A);dt(b,s,"popup-blocked");try{b.focus()}catch{}return new nv(b)}function Hw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Gw="__/auth/handler",Fw="emulator/auth/handler",Qw=encodeURIComponent("fac");async function iv(s,t,i,a,l,h){dt(s.config.authDomain,s,"auth-domain-config-required"),dt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:to,eventId:l};if(t instanceof Tm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",HS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof kl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),_=v?`#${Qw}=${encodeURIComponent(v)}`:"";return`${Kw(s)}?${Ul(p).slice(1)}${_}`}function Kw({config:s}){return s.emulator?pm(s,Fw):`https://${s.authDomain}/${Gw}`}const Vd="webStorageSupport";class Yw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=_w,this._overrideRedirectResult=gw}async _openPopup(t,i,a,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await iv(t,i,a,Fd(),l);return jw(t,h,Am())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await iv(t,i,a,Fd(),l);return Zb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Lw(t),a=new Ew(t);return i.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},l=>{const h=l?.[0]?.[Vd];h!==void 0&&i(!!h),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return kE()||OE()||vm()}}const Xw=Yw;var rv="@firebase/auth",sv="1.12.0";class Jw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $w(s){Fa(new Us("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(s)},_=new Cb(a,l,h,v);return xb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",t=>{const i=ih(t.getProvider("auth").getImmediate());return(a=>new Jw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(rv,sv,Zw(s)),jr(rv,sv,"esm2020")}const Ww=300,tR=mE("authIdTokenMaxAge")||Ww;let av=null;const eR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>tR)return;const l=i?.token;av!==l&&(av=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nR(s=EE()){const t=dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Mb(s,{popupRedirectResolver:Xw,persistence:[aw,Yb,FE]}),a=mE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=eR(h.toString());Hb(i,d,()=>d(i.currentUser)),jb(i,p=>d(p))}}const l=fE("auth");return l&&Ub(i,`http://${l}`),i}function iR(){return document.getElementsByTagName("head")?.[0]??document}Db({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=Jn("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",iR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$w("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,WE;(function(){var s;function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,U){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return S.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],N=C.g[2];let U=C.g[3],w;w=S+(U^I&(N^U))+V[0]+3614090360&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[2]+606105819&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[6]+2821735955&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[10]+4294925233&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(U^I&(N^U))+V[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=U+(N^S&(I^N))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=N+(I^U&(S^I))+V[14]+2792965006&4294967295,N=U+(w<<17&4294967295|w>>>15),w=I+(S^N&(U^S))+V[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=S+(N^U&(I^N))+V[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[11]+643717713&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[15]+3634488961&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[3]+4107603335&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(N^U&(I^N))+V[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=U+(I^N&(S^I))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=N+(S^I&(U^S))+V[7]+1735328473&4294967295,N=U+(w<<14&4294967295|w>>>18),w=I+(U^S&(N^U))+V[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=S+(I^N^U)+V[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[11]+1839030562&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[7]+4139469664&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[3]+3572445317&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(I^N^U)+V[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=U+(S^I^N)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=N+(U^S^I)+V[15]+530742520&4294967295,N=U+(w<<16&4294967295|w>>>16),w=I+(N^U^S)+V[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=S+(N^(I|~U))+V[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[14]+2878612391&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[10]+4293915773&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[6]+2734768916&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=S+(N^(I|~U))+V[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=U+(I^(S|~N))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=N+(S^(U|~I))+V[2]+718787259&4294967295,N=U+(w<<15&4294967295|w>>>17),w=I+(U^(N|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=I;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){l(this,V),N=0;break}}else for(;U<S;)if(V[N++]=C[U++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function h(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==S||(I[N]=U,V=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?h(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return et(_(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return et(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=b;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const w=parseInt(C.substring(U,U+N),S);N<8?(N=_(Math.pow(S,N)),V=V.j(N).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var b=v(0),M=v(1),K=v(16777216);s=d.prototype,s.m=function(){if(tt(this))return-et(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(tt(this))return"-"+et(this).toString(C);const S=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=Kt(I,S).g;I=ht(I,N.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function tt(C){return C.h==-1}s.l=function(C){return C=ht(this,C),tt(C)?-1:Z(C)?0:1};function et(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return tt(this)?et(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),w=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=w>>>16,U&=65535,w&=65535,I[N]=w<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,S){return C.add(et(S))}s.j=function(C){if(Z(this)||Z(C))return b;if(tt(this))return tt(C)?et(this).j(et(C)):et(et(this).j(C));if(tt(C))return et(this.j(et(C)));if(this.l(K)<0&&C.l(K)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,w=this.i(V)&65535,ie=C.i(N)>>>16,Ie=C.i(N)&65535;I[2*V+2*N]+=w*Ie,Et(I,2*V+2*N),I[2*V+2*N+1]+=U*Ie,Et(I,2*V+2*N+1),I[2*V+2*N+1]+=w*ie,Et(I,2*V+2*N+1),I[2*V+2*N+2]+=U*ie,Et(I,2*V+2*N+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Et(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function pt(C,S){this.g=C,this.h=S}function Kt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new pt(b,b);if(tt(C))return S=Kt(et(C),S),new pt(et(S.g),et(S.h));if(tt(S))return S=Kt(C,et(S)),new pt(et(S.g),S.h);if(C.g.length>30){if(tt(C)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=mt(I),V=mt(V);var N=Tt(I,1),U=Tt(V,1);for(V=Tt(V,2),I=Tt(I,2);!Z(V);){var w=U.add(V);w.l(C)<=0&&(N=N.add(I),U=w),V=Tt(V,1),I=Tt(I,1)}return S=ht(C,N.j(S)),new pt(N,S)}for(N=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),w=U.j(S);tt(w)||w.l(C)>0;)I-=V,U=_(I),w=U.j(S);Z(U)&&(U=M),N=N.add(U),C=ht(C,w)}return new pt(N,C)}s.B=function(C){return Kt(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function mt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Tt(C,S){const I=S>>5;S%=32;const V=C.g.length-I,N=[];for(let U=0;U<V;U++)N[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,WE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Hr=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tT,ml,eT,Nc,Yd,nT,iT,rT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),At=2;At<arguments.length;At++)J[At-2]=arguments[At];return m.prototype[L].apply(T,J)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,y){const T=pt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new tt(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Tt=!1,C=new Et,S=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){et(y)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,N),ie.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function $(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=bt(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new $(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bt(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,L);return null}return y=lo(y),u&&u[Ie]?u.J(m,y,p(T)?!!T.capture:!1,L):Zr(u,m,y,!1,T,L)}function Zr(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let At=$r(u);if(At||(u[Ut]=At=new rt(u)),y=At.add(m,y,T,J,B),y.proxy)return y;if(T=Gs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)U||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Gs(){function u(y){return m.call(u.src,u.listener,y)}const m=ao;return u}function Fs(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Fs(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=lo(y),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=bt(m,y,T,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,y,T,L)),(y=u>-1?m[u]:null)&&Qs(y))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Wn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=$r(m))?(gt(y,u),y.h==0&&(y.src=null,m[Ut]=null)):ut(u)}}}function Wn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=y.call(T,m)}return u}function $r(u){return u=u[Ut],u instanceof rt?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function ge(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ge,V),ge.prototype[Ie]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Fs(this,u,m,y,T)};function De(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),W(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=nr(B,T,!0,m)&&L;if(B=m.g=u,L=nr(B,T,!0,m)&&L,L=nr(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=nr(B,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ut(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const At=J.listener,he=J.ha||J.src;J.fa&&gt(u.i,J),L=At.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){V.call(this),this.h=u,this.g={}}b(Wr,V);var uo=[];function co(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Qs(m)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),co(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Ah=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Kl(){}function Yl(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){N.call(this,"d")}b(ke,N);function vn(){N.call(this,"c")}b(vn,N);var ce={},Xl=null;function Ks(){return Xl=Xl||new ge}ce.Ia="serverreachability";function Jl(u){N.call(this,ce.Ia,u)}b(Jl,N);function ti(u){const m=Ks();De(m,new Jl(m))}ce.STAT_EVENT="statevent";function ts(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}b(ts,N);function pe(u){const m=Ks();De(m,new ts(m,u))}ce.Ja="timingevent";function ei(u,m){N.call(this,ce.Ja,u),this.size=m}b(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Sh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",At=B.split("&");for(let Bt=0;Bt<At.length;Bt++){var he=At[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const Sn=se.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Zl(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function ii(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,y)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return ir(B)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function is(){}b(is,Kl),is.prototype.g=function(){return new XMLHttpRequest},fo=new is;function Di(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ri(u,m,y){u.M=1,u.A=rs(ve(m)),u.u=y,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(y.i,"t",T),u.C=0,y=u.j.L,u.h=new kn,u.g=du(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(uo[0]=L.toString()),L=uo);for(let B=0;B<L.length;B++){const J=re(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const At=Bn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||At!=4||he==7||(he==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var y=wh(this);if(this.o=m==200,Zl(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),En(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=tu(this,y),se==Me){At==4&&(this.m=4,pe(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ii(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,se,null),oi(this,se);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),En(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Co(J),J.P=!0,pe(11))}}else ii(this.i,this.l,y,null),oi(this,y);At==4&&cn(this),this.o&&!this.K&&(At==4?uu(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),En(this)}}}catch{}};function wh(u){if(!Wl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),En(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function si(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&(ti(),pe(17)),cn(this),this.m=2,En(this)):Xs(this,this.T-u)};function En(u){u.j.I==0||u.K||uu(u.j,u)}function cn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ui(y.h,u))){if(!u.L&&ui(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ia(y),hr(y);else break t;hs(y),pe(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ni(_(y.Va,y),6e3));li(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&ia(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const Sn=Bt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const pi=Bt[4];pi!=null&&(y.za=pi,y.j.info("SVER="+y.za));const qn=Bt[5];qn!=null&&typeof qn=="number"&&qn>0&&(T=1.5*qn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const jn=u.g;if(jn){const fs=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var B=T.h;B.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(po(B,B.h),B.h=null))}if(T.G){const ra=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,Gt(T.J,T.G,ra))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=fu(T,T.L?T.ba:null,T.W),J.L){yo(T.h,J);var At=J,he=T.O;he&&(At.H=he),At.D&&(ai(At),si(At)),T.g=J}else ou(T);y.i.length>0&&mi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(y,7):Ro(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}ti(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return K(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,vo(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rr(this,m[4]),this.h=ci(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ss(m,Zs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,Zs,!0),"@"),u.push(Di(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?Eo:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,iu)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)rr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const At=L[J++];At=="."?T&&J==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?vo(m,su(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function xe(u,m,y){u.j=y?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,y){m instanceof ar?(u.i=m,Ws(u.i,u.l)):(y||(m=ss(m,sr)),u.i=new ar(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function rs(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,nu=/[#\?:]/g,Eo=/[#\?]/g,sr=/[#\?@]/g,iu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ar.prototype,s.add=function(u,m){nn(this),this.i=null,u=or(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ru(u,m){nn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return nn(u),m=or(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ao(u,m){nn(u);let y=[];if(typeof m=="string")To(u,m)&&(y=y.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=or(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,y){ru(u,m),y.length>0&&(u.i=null,u.g.set(or(u,m),K(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Di(y);y=Ao(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Di(y[B])),u.push(J)}}return this.i=u.join("&")};function su(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(ru(this,T),$s(this,L,y))},u)),u.j=m}function Pn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=A(Tn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,y,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const y=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function lr(){this.g=new Ql}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(hi,Kl),hi.prototype.g=function(){return new as(this.i,this.h)};function as(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(as,ge),s=as.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):zn(this),this.readyState==3&&ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},s.Na=function(u){this.g&&(this.response=u,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return kt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function os(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=An(y),typeof u=="string"?y!=null&&Di(y):Gt(u,m,y))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,ge);var fi=/^https?$/i,bo=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ls(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ls(this,B)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wo(u),Ni(u)}function wo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},s.Xa=function(){us(this)};function us(u){if(u.h&&typeof h<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(eu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!fi.test(J?J.toLowerCase():"")}y=T}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wo(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=$l(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),mi(this)};function Ro(u){if(ea(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),cs(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=rs(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}hu(u)}function hr(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ea(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||S(),Tt||(mt(),Tt=!0),C.add(m,u),u.D=0}}function na(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),cs(this,y),B&&(this.R?m="headers="+Di(An(B))+"&"+m:this.u&&os(y,this.u,B)),po(this.h,L),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),L.U=!0,ri(L,y,null)):ri(L,y,m),this.I=2}}else this.I==3&&(u?Io(this,u):this.i.length==0||go(this.h)||Io(this))};function Io(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),cs(u,T),u.u&&u.o&&os(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,y),ri(y,T,m)}function cs(u,m){u.H&&kt(u.H,function(y,T){Gt(m,T,y)}),u.l&&kt({},function(y,T){Gt(m,T,y)})}function au(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const he=["count="+y];At==-1?y>0?(At=L[0].g,he.push("ofs="+At)):At=0:he.push("ofs="+At);let Bt=!0;for(let se=0;se<y;se++){var B=L[se].g;const Sn=L[se].map;if(B-=At,B<0)At=Math.max(0,L[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[pi,qn]of J){let jn=qn;p(qn)&&(jn=ir(qn)),he.push(B+pi+"="+encodeURIComponent(jn))}}catch(pi){throw he.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Sn)}}if(Bt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||S(),Tt||(mt(),Tt=!0),C.add(m,u),u.A=0}}function hs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hr(this),lu(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),cs(u,m),u.u&&u.o&&os(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=rs(ve(m)),y.u=null,y.R=!0,Ys(y,u)}s.Va=function(){this.C!=null&&(this.C=null,hr(this),hs(this),pe(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){ia(u),Co(u),u.g=null;var T=2}else if(ui(u.h,m))y=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ks(),De(T,new ei(T,y)),mi(u)}else ou(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&na(u,m)||T==2&&hs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function cu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),rs(T),L?Pn(T.toString(),y):So(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),hu(u),ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,y){var T=y instanceof hn?ve(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new hn(null);T&&xe(B,T),m&&(B.g=m),L&&rr(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),cs(u,T),T}function du(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new hi({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b($e,ge),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ro(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ir(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&mi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,$e.Z.N.call(this)};function gu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(gu,ke);function pu(){vn.call(this),this.status=1}b(pu,vn);function Vi(u){this.g=u}b(Vi,mu),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new gu(u))},Vi.prototype.pa=function(u){De(this.g,new pu)},Vi.prototype.oa=function(){De(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,rT=function(){return new fr},iT=function(){return Ks()},nT=ce,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Nc=ns,ho.COMPLETE="complete",eT=ho,Yl.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,ml=Yl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,tT=Yt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let no="12.8.0";function rR(s){no=s}const ks=new hm("@firebase/firestore");function xa(){return ks.logLevel}function nt(s,...t){if(ks.logLevel<=Ot.DEBUG){const i=t.map(bm);ks.debug(`Firestore (${no}): ${s}`,...i)}}function Wi(s,...t){if(ks.logLevel<=Ot.ERROR){const i=t.map(bm);ks.error(`Firestore (${no}): ${s}`,...i)}}function Ka(s,...t){if(ks.logLevel<=Ot.WARN){const i=t.map(bm);ks.warn(`Firestore (${no}): ${s}`,...i)}}function bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ft(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,sT(s,a,i)}function sT(s,t,i){let a=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function jt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||sT(t,l,a)}function vt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class aT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class aR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class oR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new aT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class lR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class uR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new lR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=hR(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function Xd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Md(l)===Md(h)?Vt(l,h):Md(l)?1:-1}return Vt(s.length,t.length)}const fR=55296,dR=57343;function Md(s){const t=s.charCodeAt(0);return t>=fR&&t<=dR}function Ya(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const uv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ft(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Ti.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Wt extends Ti{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const mR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return mR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Ge([uv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Wt.fromString(t))}static fromName(t){return new lt(Wt.fromString(t).popFirst(5))}static empty(){return new lt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Wt(t.slice()))}}function oT(s,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function gR(s,t,i,a){if(t===!0&&a===!0)throw new it(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function cv(s){if(!lt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function hv(s){if(lt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function lT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function qa(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ah(s);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function pR(s,t){if(t<=0)throw new it(Y.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function zl(s,t){if(!lT(s))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}const fv=-62135596800,dv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*dv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<fv)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function yR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Fr(l,lt.empty(),t)}function _R(s){return new Fr(s.readTime,s.key,Rl)}class Fr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Fr(yt.min(),lt.empty(),Rl)}static max(){return new Fr(yt.max(),lt.empty(),Rl)}}function vR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function io(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==ER)throw s;nt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===h&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function AR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ro(s){return s.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Rm=-1;function lh(s){return s==null}function Gc(s){return s===0&&1/s==-1/0}function SR(s){return typeof s=="number"&&Number.isInteger(s)&&!Gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const uT="";function bR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=mv(t)),t=wR(s.get(i),t);return mv(t)}function wR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case uT:i+="";break;default:i+=h}}return i}function mv(s){return s+uT+""}function gv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function zs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function cT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new He(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new hT("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(s){if(jt(!!s,39018),typeof s=="string"){let t=0;const i=RR.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Kr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const fT="server_timestamp",dT="__type__",mT="__previous_value__",gT="__local_write_time__";function Im(s){return(s?.mapValue?.fields||{})[dT]?.stringValue===fT}function uh(s){const t=s.mapValue.fields[mT];return Im(t)?uh(t):t}function Il(s){const t=Qr(s.mapValue.fields[gT].timestampValue);return new ne(t.seconds,t.nanos)}class IR{constructor(t,i,a,l,h,d,p,v,_,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=b}}const Fc="(default)";class Cl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Cl&&t.projectId===this.projectId&&t.database===this.database}}function CR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(s.options.projectId,t)}const pT="__type__",DR="__max__",Sc={mapValue:{}},yT="__vector__",Qc="value";function Yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Im(s)?4:OR(s)?9007199254740991:NR(s)?10:11:ft(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Yr(s);if(i!==Yr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Il(s).isEqual(Il(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Qr(l.timestampValue),p=Qr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Kr(l.bytesValue).isEqual(Kr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return me(l.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return me(l.integerValue)===me(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=me(l.doubleValue),p=me(h.doubleValue);return d===p?Gc(d)===Gc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ya(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(gv(d)!==gv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ci(d[v],p[v])))return!1;return!0})(s,t);default:return ft(52216,{left:s})}}function Dl(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Xa(s,t){if(s===t)return 0;const i=Yr(s),a=Yr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return yv(s.timestampValue,t.timestampValue);case 4:return yv(Il(s),Il(t));case 5:return Xd(s.stringValue,t.stringValue);case 6:return(function(h,d){const p=Kr(h),v=Kr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Vt(p[_],v[_]);if(A!==0)return A}return Vt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Vt(me(h.latitude),me(d.latitude));return p!==0?p:Vt(me(h.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return _v(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Qc]?.arrayValue,A=v[Qc]?.arrayValue,b=Vt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:_v(_,A)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===Sc.mapValue&&d===Sc.mapValue)return 0;if(h===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const M=Xd(v[b],A[b]);if(M!==0)return M;const K=Xa(p[v[b]],_[A[b]]);if(K!==0)return K}return Vt(v.length,A.length)})(s.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function yv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Qr(s),a=Qr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function _v(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Xa(i[l],a[l]);if(h)return h}return Vt(i.length,a.length)}function Ja(s){return Jd(s)}function Jd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Qr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return lt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Jd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Jd(i.fields[d])}`;return l+"}"})(s.mapValue):ft(61005,{value:s})}function Oc(s){switch(Yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(s);return t?16+Oc(t):16;case 5:return 2*s.stringValue.length;case 6:return Kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Oc(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return zs(a.fields,((h,d)=>{l+=h.length+Oc(d)})),l})(s.mapValue);default:throw ft(13486,{value:s})}}function vv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Zd(s){return!!s&&"integerValue"in s}function Cm(s){return!!s&&"arrayValue"in s}function Ev(s){return!!s&&"nullValue"in s}function Tv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function NR(s){return(s?.mapValue?.fields||{})[pT]?.stringValue===yT}function El(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return zs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=El(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(s.arrayValue.values[i]);return t}return{...s}}function OR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=El(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){zs(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Vn(El(this.value))}}function _T(s){const t=[];return zs(s.fields,((i,a)=>{const l=new Ge([i]);if(Vc(a)){const h=_T(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Xe{constructor(t,i,a,l,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function Av(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function VR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class vT{}class we extends vT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new xR(t,i,a):i==="array-contains"?new kR(t,a):i==="in"?new PR(t,a):i==="not-in"?new zR(t,a):i==="array-contains-any"?new BR(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new UR(t,a):new LR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Yr(this.value)===Yr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends vT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return ET(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ET(s){return s.op==="and"}function TT(s){return MR(s)&&ET(s)}function MR(s){for(const t of s.filters)if(t instanceof $n)return!1;return!0}function $d(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Ja(s.value);if(TT(s))return s.filters.map((t=>$d(t))).join(",");{const t=s.filters.map((i=>$d(i))).join(",");return`${s.op}(${t})`}}function AT(s,t){return s instanceof we?(function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof $n?(function(a,l){return l instanceof $n&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,p)=>h&&AT(d,l.filters[p])),!0):!1})(s,t):void ft(19439)}function ST(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(s):s instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(ST).join(" ,")+"}"})(s):"Filter"}class xR extends we{constructor(t,i,a){super(t,i,a),this.key=lt.fromName(a.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class UR extends we{constructor(t,i){super(t,"in",i),this.keys=bT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class LR extends we{constructor(t,i){super(t,"not-in",i),this.keys=bT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function bT(s,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class kR extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&Dl(i.arrayValue,this.value)}}class PR extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Dl(this.value.arrayValue,i)}}class zR extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Dl(this.value.arrayValue,i)}}class BR extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Dl(this.value.arrayValue,a)))}}class qR{constructor(t,i=null,a=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function bv(s,t=null,i=[],a=[],l=null,h=null,d=null){return new qR(s,t,i,a,l,h,d)}function Dm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Nm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!VR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!AT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Sv(s.startAt,t.startAt)&&Sv(s.endAt,t.endAt)}function Wd(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Bl{constructor(t,i=null,a=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function jR(s,t,i,a,l,h,d,p){return new Bl(s,t,i,a,l,h,d,p)}function Om(s){return new Bl(s)}function wv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function HR(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function wT(s){return s.collectionGroup!==null}function Tl(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Yc(h,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Yc(Ge.keyField(),a))}return t.Ie}function Si(s){const t=vt(s);return t.Ee||(t.Ee=GR(t,Tl(s))),t.Ee}function GR(s,t){if(s.limitType==="F")return bv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Yc(l.field,h)}));const i=s.endAt?new Kc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Kc(s.startAt.position,s.startAt.inclusive):null;return bv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function tm(s,t){const i=s.filters.concat([t]);return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Xc(s,t,i){return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ch(s,t){return Nm(Si(s),Si(t))&&s.limitType===t.limitType}function RT(s){return`${Dm(Si(s))}|lt:${s.limitType}`}function Ua(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>ST(l))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function hh(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):lt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of Tl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=Av(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Tl(a),l)||a.endAt&&!(function(d,p,v){const _=Av(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Tl(a),l))})(s,t)}function FR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function IT(s){return(t,i)=>{let a=!1;for(const l of Tl(s)){const h=QR(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function QR(s,t,i){const a=s.field.isKeyField()?lt.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Xa(v,_):ft(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:s.dir})}}class Bs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}const KR=new oe(lt.comparator);function tr(){return KR}const CT=new oe(lt.comparator);function gl(...s){let t=CT;for(const i of s)t=t.insert(i.key,i);return t}function DT(s){let t=CT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ns(){return Al()}function NT(){return Al()}function Al(){return new Bs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const YR=new oe(lt.comparator),XR=new Ve(lt.comparator);function Mt(...s){let t=XR;for(const i of s)t=t.add(i);return t}const JR=new Ve(Vt);function ZR(){return JR}function Vm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function OT(s){return{integerValue:""+s}}function $R(s,t){return SR(t)?OT(t):Vm(s,t)}class fh{constructor(){this._=void 0}}function WR(s,t,i){return s instanceof Nl?(function(l,h){const d={fields:{[dT]:{stringValue:fT},[gT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Im(h)&&(h=uh(h)),h&&(d.fields[mT]=h),{mapValue:d}})(i,t):s instanceof Ol?MT(s,t):s instanceof Vl?xT(s,t):(function(l,h){const d=VT(l,h),p=Rv(d)+Rv(l.Ae);return Zd(d)&&Zd(l.Ae)?OT(p):Vm(l.serializer,p)})(s,t)}function tI(s,t,i){return s instanceof Ol?MT(s,t):s instanceof Vl?xT(s,t):i}function VT(s,t){return s instanceof Jc?(function(a){return Zd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Nl extends fh{}class Ol extends fh{constructor(t){super(),this.elements=t}}function MT(s,t){const i=UT(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Vl extends fh{constructor(t){super(),this.elements=t}}function xT(s,t){let i=UT(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class Jc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(s){return me(s.integerValue||s.doubleValue)}function UT(s){return Cm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class eI{constructor(t,i){this.field=t,this.transform=i}}function nI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ol&&l instanceof Ol||a instanceof Vl&&l instanceof Vl?Ya(a.elements,l.elements,Ci):a instanceof Jc&&l instanceof Jc?Ci(a.Ae,l.Ae):a instanceof Nl&&l instanceof Nl})(s.transform,t.transform)}class iI{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class dh{}function LT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Mm(s.key,bi.none()):new ql(s.key,s.data,bi.none());{const i=s.data,a=Vn.empty();let l=new Ve(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new qs(s.key,a,new Xn(l.toArray()),bi.none())}}function rI(s,t,i){s instanceof ql?(function(l,h,d){const p=l.value.clone(),v=Cv(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof qs?(function(l,h,d){if(!Mc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Cv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(kT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Sl(s,t,i,a){return s instanceof ql?(function(h,d,p,v){if(!Mc(h.precondition,d))return p;const _=h.value.clone(),A=Dv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof qs?(function(h,d,p,v){if(!Mc(h.precondition,d))return p;const _=Dv(h.fieldTransforms,v,d),A=d.data;return A.setAll(kT(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(h,d,p){return Mc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function sI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=VT(a.transform,l||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function Iv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((h,d)=>nI(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends dh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qs extends dh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function kT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Cv(s,t,i){const a=new Map;jt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,p=t.data.field(h.field);a.set(h.field,tI(d,p,i[l]))}return a}function Dv(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,WR(h,d,t))}return a}class Mm extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&rI(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Sl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=NT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=LT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Iv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Iv(i,a)))}}class xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return YR})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new xm(t,i,a,l)}}class lI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Lt;function cI(s){switch(s){case Y.OK:return ft(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function PT(s){if(s===void 0)return Wi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case be.OK:return Y.OK;case be.CANCELLED:return Y.CANCELLED;case be.UNKNOWN:return Y.UNKNOWN;case be.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case be.INTERNAL:return Y.INTERNAL;case be.UNAVAILABLE:return Y.UNAVAILABLE;case be.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case be.NOT_FOUND:return Y.NOT_FOUND;case be.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case be.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case be.ABORTED:return Y.ABORTED;case be.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case be.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case be.DATA_LOSS:return Y.DATA_LOSS;default:return ft(39323,{code:s})}}(Lt=be||(be={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const fI=new Hr([4294967295,4294967295],0);function Nv(s){const t=hI().encode(s),i=new WE;return i.update(t),new Uint8Array(i.digest())}function Ov(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,h],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new pl(`Invalid padding: ${i}`);if(a<0)throw new pl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(fI)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Nv(t),[a,l]=Ov(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Um(h,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Nv(t),[a,l]=Ov(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(yt.min(),l,new oe(Vt),tr(),Mt())}}class jl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,Mt(),Mt(),Mt())}}class xc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class zT{constructor(t,i){this.targetId=t,this.Ce=i}}class BT{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Vv{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ft(38017,{changeType:h})}})),new jl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Mv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dI{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.He=bc(),this.Je=bc(),this.Ze=new oe(Vt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Wd(h))if(a===0){const d=new lt(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Kr(a).toUint8Array()}catch(v){if(v instanceof hT)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Um(d,l,h)}catch(v){return Ka(v instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Wd(p.target)){const v=new lt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=Mt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new mh(t,i,this.Ze,this.je,a);return this.je=tr(),this.He=bc(),this.Je=bc(),this.Ze=new oe(Vt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Vv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new oe(lt.comparator)}function Mv(){return new oe(lt.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class yI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(s,t){return s.useProto3Json||lh(t)?t:{value:t}}function Zc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function _I(s,t){return Zc(s,t.toTimestamp())}function wi(s){return jt(!!s,49232),yt.fromTimestamp((function(i){const a=Qr(i);return new ne(a.seconds,a.nanos)})(s))}function Lm(s,t){return nm(s,t).canonicalString()}function nm(s,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function jT(s){const t=Wt.fromString(s);return jt(KT(t),10190,{key:t.toString()}),t}function im(s,t){return Lm(s.databaseId,t.path)}function xd(s,t){const i=jT(t);if(i.get(1)!==s.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new lt(GT(i))}function HT(s,t){return Lm(s.databaseId,t)}function vI(s){const t=jT(s);return t.length===4?Wt.emptyPath():GT(t)}function rm(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GT(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,t,i){return{name:im(s,t),fields:i.value.mapValue.fields}}function EI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:PT(_.code);return new it(A,_.message||"")})(d);i=new BT(a,l,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=xd(s,a.document.name),h=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):yt.min(),p=new Vn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new xc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=xd(s,a.document),h=a.readTime?wi(a.readTime):yt.min(),d=Xe.newNoDocument(l,h),p=a.removedTargetIds||[];i=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=xd(s,a.document),h=a.removedTargetIds||[];i=new xc([],h,l,null)}else{if(!("filter"in t))return ft(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new uI(l,h),p=a.targetId;i=new zT(p,d)}}return i}function TI(s,t){let i;if(t instanceof ql)i={update:xv(s,t.key,t.value)};else if(t instanceof Mm)i={delete:im(s,t.key)};else if(t instanceof qs)i={update:xv(s,t.key,t.data),updateMask:NI(t.fieldMask)};else{if(!(t instanceof aI))return ft(16599,{dt:t.type});i={verify:im(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:_I(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(s,t.precondition)),i}function AI(s,t){return s&&s.length>0?(jt(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?wi(l.updateTime):wi(h);return d.isEqual(yt.min())&&(d=wi(h)),new iI(d,l.transformResults||[])})(i,t)))):[]}function SI(s,t){return{documents:[HT(s,t.path)]}}function bI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=HT(s,l);const h=(function(_){if(_.length!==0)return QT($n.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:La(M.field),direction:II(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function wI(s){let t=vI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const M=FT(b);return M instanceof $n&&TT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((M=>(function(Z){return new Yc(ka(Z.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let M;return M=typeof b=="object"?b.value:b,lh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(b){const M=!!b.before,K=b.values||[];return new Kc(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const M=!b.before,K=b.values||[];return new Kc(K,M)})(i.endAt)),jR(t,l,d,h,p,"F",v,_)}function RI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function FT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ka(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ka(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ka(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>FT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function II(s){return mI[s]}function CI(s){return gI[s]}function DI(s){return pI[s]}function La(s){return{fieldPath:s.canonicalString()}}function ka(s){return Ge.fromServerFormat(s.fieldPath)}function QT(s){return s instanceof we?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:La(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(i.field),op:CI(i.op),value:i.value}}})(s):s instanceof $n?(function(i){const a=i.getFilters().map((l=>QT(l)));return a.length===1?a[0]:{compositeFilter:{op:DI(i.op),filters:a}}})(s):ft(54877,{filter:s})}function NI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function KT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function YT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class zr{constructor(t,i,a,l,h=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class OI{constructor(t){this.yt=t}}function VI(s){const t=wI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xc(t,t.limit,"L"):t}class MI{constructor(){this.Sn=new xI}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Fr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class xI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(Wt.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(Wt.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(XT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Za{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}const Lv="LruGarbageCollector",UI=1048576;function kv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class LI{constructor(t){this.Pr=t,this.buffer=new Ve(kv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ro(i)?nt(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await io(i)}await this.Ar(3e5)}))}}class PI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(oh.ce);const a=new LI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(_=Date.now(),xa()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:b}))))}}function zI(s,t){return new PI(s,t)}class BI{constructor(){this.changes=new Bs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class qI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class jI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Sl(a.mutation,l,Xn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ns();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=gl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ns();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let h=tr();const d=Al(),p=(function(){return Al()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof qs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Sl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new qI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Al();let l=new oe(((d,p)=>d-p)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Xn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const b=(l.get(p.batchId)||Mt()).add(v);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,b=NT();A.forEach((M=>{if(!h.has(M)){const K=LT(i.get(M),a.get(M));K!==null&&b.set(M,K),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return HR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):wT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):X.resolve(Ns());let p=Rl,v=h;return d.next((_=>X.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Mt()))).next((A=>({batchId:p,changes:DT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((a=>{let l=gl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=gl();return this.indexManager.getCollectionParents(t,h).next((p=>X.forEach(p,(v=>{const _=(function(b,M){return new Bl(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((b,M)=>{d=d.insert(b,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=gl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Sl(A.mutation,_,Xn.empty(),ne.now()),hh(i,_)&&(p=p.insert(v,_))})),p}))}}class HI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:VI(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class GI{constructor(){this.overlays=new oe(lt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ns();return X.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.bt(t,i,h)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Ns(),h=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Ns(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Ns(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new lI(i,a));let h=this.Lr.get(i);h===void 0&&(h=Mt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class FI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class km{constructor(){this.kr=new Ve(Le.Kr),this.qr=new Ve(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new lt(new Wt([])),a=new Le(i,t),l=new Le(i,t+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new lt(new Wt([])),a=new Le(i,t),l=new Le(i,t+1);let h=Mt();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return lt.comparator(t.key,i.key)||Vt(t.Hr,i.Hr)}static Ur(t,i){return Vt(t.Hr,i.Hr)||lt.comparator(t.key,i.key)}}class QI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Le.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oI(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);h.push(p)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const h=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;lt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new lt(h),0);let p=new Ve(Vt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const h=new Le(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class KI{constructor(t){this.ti=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=tr();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=tr();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vR(_R(A),a)<=0||(l.has(A.key)||hh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,a,l){ft(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new YI(this)}getSize(t){return X.resolve(this.size)}}class YI extends BI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class XI{constructor(t){this.persistence=t,this.ri=new Bs((i=>Dm(i)),Nm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new km,this.targetCount=0,this.oi=Za._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Za(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(h).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class JT{constructor(t,i){this._i={},this.overlays={},this.ai=new oh(0),this.ui=!1,this.ui=!0,this.ci=new FI,this.referenceDelegate=t(this),this.li=new XI(this),this.indexManager=new MI,this.remoteDocumentCache=(function(l){return new KI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new OI(i),this.Pi=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new GI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new QI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new JI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class JI extends TR{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new km,this.Ai=null}static Vi(t){return new Pm(t)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=lt.fromPath(a);return this.mi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class $c{constructor(t,i){this.persistence=t,this.fi=new Bs((a=>bR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=zI(this,i)}static Vi(t,i){return new $c(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Mt(),l=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new zm(t,i.fromCache,a,l)}}class ZI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $I{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return kS()?8:AR(Je())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.gs(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new ZI;return this.ys(t,i,d).next((p=>{if(h.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>h.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(xa()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(xa()<=Ot.DEBUG&&nt("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(xa()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}gs(t,i){if(wv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xc(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Mt(...h);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,Xc(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return wv(i)||l.isEqual(yt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?X.resolve(null):(xa()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ua(i)),this.Ds(t,d,i,yR(l,Rl)).next((p=>p)))}))}bs(t,i){let a=new Ve(IT(t));return i.forEach(((l,h)=>{hh(t,h)&&(a=a.add(h))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,i,a){return xa()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.fs.getDocumentsMatchingQuery(t,i,Fr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Bm="LocalStore",WI=3e8;class t2{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new oe(Vt),this.Fs=new Bs((h=>Dm(h)),Nm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function e2(s,t,i,a){return new t2(s,t,i,a)}async function ZT(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function n2(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const b=_.batch,M=b.keys();let K=X.resolve();return M.forEach((Z=>{K=K.next((()=>A.getEntry(v,Z))).next((tt=>{const et=_.docVersions.get(Z);jt(et!==null,48541),tt.version.compareTo(et)<0&&(b.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(v,b)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function $T(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function i2(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const M=l.get(b);if(!M)return;p.push(i.li.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,b))));let K=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),l=l.insert(b,K),(function(tt,et,ht){return tt.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=WI?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,K,A)&&p.push(i.li.updateTargetData(h,K))}));let v=tr(),_=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(r2(h,d,t.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!a.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((b=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function r2(s,t,i){let a=Mt(),l=Mt();return i.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let d=tr();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(Bm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function s2(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function a2(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((h=>h?(l=h,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function sm(s,t,i){const a=vt(s),l=a.vs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ro(d))throw d;nt(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Pv(s,t,i){const a=vt(s);let l=yt.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=vt(v),M=b.Fs.get(A);return M!==void 0?X.resolve(b.vs.get(M)):b.li.getTargetData(_,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Mt()))).next((p=>(o2(a,FR(t),p),{documents:p,ks:h})))))}function o2(s,t,i){let a=s.Ms.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Ms.set(t,a)}class zv{constructor(){this.activeTargetIds=ZR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l2{constructor(){this.vo=new zv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class u2{Mo(t){}shutdown(){}}const Bv="ConnectivityMonitor";class qv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function am(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Ud="RestConnection",c2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class h2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,h){const d=am(),p=this.Qo(t,i.toUriEncodedString());nt(Ud,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(p),A=Wa(_);return this.zo(t,p,v,a,A).then((b=>(nt(Ud,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(Ud,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}jo(t,i,a,l,h,d){return this.Wo(t,i,a,l,h)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+no})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,i){const a=c2[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class f2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ke="WebChannelConnection",dl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ja extends h2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ja.c_){const t=iT();dl(t,nT.STAT_EVENT,(i=>{i.stat===Yd.PROXY?nt(Ke,"STAT_EVENT: detected buffering proxy"):i.stat===Yd.NOPROXY&&nt(Ke,"STAT_EVENT: detected no buffering proxy")})),ja.c_=!0}}zo(t,i,a,l,h){const d=am();return new Promise(((p,v)=>{const _=new tT;_.setWithCredentials(!0),_.listenOnce(eT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Nc.NO_ERROR:const b=_.getResponseJson();nt(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Nc.TIMEOUT:nt(Ke,`RPC '${t}' ${d} timed out`),v(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const M=_.getStatus();if(nt(Ke,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const tt=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Et)>=0?Et:Y.UNKNOWN})(Z.status);v(new it(tt,Z.message))}else v(new it(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(Y.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=am(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=h.join("");nt(Ke,`Creating RPC '${t}' stream ${l}: ${_}`,p);const A=d.createWebChannel(_,p);this.I_(A);let b=!1,M=!1;const K=new f2({Ho:Z=>{M?nt(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(nt(Ke,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),nt(Ke,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return dl(A,ml.EventType.OPEN,(()=>{M||(nt(Ke,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),dl(A,ml.EventType.CLOSE,(()=>{M||(M=!0,nt(Ke,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(A))})),dl(A,ml.EventType.ERROR,(Z=>{M||(M=!0,Ka(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.o_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),dl(A,ml.EventType.MESSAGE,(Z=>{if(!M){const tt=Z.data[0];jt(!!tt,16349);const et=tt,ht=et?.error||et[0]?.error;if(ht){nt(Ke,`RPC '${t}' stream ${l} received error:`,ht);const Et=ht.status;let pt=(function(Tt){const C=be[Tt];if(C!==void 0)return PT(C)})(Et),Kt=ht.message;pt===void 0&&(pt=Y.INTERNAL,Kt="Unknown error status: "+Et+" with message "+ht.message),M=!0,K.o_(new it(pt,Kt)),A.close()}else nt(Ke,`RPC '${t}' stream ${l} received:`,tt),K.__(tt)}})),ja.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rT()}}function d2(s){return new ja(s)}function Ld(){return typeof document<"u"?document:null}function gh(s){return new yI(s,!0)}ja.c_=!1;class WT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const jv="PersistentStream";class t0{constructor(t,i,a,l,h,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new it(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m2 extends t0{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=EI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?wi(d.readTime):yt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=rm(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Wd(v)?{documents:SI(h,v)}:{query:bI(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=qT(h,d.resumeToken);const _=em(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Zc(h,d.snapshotVersion.toTimestamp());const _=em(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=RI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=rm(this.serializer),i.removeTarget=t,this.K_(i)}}class g2 extends t0{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=AI(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=rm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>TI(this.serializer,a)))};this.K_(i)}}class p2{}class y2 extends p2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,nm(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(Y.UNKNOWN,h.toString())}))}jo(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,nm(i,a),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _2(s,t,i,a){return new y2(s,t,i,a)}class v2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ps="RemoteStore";class E2{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{js(this)&&(nt(Ps,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await Hl(_),_.Va.set("Unknown"),_.Ea.delete(4),await ph(_)})(this))}))})),this.Va=new v2(a,l)}}async function ph(s){if(js(s))for(const t of s.Ra)await t(!0)}async function Hl(s){for(const t of s.Ra)await t(!1)}function e0(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Hm(i):so(i).O_()&&jm(i,t))}function qm(s,t){const i=vt(s),a=so(i);i.Ia.delete(t),a.O_()&&n0(i,t),i.Ia.size===0&&(a.O_()?a.L_():js(i)&&i.Va.set("Unknown"))}function jm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}so(s).Z_(t)}function n0(s,t){s.da.$e(t),so(s).X_(t)}function Hm(s){s.da=new dI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),so(s).start(),s.Va.ua()}function Gm(s){return js(s)&&!so(s).x_()&&s.Ia.size>0}function js(s){return vt(s).Ea.size===0}function i0(s){s.da=void 0}async function T2(s){s.Va.set("Online")}async function A2(s){s.Ia.forEach(((t,i)=>{jm(s,t)}))}async function S2(s,t){i0(s),Gm(s)?(s.Va.ha(t),Hm(s)):s.Va.set("Unknown")}async function b2(s,t,i){if(s.Va.set("Online"),t instanceof BT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){nt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(s,a)}else if(t instanceof xc?s.da.Xe(t):t instanceof zT?s.da.st(t):s.da.tt(t),!i.isEqual(yt.min()))try{const a=await $T(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(h,v);const b=new zr(A.target,v,_,A.sequenceNumber);jm(h,b)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){nt(Ps,"Failed to raise snapshot:",a),await Wc(s,a)}}async function Wc(s,t,i){if(!ro(t))throw t;s.Ea.add(1),await Hl(s),s.Va.set("Offline"),i||(i=()=>$T(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(Ps,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ph(s)}))}function r0(s,t){return t().catch((i=>Wc(s,i,t)))}async function yh(s){const t=vt(s),i=Xr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;w2(t);)try{const l=await s2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,R2(t,l)}catch(l){await Wc(t,l)}s0(t)&&a0(t)}function w2(s){return js(s)&&s.Ta.length<10}function R2(s,t){s.Ta.push(t);const i=Xr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function s0(s){return js(s)&&!Xr(s).x_()&&s.Ta.length>0}function a0(s){Xr(s).start()}async function I2(s){Xr(s).ra()}async function C2(s){const t=Xr(s);for(const i of s.Ta)t.ea(i.mutations)}async function D2(s,t,i){const a=s.Ta.shift(),l=xm.from(a,t,i);await r0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await yh(s)}async function N2(s,t){t&&Xr(s).Y_&&await(async function(a,l){if((function(d){return cI(d)&&d!==Y.ABORTED})(l.code)){const h=a.Ta.shift();Xr(a).B_(),await r0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await yh(a)}})(s,t),s0(s)&&a0(s)}async function Hv(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),nt(Ps,"RemoteStore received new credentials");const a=js(i);i.Ea.add(3),await Hl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function O2(s,t){const i=vt(s);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await Hl(i),i.Va.set("Unknown"))}function so(s){return s.ma||(s.ma=(function(i,a,l){const h=vt(i);return h.sa(),new m2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:T2.bind(null,s),Yo:A2.bind(null,s),t_:S2.bind(null,s),J_:b2.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Gm(s)?Hm(s):s.Va.set("Unknown")):(await s.ma.stop(),i0(s))}))),s.ma}function Xr(s){return s.fa||(s.fa=(function(i,a,l){const h=vt(i);return h.sa(),new g2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:I2.bind(null,s),t_:N2.bind(null,s),ta:C2.bind(null,s),na:D2.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await yh(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(Ps,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Fm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,p=new Fm(t,i,d,l,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(s,t){if(Wi("AsyncQueue",`${t}: ${s}`),ro(s))return new it(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||lt.comparator(i.key,a.key):(i,a)=>lt.comparator(i.key,a.key),this.keyedMap=gl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ha;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Gv{constructor(){this.ga=new oe(lt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,l,h,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,Ha.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class V2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class M2{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),h=l.queries;l.queries=Fv(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Fv(){return new Bs((s=>RT(s)),ch)}async function x2(s,t){const i=vt(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new V2,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Qm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.ba.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Km(i)}async function U2(s,t){const i=vt(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(t);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function L2(s,t){const i=vt(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&Km(i)}function k2(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(t)}function Km(s){s.Ca.forEach((t=>{t.next()}))}var om,Qv;(Qv=om||(om={})).Ma="default",Qv.Cache="cache";class P2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class o0{constructor(t){this.key=t}}class l0{constructor(t){this.key=t}}class z2{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.eu=IT(t),this.tu=new Ha(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Gv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const M=l.get(A),K=hh(this.query,b)?b:null,Z=!!M&&this.mutatedKeys.has(M.key),tt=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let et=!1;M&&K?M.data.isEqual(K.data)?Z!==tt&&(a.track({type:3,doc:K}),et=!0):this.su(M,K)||(a.track({type:2,doc:K}),et=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(p=!0)):!M&&K?(a.track({type:0,doc:K}),et=!0):M&&!K&&(a.track({type:1,doc:M}),et=!0,(v||_)&&(p=!0)),et&&(K?(d=d.add(K),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(K,Z){const tt=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:et})}};return tt(K)-tt(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new $a(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new l0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new o0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ym="SyncEngine";class B2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class q2{constructor(t){this.key=t,this.hu=!1}}class j2{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Bs((p=>RT(p)),ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(lt.comparator),this.Au=new Map,this.Vu=new km,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H2(s,t,i=!0){const a=m0(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await u0(a,t,i,!0),l}async function G2(s,t){const i=m0(s);await u0(i,t,!0,!1)}async function u0(s,t,i,a){const l=await a2(s.localStore,Si(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await F2(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&e0(s.remoteStore,l),p}async function F2(s,t,i,a,l){s.pu=(b,M,K)=>(async function(tt,et,ht,Et){let pt=et.view.ru(ht);pt.Ss&&(pt=await Pv(tt.localStore,et.query,!1).then((({documents:C})=>et.view.ru(C,pt))));const Kt=Et&&Et.targetChanges.get(et.targetId),mt=Et&&Et.targetMismatches.get(et.targetId)!=null,Tt=et.view.applyChanges(pt,tt.isPrimaryClient,Kt,mt);return Yv(tt,et.targetId,Tt.au),Tt.snapshot})(s,b,M,K);const h=await Pv(s.localStore,t,!0),d=new z2(t,h.ks),p=d.ru(h.documents),v=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);Yv(s,i,_.au);const A=new B2(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function Q2(s,t,i){const a=vt(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),lm(a,l.targetId)})).catch(io)):(lm(a,l.targetId),await sm(a.localStore,l.targetId,!0))}async function K2(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function Y2(s,t,i){const a=eC(s);try{const l=await(function(d,p){const v=vt(d),_=ne.now(),A=p.reduce(((K,Z)=>K.add(Z.key)),Mt());let b,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=tr(),tt=Mt();return v.xs.getEntries(K,A).next((et=>{Z=et,Z.forEach(((ht,Et)=>{Et.isValidDocument()||(tt=tt.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,Z))).next((et=>{b=et;const ht=[];for(const Et of p){const pt=sI(Et,b.get(Et.key).overlayedDocument);pt!=null&&ht.push(new qs(Et.key,pt,_T(pt.value.mapValue),bi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,ht,p)})).next((et=>{M=et;const ht=et.applyToLocalDocumentSet(b,tt);return v.documentOverlayCache.saveOverlays(K,et.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:DT(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new oe(Vt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Gl(a,l.changes),await yh(a.remoteStore)}catch(l){const h=Qm(l,"Failed to persist write");i.reject(h)}}async function c0(s,t){const i=vt(s);try{const a=await i2(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await io(a)}}function Kv(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,b)=>{for(const M of b.ba)M.va(p)&&(_=!0)})),_&&Km(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function X2(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new oe(lt.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Mt().add(h),v=new mh(yt.min(),new Map,new oe(Vt),d,p);await c0(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),Xm(a)}else await sm(a.localStore,t,!1).then((()=>lm(a,t,i))).catch(io)}async function J2(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await n2(i.localStore,t);f0(i,a,null),h0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await io(l)}}async function Z2(s,t,i){const a=vt(s);try{const l=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((b=>(jt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);f0(a,t,i),h0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await io(l)}}function h0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function f0(s,t,i){const a=vt(s);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function lm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||d0(s,a)}))}function d0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(qm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Xm(s))}function Yv(s,t,i){for(const a of i)a instanceof o0?(s.Vu.addReference(a.key,t),$2(s,a)):a instanceof l0?(nt(Ym,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||d0(s,a.key)):ft(19791,{wu:a})}function $2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(nt(Ym,"New document in limbo: "+i),s.Eu.add(a),Xm(s))}function Xm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new lt(Wt.fromString(t)),a=s.fu.next();s.Au.set(a,new q2(i)),s.Ru=s.Ru.insert(i,a),e0(s.remoteStore,new zr(Si(Om(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Gl(s,t,i){const a=vt(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=zm.Es(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(_,(M=>X.forEach(M.Ts,(K=>A.persistence.referenceDelegate.addReference(b,M.targetId,K))).next((()=>X.forEach(M.Is,(K=>A.persistence.referenceDelegate.removeReference(b,M.targetId,K)))))))))}catch(b){if(!ro(b))throw b;nt(Bm,"Failed to update sequence numbers: "+b)}for(const b of _){const M=b.targetId;if(!b.fromCache){const K=A.vs.get(M),Z=K.snapshotVersion,tt=K.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(M,tt)}}})(a.localStore,h))}async function W2(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){nt(Ym,"User change. New user:",t.toKey());const a=await ZT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ns)}}function tC(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function m0(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=X2.bind(null,t),t.Pu.J_=L2.bind(null,t.eventManager),t.Pu.yu=k2.bind(null,t.eventManager),t}function eC(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Z2.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return e2(this.persistence,new $I,t.initialUser,this.serializer)}Cu(t){return new JT(Pm.Vi,this.serializer)}Du(t){return new l2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class nC extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new kI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new JT((a=>$c.Vi(a,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new M2})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=d2(t.databaseInfo);return _2(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,p){return new E2(a,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Kv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new u2})())}createSyncEngine(t,i){return(function(l,h,d,p,v,_,A){const b=new j2(l,h,d,p,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);nt(Ps,"RemoteStore shutting down."),a.Ea.add(5),await Hl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class iC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Jr="FirestoreClient";class rC{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{nt(Jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt(Jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function kd(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Jr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ZT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Xv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await sC(s);nt(Jr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Hv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Hv(t.remoteStore,l))),s._onlineComponents=t}async function sC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Jr,"Using user provided OfflineComponentProvider");try{await kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await kd(s,new th)}}else nt(Jr,"Using default OfflineComponentProvider"),await kd(s,new nC(void 0));return s._offlineComponents}async function g0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Jr,"Using user provided OnlineComponentProvider"),await Xv(s,s._uninitializedComponentsProvider._online)):(nt(Jr,"Using default OnlineComponentProvider"),await Xv(s,new um))),s._onlineComponents}function aC(s){return g0(s).then((t=>t.syncEngine))}async function Jv(s){const t=await g0(s),i=t.eventManager;return i.onListen=H2.bind(null,t.syncEngine),i.onUnlisten=Q2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=G2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=K2.bind(null,t.syncEngine),i}function oC(s,t,i,a){const l=new iC(a),h=new P2(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>x2(await Jv(s),h))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>U2(await Jv(s),h)))}}function lC(s,t){const i=new Vs;return s.asyncQueue.enqueueAndForget((async()=>Y2(await aC(s),t,i))),i.promise}function p0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const uC="ComponentProvider",Zv=new Map;function cC(s,t,i,a,l){return new IR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,p0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const y0="firestore.googleapis.com",$v=!0;class Wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y0,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<UI)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new sR;switch(a.type){case"firstParty":return new uR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(nt(uC,"Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function hC(s,t,i,a={}){s=qa(s,_h);const l=Wa(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(gE(`https://${p}`),pE("Firestore",!0)),h.host!==y0&&h.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:a};if(!xs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=CS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}s._authCredentials=new aR(new aT(_,A))}}class Hs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Hs(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(zl(i,Oe._jsonSchema))return new Oe(t,a||null,new lt(Wt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Gr extends Hs{constructor(t,i,a){super(t,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new lt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function tE(s,t,...i){if(s=tn(s),oT("collection","path",t),s instanceof _h){const a=Wt.fromString(t,...i);return hv(a),new Gr(s,null,a)}{if(!(s instanceof Oe||s instanceof Gr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return hv(a),new Gr(s.firestore,null,a)}}function _0(s,t,...i){if(s=tn(s),arguments.length===1&&(t=wm.newId()),oT("doc","path",t),s instanceof _h){const a=Wt.fromString(t,...i);return cv(a),new Oe(s,null,new lt(a))}{if(!(s instanceof Oe||s instanceof Gr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Wt.fromString(t,...i));return cv(a),new Oe(s.firestore,s instanceof Gr?s.converter:null,new lt(a))}}const eE="AsyncQueue";class nE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WT(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&nt(eE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ro(t))throw t;nt(eE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",iE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Fm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:iE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function iE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ml extends _h{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new nE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nE(t),this._firestoreClient=void 0,await t}}}function fC(s,t){const i=typeof s=="object"?s:EE(),a=typeof s=="string"?s:Fc,l=dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=RS("firestore");h&&hC(l,...h)}return l}function v0(s){if(s._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||dC(s),s._firestoreClient}function dC(s){const t=s._freezeSettings(),i=cC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new rC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class Mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mn(Fe.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Mn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zl(t,Mn._jsonSchema))return Mn.fromBase64String(t.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Re("string",Mn._jsonSchemaVersion),bytes:Re("string")};class E0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jm{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(zl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Re("string",Ri._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Re("string",Zn._jsonSchemaVersion),vectorValues:Re("object")};const mC=/^__.*__$/;class gC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new qs(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}function T0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:s})}}class Zm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return eh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(T0(this.dataSource)&&mC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class pC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}createContext(t,i,a,l=!1){return new Zm({dataSource:t,methodName:i,targetDoc:a,path:Ge.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A0(s){const t=s._freezeSettings(),i=gh(s._databaseId);return new pC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function yC(s,t,i,a,l,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,t,i,l);w0("Data must be an object, but it was:",d,a);const p=S0(a,d);let v,_;if(h.merge)v=new Xn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const M=vh(t,b,i);if(!d.contains(M))throw new it(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);TC(A,M)||A.push(M)}v=new Xn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new gC(new Vn(p),v,_)}class $m extends Jm{_toFieldTransform(t){return new eI(t.path,new Nl)}isEqual(t){return t instanceof $m}}function _C(s,t,i,a=!1){return Wm(i,s.createContext(a?4:3,t))}function Wm(s,t){if(b0(s=tn(s)))return w0("Unsupported field value:",t,s),S0(s,t);if(s instanceof Jm)return(function(a,l){if(!T0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const p of a){let v=Wm(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return $R(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ne.fromDate(a);return{timestampValue:Zc(l.serializer,h)}}if(a instanceof ne){const h=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,h)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Mn)return{bytesValue:qT(l.serializer,a._byteString)};if(a instanceof Oe){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Lm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[pT]:{stringValue:yT},[Qc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Vm(p.serializer,A)}))}}}}}})(a,l);if(YT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ah(a)}`)})(s,t)}function S0(s,t){const i={};return cT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(s,((a,l)=>{const h=Wm(l,t.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function b0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof Ri||s instanceof Mn||s instanceof Oe||s instanceof Jm||s instanceof Zn||YT(s))}function w0(s,t,i){if(!b0(i)||!lT(i)){const a=ah(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function vh(s,t,i){if((t=tn(t))instanceof E0)return t._internalPath;if(typeof t=="string")return EC(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const vC=new RegExp("[~\\*/\\[\\]]");function EC(s,t,i){if(t.search(vC)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new E0(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new it(Y.INVALID_ARGUMENT,p+s+v)}function TC(s,t){return s.some((i=>i.isEqual(t)))}class AC{convertValue(t,i="none"){switch(Yr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return zs(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ri(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=uh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Il(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);jt(KT(a),9688,{name:t});const l=new Cl(a.get(1),a.get(3)),h=new lt(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class R0 extends AC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function SC(){return new $m("serverTimestamp")}const rE="@firebase/firestore",sE="4.10.0";function aE(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class I0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(vh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class bC extends I0{data(){return super.data()}}function wC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class C0 extends tg{}function RC(s,t,...i){let a=[];t instanceof tg&&a.push(t),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof eg)).length,p=h.filter((v=>v instanceof Eh)).length;if(d>1||d>0&&p>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Eh extends C0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Eh(t,i,a)}_apply(t){const i=this._parse(t);return D0(t._query,i),new Hs(t.firestore,t.converter,tm(t._query,i))}_parse(t){const i=A0(t.firestore);return(function(h,d,p,v,_,A,b){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){lE(b,A);const Z=[];for(const tt of b)Z.push(oE(v,h,tt));M={arrayValue:{values:Z}}}else M=oE(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||lE(b,A),M=_C(p,d,b,A==="in"||A==="not-in");return we.create(_,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function IC(s,t,i){const a=t,l=vh("where",s);return Eh._create(l,a,i)}class eg extends tg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new eg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const p=h.getFlattenedFilters();for(const v of p)D0(d,v),d=tm(d,v)})(t._query,i),new Hs(t.firestore,t.converter,tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends C0{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new ng(t,i,a)}_apply(t){return new Hs(t.firestore,t.converter,Xc(t._query,this._limit,this._limitType))}}function CC(s){return pR("limit",s),ng._create("limit",s,"F")}function oE(s,t,i){if(typeof(i=tn(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!lt.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vv(s,new lt(a))}if(i instanceof Oe)return vv(s,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(i)}.`)}function lE(s,t){if(!Array.isArray(s)||s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function D0(s,t){const i=(function(l,h){for(const d of l)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function DC(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class yl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ms extends I0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(vh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ms._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ms._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ms._jsonSchema={type:Re("string",Ms._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Uc extends Ms{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Uc(this._firestore,this._userDataWriter,a.key,a,new yl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Uc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new yl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:NC(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Re("string",Ga._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function OC(s){return N0(qa(s.firestore,Ml),[new Mm(s._key,bi.none())])}function VC(s,t){const i=qa(s.firestore,Ml),a=_0(s),l=DC(s.converter,t),h=A0(s.firestore);return N0(i,[yC(h,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,bi.exists(!1))]).then((()=>a))}function MC(s,...t){s=tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||aE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(aE(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,p;if(s instanceof Oe)d=qa(s.firestore,Ml),p=Om(s._key.path),h={next:_=>{t[a]&&t[a](xC(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=qa(s,Hs);d=qa(_.firestore,Ml),p=_._query;const A=new R0(d);h={next:b=>{t[a]&&t[a](new Ga(d,A,_,b))},error:t[a+1],complete:t[a+2]},wC(s._query)}const v=v0(d);return oC(v,p,l,h)}function N0(s,t){const i=v0(s);return lC(i,t)}function xC(s,t,i){const a=i.docs.get(t._key),l=new R0(s);return new Ms(s,l,t._key,a,new yl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){rR(to),Fa(new Us("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Ml(new oR(a.getProvider("auth-internal")),new cR(d,a.getProvider("app-check-internal")),CR(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),jr(rE,sE,t),jr(rE,sE,"esm2020")})();const UC={apiKey:"AIzaSyAL2hN40jx6sA9refGF3uNks9Bpd68sanY",authDomain:"donelist-8b4e7.firebaseapp.com",projectId:"donelist-8b4e7",storageBucket:"donelist-8b4e7.firebasestorage.app",messagingSenderId:"73001294102",appId:"1:73001294102:web:fc416b73b630f9f17f1837"},O0=vE(UC),Pd=nR(O0),LC=new Yi,zd=fC(O0);function kC(){const[s,t]=Qn.useState(null),[i,a]=Qn.useState([]),[l,h]=Qn.useState(""),[d,p]=Qn.useState(!0),[v,_]=Qn.useState(20),[A,b]=Qn.useState(!0),[M,K]=Qn.useState(null),[Z,tt]=Qn.useState(""),et=["Skvel prca! Len tak alej. ","al zrez! Ide ti to karta. ","Mal vhra, vek posun. ","Si nezastaviten! o bude alej? ","Dobr trefa! Kad krok sa pota. ","Bum! A je to tam. "];Qn.useEffect(()=>{const mt=Gb(Pd,Tt=>{t(Tt),p(!1)});return()=>mt()},[]),Qn.useEffect(()=>{if(!s){a([]);return}const mt=RC(tE(zd,"logs"),IC("userId","==",s.uid),CC(v)),Tt=MC(mt,C=>{const S=C.docs.map(I=>({id:I.id,...I.data()})).sort((I,V)=>(V.timestamp?.seconds||0)-(I.timestamp?.seconds||0));a(S),b(C.docs.length===v)},C=>{console.error("Firestore error:",C)});return()=>Tt()},[s,v]);const ht=async()=>{try{await hw(Pd,LC)}catch(mt){console.error("Login error:",mt)}},Et=()=>Fb(Pd),pt=async mt=>{if(mt.preventDefault(),!!l.trim())try{await VC(tE(zd,"logs"),{userId:s.uid,text:l,timestamp:SC(),category:"default"}),h("");const Tt=et[Math.floor(Math.random()*et.length)];tt(Tt),setTimeout(()=>tt(""),4e3)}catch(Tt){console.error("Error adding log:",Tt)}},Kt=async mt=>{if(M!==mt){K(mt),setTimeout(()=>K(null),3e3);return}try{await OC(_0(zd,"logs",mt)),K(null)}catch(Tt){console.error("Error deleting log:",Tt)}};return d?Rt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-apple-bg",children:Rt.jsx("div",{className:"animate-pulse h-12 w-12 bg-apple-border rounded-full"})}):s?Rt.jsxs("div",{className:"min-h-screen bg-apple-bg pb-32 transition-colors duration-300",children:[Rt.jsx("div",{className:`fixed top-8 left-1/2 -translate-x-1/2 z-50 transition-all duration-500 transform ${Z?"translate-y-0 opacity-100":"-translate-y-12 opacity-0 pointer-events-none"}`,children:Rt.jsxs("div",{className:"bg-apple-card border border-apple-border px-6 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[Rt.jsx("span",{className:"text-lg",children:""}),Rt.jsx("p",{className:"text-[15px] font-semibold text-apple-text whitespace-nowrap",children:Z})]})}),Rt.jsx("header",{className:"px-6 pt-12 pb-6 sticky top-0 bg-apple-bg/80 backdrop-blur-md z-10",children:Rt.jsxs("div",{className:"max-w-xl mx-auto flex justify-between items-end",children:[Rt.jsxs("div",{children:[Rt.jsx("p",{className:"text-xs font-semibold text-apple-secondary uppercase tracking-widest mb-1",children:new Date().toLocaleDateString("sk-SK",{weekday:"long",day:"numeric",month:"long"})}),Rt.jsx("h1",{className:"text-4xl font-bold tracking-tight text-apple-text",children:"Done!"})]}),Rt.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.photoURL&&Rt.jsx("img",{src:s.photoURL,alt:"Profile",className:"w-10 h-10 rounded-full border border-apple-border shadow-sm"}),Rt.jsx("button",{onClick:Et,className:"text-xs font-medium text-apple-secondary hover:text-apple-text active:opacity-50",children:"Odhlsi"})]})]})}),Rt.jsxs("main",{className:"max-w-xl mx-auto px-6",children:[Rt.jsxs("div",{className:"space-y-3",children:[i.map(mt=>Rt.jsxs("div",{className:"bg-apple-card p-4 rounded-2xl shadow-sm border border-apple-border flex justify-between items-center group animate-in fade-in slide-in-from-bottom-2 duration-300",children:[Rt.jsxs("div",{className:"flex flex-col pr-4",children:[Rt.jsx("p",{className:"text-[17px] text-apple-text leading-tight font-normal",children:mt.text}),mt.timestamp&&Rt.jsx("span",{className:"text-[13px] text-apple-secondary mt-1",children:new Date(mt.timestamp.seconds*1e3).toLocaleTimeString("sk-SK",{hour:"2-digit",minute:"2-digit"})})]}),Rt.jsx("button",{onClick:()=>Kt(mt.id),className:`transition-all duration-200 p-2 rounded-full ${M===mt.id?"bg-red-500 text-white scale-110":"text-apple-border hover:text-red-500 md:opacity-0 group-hover:opacity-100"}`,children:M===mt.id?Rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Rt.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):Rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Rt.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},mt.id)),i.length===0&&Rt.jsx("div",{className:"text-center py-12 text-apple-secondary font-medium",children:"Zatia iadne zznamy."})]}),A&&i.length>0&&Rt.jsx("div",{className:"flex justify-center mt-6",children:Rt.jsx("button",{onClick:()=>_(mt=>mt+20),className:"text-sm font-semibold text-apple-secondary hover:text-apple-text active:opacity-50",children:"Nata starie"})})]}),Rt.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-apple-bg via-apple-bg/95 to-transparent backdrop-blur-sm",children:Rt.jsxs("form",{onSubmit:pt,className:"max-w-xl mx-auto flex items-center bg-apple-card rounded-2xl shadow-2xl border border-apple-border p-1",children:[Rt.jsx("input",{type:"text",value:l,onChange:mt=>h(mt.target.value),placeholder:"Zap si mal (aj vek) vhru...",className:"flex-1 bg-transparent border-none px-5 py-4 focus:ring-0 outline-none text-[17px] text-apple-text placeholder:text-apple-secondary"}),Rt.jsx("button",{type:"submit",className:"bg-apple-text text-apple-bg h-11 w-11 rounded-xl shadow-sm hover:opacity-90 transition-all active:scale-90 flex items-center justify-center mr-1",children:Rt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Rt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]})})]}):Rt.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-apple-bg",children:[Rt.jsx("h1",{className:"text-5xl font-extrabold mb-2 tracking-tight text-apple-text",children:"Done!"}),Rt.jsx("p",{className:"text-apple-secondary mb-12 text-center max-w-xs",children:"Zapisuj si svoje vazstv kad de."}),Rt.jsx("button",{onClick:ht,className:"w-full max-w-xs bg-apple-text text-apple-bg py-4 rounded-2xl font-semibold hover:opacity-90 transition-all active:scale-95 shadow-xl",children:"Prihlsi sa cez Google"})]})}yS.createRoot(document.getElementById("root")).render(Rt.jsx(Qn.StrictMode,{children:Rt.jsx(kC,{})}));
