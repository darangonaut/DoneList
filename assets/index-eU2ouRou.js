(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var wd={exports:{}},fl={};var O_;function ES(){if(O_)return fl;O_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var V_;function TS(){return V_||(V_=1,wd.exports=ES()),wd.exports}var pt=TS(),Rd={exports:{}},_t={};var M_;function AS(){if(M_)return _t;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ct(V,K,tt){this.props=V,this.context=K,this.refs=$,this.updater=tt||Z}ct.prototype.isReactComponent={},ct.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ct.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ct.prototype;function mt(V,K,tt){this.props=V,this.context=K,this.refs=$,this.updater=tt||Z}var It=mt.prototype=new Et;It.constructor=mt,et(It,ct.prototype),It.isPureReactComponent=!0;var re=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function S(V,K,tt){var rt=tt.ref;return{$$typeof:s,type:V,key:K,ref:rt!==void 0?rt:null,props:tt}}function O(V,K){return S(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function x(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return K[tt]})}var R=/\/+/g;function Pt(V,K){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):K.toString(36)}function Wt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xt,xt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function j(V,K,tt,rt,gt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Lt=!1;if(V===null)Lt=!0;else switch(St){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(V.$$typeof){case s:case t:Lt=!0;break;case A:return Lt=V._init,j(Lt(V._payload),K,tt,rt,gt)}}if(Lt)return gt=gt(V),Lt=rt===""?"."+Pt(V,0):rt,re(gt)?(tt="",Lt!=null&&(tt=Lt.replace(R,"$&/")+"/"),j(gt,K,tt,"",function(Wr){return Wr})):gt!=null&&(D(gt)&&(gt=O(gt,tt+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Lt)),K.push(gt)),1;Lt=0;var De=rt===""?".":rt+":";if(re(V))for(var se=0;se<V.length;se++)rt=V[se],St=De+Pt(rt,se),Lt+=j(rt,K,tt,St,gt);else if(se=G(V),typeof se=="function")for(V=se.call(V),se=0;!(rt=V.next()).done;)rt=rt.value,St=De+Pt(rt,se++),Lt+=j(rt,K,tt,St,gt);else if(St==="object"){if(typeof V.then=="function")return j(Wt(V),K,tt,rt,gt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(V,K,tt){if(V==null)return V;var rt=[],gt=0;return j(V,rt,"","",function(St){return K.call(tt,St,gt++)}),rt}function ot(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var kt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:W,forEach:function(V,K,tt){W(V,function(){K.apply(this,arguments)},tt)},count:function(V){var K=0;return W(V,function(){K++}),K},toArray:function(V){return W(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=w,_t.Children=Ft,_t.Component=ct,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=a,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,K,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=et({},V.props),gt=V.key;if(K!=null)for(St in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=tt;else if(1<St){for(var Lt=Array(St),De=0;De<St;De++)Lt[De]=arguments[De+2];rt.children=Lt}return S(V.type,gt,rt)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},_t.createElement=function(V,K,tt){var rt,gt={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)b.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=K[rt]);var Lt=arguments.length-2;if(Lt===1)gt.children=tt;else if(1<Lt){for(var De=Array(Lt),se=0;se<Lt;se++)De[se]=arguments[se+2];gt.children=De}if(V&&V.defaultProps)for(rt in Lt=V.defaultProps,Lt)gt[rt]===void 0&&(gt[rt]=Lt[rt]);return S(V,St,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=D,_t.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ot}},_t.memo=function(V,K){return{$$typeof:_,type:V,compare:K===void 0?null:K}},_t.startTransition=function(V){var K=C.T,tt={};C.T=tt;try{var rt=V(),gt=C.S;gt!==null&&gt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(xt,kt)}catch(St){kt(St)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),C.T=K}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(V){return C.H.use(V)},_t.useActionState=function(V,K,tt){return C.H.useActionState(V,K,tt)},_t.useCallback=function(V,K){return C.H.useCallback(V,K)},_t.useContext=function(V){return C.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,K){return C.H.useDeferredValue(V,K)},_t.useEffect=function(V,K){return C.H.useEffect(V,K)},_t.useEffectEvent=function(V){return C.H.useEffectEvent(V)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(V,K,tt){return C.H.useImperativeHandle(V,K,tt)},_t.useInsertionEffect=function(V,K){return C.H.useInsertionEffect(V,K)},_t.useLayoutEffect=function(V,K){return C.H.useLayoutEffect(V,K)},_t.useMemo=function(V,K){return C.H.useMemo(V,K)},_t.useOptimistic=function(V,K){return C.H.useOptimistic(V,K)},_t.useReducer=function(V,K,tt){return C.H.useReducer(V,K,tt)},_t.useRef=function(V){return C.H.useRef(V)},_t.useState=function(V){return C.H.useState(V)},_t.useSyncExternalStore=function(V,K,tt){return C.H.useSyncExternalStore(V,K,tt)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.4",_t}var x_;function gm(){return x_||(x_=1,Rd.exports=AS()),Rd.exports}var en=gm(),Id={exports:{}},dl={},Cd={exports:{}},Dd={};var L_;function SS(){return L_||(L_=1,(function(s){function t(j,W){var ot=j.length;j.push(W);t:for(;0<ot;){var kt=ot-1>>>1,Ft=j[kt];if(0<l(Ft,W))j[kt]=W,j[ot]=Ft,ot=kt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var W=j[0],ot=j.pop();if(ot!==W){j[0]=ot;t:for(var kt=0,Ft=j.length,V=Ft>>>1;kt<V;){var K=2*(kt+1)-1,tt=j[K],rt=K+1,gt=j[rt];if(0>l(tt,ot))rt<Ft&&0>l(gt,tt)?(j[kt]=gt,j[rt]=ot,kt=rt):(j[kt]=tt,j[K]=ot,kt=K);else if(rt<Ft&&0>l(gt,ot))j[kt]=gt,j[rt]=ot,kt=rt;else break t}}return W}function l(j,W){var ot=j.sortIndex-W.sortIndex;return ot!==0?ot:j.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,w=null,M=3,G=!1,Z=!1,et=!1,$=!1,ct=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function It(j){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=j)a(_),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(_)}}function re(j){if(et=!1,It(j),!Z)if(i(v)!==null)Z=!0,xt||(xt=!0,x());else{var W=i(_);W!==null&&Wt(re,W.startTime-j)}}var xt=!1,C=-1,b=5,S=-1;function O(){return $?!0:!(s.unstable_now()-S<b)}function D(){if($=!1,xt){var j=s.unstable_now();S=j;var W=!0;try{t:{Z=!1,et&&(et=!1,Et(C),C=-1),G=!0;var ot=M;try{e:{for(It(j),w=i(v);w!==null&&!(w.expirationTime>j&&O());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,M=w.priorityLevel;var Ft=kt(w.expirationTime<=j);if(j=s.unstable_now(),typeof Ft=="function"){w.callback=Ft,It(j),W=!0;break e}w===i(v)&&a(v),It(j)}else a(v);w=i(v)}if(w!==null)W=!0;else{var V=i(_);V!==null&&Wt(re,V.startTime-j),W=!1}}break t}finally{w=null,M=ot,G=!1}W=void 0}}finally{W?x():xt=!1}}}var x;if(typeof mt=="function")x=function(){mt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Pt=R.port2;R.port1.onmessage=D,x=function(){Pt.postMessage(null)}}else x=function(){ct(D,0)};function Wt(j,W){C=ct(function(){j(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(j){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var ot=M;M=W;try{return j()}finally{M=ot}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=M;M=j;try{return W()}finally{M=ot}},s.unstable_scheduleCallback=function(j,W,ot){var kt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?kt+ot:kt):ot=kt,j){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ot+Ft,j={id:A++,callback:W,priorityLevel:j,startTime:ot,expirationTime:Ft,sortIndex:-1},ot>kt?(j.sortIndex=ot,t(_,j),i(v)===null&&j===i(_)&&(et?(Et(C),C=-1):et=!0,Wt(re,ot-kt))):(j.sortIndex=Ft,t(v,j),Z||G||(Z=!0,xt||(xt=!0,x()))),j},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(j){var W=M;return function(){var ot=M;M=W;try{return j.apply(this,arguments)}finally{M=ot}}}})(Dd)),Dd}var U_;function bS(){return U_||(U_=1,Cd.exports=SS()),Cd.exports}var Nd={exports:{}},Qe={};var k_;function wS(){if(k_)return Qe;k_=1;var s=gm();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var P_;function RS(){if(P_)return Nd.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Nd.exports=wS(),Nd.exports}var z_;function IS(){if(z_)return dl;z_=1;var s=bS(),t=gm(),i=RS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function x(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case $:return"StrictMode";case re:return"Suspense";case xt:return"SuspenseList";case S:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Pt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Pt(e(n))}catch{}}return null}var Wt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},kt=[],Ft=-1;function V(e){return{current:e}}function K(e){0>Ft||(e.current=kt[Ft],kt[Ft]=null,Ft--)}function tt(e,n){Ft++,kt[Ft]=e.current,e.current=n}var rt=V(null),gt=V(null),St=V(null),Lt=V(null);function De(e,n){switch(tt(St,n),tt(gt,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),tt(rt,e)}function se(){K(rt),K(gt),K(St)}function Wr(e){e.memoizedState!==null&&tt(Lt,e);var n=rt.current,r=e_(n,e.type);n!==r&&(tt(gt,e),tt(rt,r))}function Qs(e){gt.current===e&&(K(rt),K(gt)),Lt.current===e&&(K(Lt),ll._currentValue=ot)}var Ks,Ys;function ti(e){if(Ks===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+e+Ys}var oo=!1;function ts(e,n){if(!e||oo)return"";oo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(c=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===I.length||c===P.length)for(o=I.length-1,c=P.length-1;1<=o&&0<=c&&I[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(I[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||I[o]!==P[c]){var H=`
`+I[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{oo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ti(r):""}function lo(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ts(e.type,!1);case 11:return ts(e.type.render,!1);case 1:return ts(e.type,!0);case 31:return ti("Activity");default:return""}}function uo(e){try{var n="",r=null;do n+=lo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,ir=s.unstable_cancelCallback,Rh=s.unstable_shouldYield,Ql=s.unstable_requestPaint,$e=s.unstable_now,es=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,ho=s.unstable_UserBlockingPriority,rr=s.unstable_NormalPriority,Ih=s.unstable_LowPriority,Kl=s.unstable_IdlePriority,Yl=s.log,Xl=s.unstable_setDisableYieldValue,Ln=null,ke=null;function En(e){if(typeof Yl=="function"&&Xl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:Zl,Jl=Math.log,Xs=Math.LN2;function Zl(e){return e>>>=0,e===0?32:31-(Jl(e)/Xs|0)|0}var ei=256,ns=262144,_e=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=ni(o):(g&=E,g!==0?c=ni(g):r||(r=E&~e,r!==0&&(c=ni(r))))):(E=o&~f,E!==0?c=ni(E):g!==0?c=ni(g):r||(r=o&~e,r!==0&&(c=ni(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function is(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,r,o,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-he(r),Q=1<<H;E[H]=0,I[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&rs(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function rs(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function fo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function mo(e,n){var r=n&-n;return r=(r&42)!==0?1:ss(r),(r&(e.suspendedLanes|n))!==0?0:r}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wl(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function kn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var Pn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Pn,Me="__reactProps$"+Pn,si="__reactContainer$"+Pn,Js="__reactEvents$"+Pn,Nh="__reactListeners$"+Pn,tu="__reactHandles$"+Pn,eu="__reactResources$"+Pn,ai="__reactMarker$"+Pn;function Zs(e){delete e[ve],delete e[Me],delete e[Js],delete e[Nh],delete e[tu]}function oi(e){var n=e[ve];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=l_(e);e!==null;){if(r=e[ve])return r;e=l_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ai]=!0}var go=new Set,po={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(po[e]=n,e=0;e<n.length;e++)go.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function nu(e){return ye.call(vo,e)?!0:ye.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function $s(e,n,r){if(nu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Te(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=sr(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function as(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=sr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function nn(e){return e.replace(os,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ws(e,n,r,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,xe(n)):r!=null?To(e,g,xe(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function iu(e,n,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function To(e,n,r){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ar(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function ru(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function or(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Wt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||su.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function So(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&Ao(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return lr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var bo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,fi=null;function ls(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ws(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Me]||null;if(!c)throw Error(a(90));Ws(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&as(o)}break t;case"textarea":ru(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ar(e,!!r.multiple,n,!1)}}}var na=!1;function cr(e,n,r){if(na)return e(n,r);na=!0;try{var o=e(n);return o}finally{if(na=!1,(ur!==null||fi!==null)&&(Wu(),ur&&(n=ur,e=fi,fi=ur=null,ls(n),e)))for(n=0;n<e.length;n++)ls(e[n])}}function Bn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){us=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{us=!1}var di=null,wo=null,cs=null;function Ro(){if(cs)return cs;var e,n=wo,r=n.length,o,c="value"in di?di.value:di.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===c[f-o];o++);return cs=c.slice(e,1<o?1-o:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function qn(){return!1}function Pe(e){function n(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Pe(Vi),hr=w({},Vi,{view:0,detail:0}),Io=Pe(hr),fr,ia,gi,ra=w({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(fr=e.screenX-gi.screenX,ia=e.screenY-gi.screenY):ia=fr=0,gi=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Co=Pe(ra),fs=w({},ra,{dataTransfer:0}),ou=Pe(fs),lu=w({},hr,{relatedTarget:0}),ds=Pe(lu),Do=w({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Pe(Do),sa=w({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=Pe(sa),hu=w({},Vi,{data:0}),pi=Pe(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function dr(){return gu}var We=w({},hr,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=Pe(We),yu=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=Pe(yu),u=w({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),m=Pe(u),y=w({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),U=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(U),J=w({},Vi,{newState:0,oldState:0}),Tt=Pe(J),fe=[9,13,27,32],qt=Sn&&"CompositionEvent"in window,ae=null;Sn&&"documentMode"in document&&(ae=document.documentMode);var bn=Sn&&"TextEvent"in window&&!ae,yi=Sn&&(!qt||ae&&8<ae&&11>=ae),jn=" ",Hn=!1;function ms(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function F0(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Hn=!0,jn);case"textInput":return e=n.data,e===jn&&Hn?null:e;default:return null}}function G0(e,n){if(oa)return e==="compositionend"||!qt&&ms(e,n)?(e=Ro(),cs=wo=di=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var Q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Q0[e.type]:n==="textarea"}function fg(e,n,r,o){ur?fi?fi.push(o):fi=[o]:ur=o,n=ac(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var No=null,Oo=null;function K0(e){Yy(e,0)}function _u(e){var n=hn(e);if(as(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(Sn){var Oh;if(Sn){var Vh="oninput"in document;if(!Vh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Vh=typeof gg.oninput=="function"}Oh=Vh}else Oh=!1;mg=Oh&&(!document.documentMode||9<document.documentMode)}function pg(){No&&(No.detachEvent("onpropertychange",yg),Oo=No=null)}function yg(e){if(e.propertyName==="value"&&_u(Oo)){var n=[];fg(n,Oo,e,An(e)),cr(K0,n)}}function Y0(e,n,r){e==="focusin"?(pg(),No=n,Oo=r,No.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Oo)}function J0(e,n){if(e==="click")return _u(n)}function Z0(e,n){if(e==="input"||e==="change")return _u(n)}function $0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:$0;function Vo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!ye.call(n,c)||!dn(e[c],n[c]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var r=_g(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_g(r)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=hi(e.document)}return n}function Mh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var W0=Sn&&"documentMode"in document&&11>=document.documentMode,la=null,xh=null,Mo=null,Lh=!1;function Ag(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||la==null||la!==hi(o)||(o=la,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Mo&&Vo(Mo,o)||(Mo=o,o=ac(xh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=la)))}function gs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Uh={},Sg={};Sn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ps(e){if(Uh[e])return Uh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sg)return Uh[e]=n[r];return e}var bg=ps("animationend"),wg=ps("animationiteration"),Rg=ps("animationstart"),tA=ps("transitionrun"),eA=ps("transitionstart"),nA=ps("transitioncancel"),Ig=ps("transitionend"),Cg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function Fn(e,n){Cg.set(e,n),ui(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],ca=0,Ph=0;function Eu(){for(var e=ca,n=Ph=ca=0;n<e;){var r=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var c=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&Dg(r,c,f)}}function Tu(e,n,r,o){wn[ca++]=e,wn[ca++]=n,wn[ca++]=r,wn[ca++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,r,o){return Tu(e,n,r,o),Au(e)}function ys(e,n){return Tu(e,null,null,n),Au(e)}function Dg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-he(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function Au(e){if(50<el)throw el=0,Xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function iA(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new iA(e,n,r,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ng(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,r,o,c,f){var g=0;if(o=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=lS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case S:return e=mn(31,r,n,c),e.elementType=S,e.lanes=f,e;case et:return _s(r.children,c,f,n);case $:g=8,c|=24;break;case ct:return e=mn(12,r,n,c|2),e.elementType=ct,e.lanes=f,e;case re:return e=mn(13,r,n,c),e.elementType=re,e.lanes=f,e;case xt:return e=mn(19,r,n,c),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case It:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function _s(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function qh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function Og(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var r=Vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:uo(n)},Vg.set(e,n),n)}return{value:e,source:n,stack:uo(n)}}var fa=[],da=0,bu=null,xo=0,In=[],Cn=0,mr=null,_i=1,vi="";function Li(e,n){fa[da++]=xo,fa[da++]=bu,bu=e,xo=n}function Mg(e,n,r){In[Cn++]=_i,In[Cn++]=vi,In[Cn++]=mr,mr=e;var o=_i;e=vi;var c=32-he(o)-1;o&=~(1<<c),r+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,_i=1<<32-he(n)+c|r<<c|o,vi=f+e}else _i=1<<f|r<<c|o,vi=e}function Hh(e){e.return!==null&&(Li(e,1),Mg(e,1,0))}function Fh(e){for(;e===bu;)bu=fa[--da],fa[da]=null,xo=fa[--da],fa[da]=null;for(;e===mr;)mr=In[--Cn],In[Cn]=null,vi=In[--Cn],In[Cn]=null,_i=In[--Cn],In[Cn]=null}function xg(e,n){In[Cn++]=_i,In[Cn++]=vi,In[Cn++]=mr,_i=n.id,vi=n.overflow,mr=e}var ze=null,ee=null,Mt=!1,gr=null,Dn=!1,Gh=Error(a(519));function pr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Rn(n,e)),Gh}function Lg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Me]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<il.length;r++)Rt(il[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),or(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||$y(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||pr(e,!0)}function Ug(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function ma(e){if(e!==ze)return!1;if(!Mt)return Ug(e),Mt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||cd(e.type,e.memoizedProps)),r=!r),r&&ee&&pr(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=o_(e)}else n===27?(n=ee,Nr(e.type)?(e=gd,gd=null,ee=e):ee=n):ee=ze?On(e.stateNode.nextSibling):null;return!0}function vs(){ee=ze=null,Mt=!1}function Qh(){var e=gr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),gr=null),e}function Lo(e){gr===null?gr=[e]:gr.push(e)}var Kh=V(null),Es=null,Ui=null;function yr(e,n,r){tt(Kh,n._currentValue),n._currentValue=r}function ki(e){e._currentValue=Kh.current,K(Kh)}function Yh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Xh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Yh(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ga(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;dn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===Lt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}c=c.return}e!==null&&Xh(n,e,r,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){Es=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return kg(Es,e)}function Ru(e,n){return Es===null&&Ts(e),kg(e,n)}function kg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var rA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},sA=s.unstable_scheduleCallback,aA=s.unstable_NormalPriority,Ae={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new rA,data:new Map,refCount:0}}function Uo(e){e.refCount--,e.refCount===0&&sA(aA,function(){e.controller.abort()})}var ko=null,Zh=0,pa=0,ya=null;function oA(e,n){if(ko===null){var r=ko=[];Zh=0,pa=ed(),ya={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Zh++,n.then(Pg,Pg),n}function Pg(){if(--Zh===0&&ko!==null){ya!==null&&(ya.status="fulfilled");var e=ko;ko=null,pa=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var zg=j.S;j.S=function(e,n){Ay=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&oA(e,n),zg!==null&&zg(e,n)};var As=V(null);function $h(){var e=As.current;return e!==null?e:$t.pooledCache}function Iu(e,n){n===null?tt(As,As.current):tt(As,n.pool)}function Bg(){var e=$h();return e===null?null:{parent:Ae._currentValue,pool:e}}var _a=Error(a(460)),Wh=Error(a(474)),Cu=Error(a(542)),Du={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw bs=n,_a}}function Ss(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(bs=r,_a):r}}var bs=null;function Hg(){if(bs===null)throw Error(a(459));var e=bs;return bs=null,e}function Fg(e){if(e===_a||e===Cu)throw Error(a(483))}var va=null,Po=0;function Nu(e){var n=Po;return Po+=1,va===null&&(va=[]),jg(va,e,n)}function zo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(L,N){if(e){var k=L.deletions;k===null?(L.deletions=[N],L.flags|=16):k.push(N)}}function r(L,N){if(!e)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function o(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function c(L,N){return L=xi(L,N),L.index=0,L.sibling=null,L}function f(L,N,k){return L.index=k,e?(k=L.alternate,k!==null?(k=k.index,k<N?(L.flags|=67108866,N):k):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function g(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,N,k,F){return N===null||N.tag!==6?(N=qh(k,L.mode,F),N.return=L,N):(N=c(N,k),N.return=L,N)}function I(L,N,k,F){var lt=k.type;return lt===et?H(L,N,k.props.children,F,k.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ss(lt)===N.type)?(N=c(N,k.props),zo(N,k),N.return=L,N):(N=Su(k.type,k.key,k.props,null,L.mode,F),zo(N,k),N.return=L,N)}function P(L,N,k,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=jh(k,L.mode,F),N.return=L,N):(N=c(N,k.children||[]),N.return=L,N)}function H(L,N,k,F,lt){return N===null||N.tag!==7?(N=_s(k,L.mode,F,lt),N.return=L,N):(N=c(N,k),N.return=L,N)}function Q(L,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=qh(""+N,L.mode,k),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return k=Su(N.type,N.key,N.props,null,L.mode,k),zo(k,N),k.return=L,k;case Z:return N=jh(N,L.mode,k),N.return=L,N;case b:return N=Ss(N),Q(L,N,k)}if(Wt(N)||x(N))return N=_s(N,L.mode,k,null),N.return=L,N;if(typeof N.then=="function")return Q(L,Nu(N),k);if(N.$$typeof===mt)return Q(L,Ru(L,N),k);Ou(L,N)}return null}function z(L,N,k,F){var lt=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:E(L,N,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===lt?I(L,N,k,F):null;case Z:return k.key===lt?P(L,N,k,F):null;case b:return k=Ss(k),z(L,N,k,F)}if(Wt(k)||x(k))return lt!==null?null:H(L,N,k,F,null);if(typeof k.then=="function")return z(L,N,Nu(k),F);if(k.$$typeof===mt)return z(L,N,Ru(L,k),F);Ou(L,k)}return null}function q(L,N,k,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(k)||null,E(N,L,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return L=L.get(F.key===null?k:F.key)||null,I(N,L,F,lt);case Z:return L=L.get(F.key===null?k:F.key)||null,P(N,L,F,lt);case b:return F=Ss(F),q(L,N,k,F,lt)}if(Wt(F)||x(F))return L=L.get(k)||null,H(N,L,F,lt,null);if(typeof F.then=="function")return q(L,N,k,Nu(F),lt);if(F.$$typeof===mt)return q(L,N,k,Ru(N,F),lt);Ou(N,F)}return null}function st(L,N,k,F){for(var lt=null,zt=null,at=N,bt=N=0,Dt=null;at!==null&&bt<k.length;bt++){at.index>bt?(Dt=at,at=null):Dt=at.sibling;var Bt=z(L,at,k[bt],F);if(Bt===null){at===null&&(at=Dt);break}e&&at&&Bt.alternate===null&&n(L,at),N=f(Bt,N,bt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt,at=Dt}if(bt===k.length)return r(L,at),Mt&&Li(L,bt),lt;if(at===null){for(;bt<k.length;bt++)at=Q(L,k[bt],F),at!==null&&(N=f(at,N,bt),zt===null?lt=at:zt.sibling=at,zt=at);return Mt&&Li(L,bt),lt}for(at=o(at);bt<k.length;bt++)Dt=q(at,L,bt,k[bt],F),Dt!==null&&(e&&Dt.alternate!==null&&at.delete(Dt.key===null?bt:Dt.key),N=f(Dt,N,bt),zt===null?lt=Dt:zt.sibling=Dt,zt=Dt);return e&&at.forEach(function(Lr){return n(L,Lr)}),Mt&&Li(L,bt),lt}function ht(L,N,k,F){if(k==null)throw Error(a(151));for(var lt=null,zt=null,at=N,bt=N=0,Dt=null,Bt=k.next();at!==null&&!Bt.done;bt++,Bt=k.next()){at.index>bt?(Dt=at,at=null):Dt=at.sibling;var Lr=z(L,at,Bt.value,F);if(Lr===null){at===null&&(at=Dt);break}e&&at&&Lr.alternate===null&&n(L,at),N=f(Lr,N,bt),zt===null?lt=Lr:zt.sibling=Lr,zt=Lr,at=Dt}if(Bt.done)return r(L,at),Mt&&Li(L,bt),lt;if(at===null){for(;!Bt.done;bt++,Bt=k.next())Bt=Q(L,Bt.value,F),Bt!==null&&(N=f(Bt,N,bt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt);return Mt&&Li(L,bt),lt}for(at=o(at);!Bt.done;bt++,Bt=k.next())Bt=q(at,L,bt,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&at.delete(Bt.key===null?bt:Bt.key),N=f(Bt,N,bt),zt===null?lt=Bt:zt.sibling=Bt,zt=Bt);return e&&at.forEach(function(vS){return n(L,vS)}),Mt&&Li(L,bt),lt}function Zt(L,N,k,F){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var lt=k.key;N!==null;){if(N.key===lt){if(lt=k.type,lt===et){if(N.tag===7){r(L,N.sibling),F=c(N,k.props.children),F.return=L,L=F;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Ss(lt)===N.type){r(L,N.sibling),F=c(N,k.props),zo(F,k),F.return=L,L=F;break t}r(L,N);break}else n(L,N);N=N.sibling}k.type===et?(F=_s(k.props.children,L.mode,F,k.key),F.return=L,L=F):(F=Su(k.type,k.key,k.props,null,L.mode,F),zo(F,k),F.return=L,L=F)}return g(L);case Z:t:{for(lt=k.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(L,N.sibling),F=c(N,k.children||[]),F.return=L,L=F;break t}else{r(L,N);break}else n(L,N);N=N.sibling}F=jh(k,L.mode,F),F.return=L,L=F}return g(L);case b:return k=Ss(k),Zt(L,N,k,F)}if(Wt(k))return st(L,N,k,F);if(x(k)){if(lt=x(k),typeof lt!="function")throw Error(a(150));return k=lt.call(k),ht(L,N,k,F)}if(typeof k.then=="function")return Zt(L,N,Nu(k),F);if(k.$$typeof===mt)return Zt(L,N,Ru(L,k),F);Ou(L,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(L,N.sibling),F=c(N,k),F.return=L,L=F):(r(L,N),F=qh(k,L.mode,F),F.return=L,L=F),g(L)):r(L,N)}return function(L,N,k,F){try{Po=0;var lt=Zt(L,N,k,F);return va=null,lt}catch(at){if(at===_a||at===Cu)throw at;var zt=mn(29,at,null,L.mode);return zt.lanes=F,zt.return=L,zt}}}var ws=Gg(!0),Qg=Gg(!1),_r=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Au(e),Dg(e,null,r),n}return Tu(e,o,n,r),Au(e)}function Bo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}function nf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var rf=!1;function qo(){if(rf){var e=ya;if(e!==null)throw e}}function jo(e,n,r,o){rf=!1;var c=e.updateQueue;_r=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=I))}if(f!==null){var Q=c.baseState;g=0,H=P=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(o&z)===z){z!==0&&z===pa&&(rf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ht=E;z=n;var Zt=r;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Q=st.call(Zt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,z=typeof st=="function"?st.call(Zt,Q,z):st,z==null)break t;Q=w({},Q,z);break t;case 2:_r=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,I=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(I=Q),c.baseState=I,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),wr|=g,e.lanes=g,e.memoizedState=Q}}function Kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Kg(r[e],n)}var Ea=V(null),Vu=V(0);function Xg(e,n){e=Qi,tt(Vu,e),tt(Ea,n),Qi=e|n.baseLanes}function sf(){tt(Vu,Qi),tt(Ea,Ea.current)}function af(){Qi=Vu.current,K(Ea),K(Vu)}var gn=V(null),Nn=null;function Tr(e){var n=e.alternate;tt(de,de.current&1),tt(gn,e),Nn===null&&(n===null||Ea.current!==null||n.memoizedState!==null)&&(Nn=e)}function of(e){tt(de,de.current),tt(gn,e),Nn===null&&(Nn=e)}function Jg(e){e.tag===22?(tt(de,de.current),tt(gn,e),Nn===null&&(Nn=e)):Ar()}function Ar(){tt(de,de.current),tt(gn,gn.current)}function pn(e){K(gn),Nn===e&&(Nn=null),K(de)}var de=V(0);function Mu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Xt=null,Se=null,xu=!1,Ta=!1,Rs=!1,Lu=0,Ho=0,Aa=null,uA=0;function ue(){throw Error(a(321))}function lf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function uf(e,n,r,o,c,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Mp:bf,Rs=!1,f=r(o,c),Rs=!1,Ta&&(f=$g(n,r,o,c)),Zg(e),f}function Zg(e){j.H=Qo;var n=Xt!==null&&Xt.next!==null;if(Pi=0,Se=Xt=At=null,xu=!1,Ho=0,Aa=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&wu(e)&&(be=!0))}function $g(e,n,r,o){At=e;var c=0;do{if(Ta&&(Aa=null),Ho=0,Ta=!1,25<=c)throw Error(a(301));if(c+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=xp,f=n(r,o)}while(Ta);return f}function cA(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function cf(){var e=Lu!==0;return Lu=0,e}function hf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ff(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Pi=0,Se=Xt=At=null,Ta=!1,Ho=Lu=0,Aa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Ho;return Ho+=1,Aa===null&&(Aa=[]),e=jg(Aa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Mp:bf),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===mt)return Be(e)}throw Error(a(438,String(e)))}function df(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Uu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=me();return mf(n,Xt,e)}function mf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,I=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ct&Q)===Q:(Pi&Q)===Q){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===pa&&(H=!0);else if((Pi&z)===z){P=P.next,z===pa&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=Q,g=f):I=I.next=Q,At.lanes|=z,wr|=z;Q=P.action,Rs&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,At.lanes|=Q,wr|=Q;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!dn(f,e.memoizedState)&&(be=!0,H&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);dn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Wg(e,n,r){var o=At,c=me(),f=Mt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!dn((Xt||c).memoizedState,r);if(g&&(c.memoizedState=r,be=!0),c=c.queue,_f(np.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Sa(9,{destroy:void 0},ep.bind(null,o,c,r,n),null),$t===null)throw Error(a(349));f||(Pi&127)!==0||tp(o,n,r)}return r}function tp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=Uu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ep(e,n,r,o){n.value=r,n.getSnapshot=o,ip(n)&&rp(e)}function np(e,n,r){return r(function(){ip(n)&&rp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function rp(e){var n=ys(e,2);n!==null&&un(n,e,2)}function pf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Rs){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function sp(e,n,r,o){return e.baseState=r,mf(e,Xt,typeof o=="function"?o:zi)}function hA(e,n,r,o,c){if(qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ap(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ap(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=r(c,o),I=j.S;I!==null&&I(g,E),op(e,n,E)}catch(P){yf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=r(c,o),op(e,n,f)}catch(P){yf(e,n,P)}}function op(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){lp(e,n,o)},function(o){return yf(e,n,o)}):lp(e,n,r)}function lp(e,n,r){n.status="fulfilled",n.value=r,up(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ap(e,r)))}function yf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,up(n),n=n.next;while(n!==o)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function hp(e,n){if(Mt){var r=$t.formState;if(r!==null){t:{var o=At;if(Mt){if(ee){e:{for(var c=ee,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=On(c.nextSibling),o=c.data==="F!";break t}}pr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},r.queue=o,r=Np.bind(null,At,o),o.dispatch=r,o=pf(!1),f=Sf.bind(null,At,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=hA.bind(null,At,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function fp(e){var n=me();return dp(n,Xt,e)}function dp(e,n,r){if(n=mf(e,n,cp)[0],e=Pu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===_a?Cu:g}else o=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,Sa(9,{destroy:void 0},fA.bind(null,c,r),null)),[o,f,e]}function fA(e,n){e.action=n}function mp(e){var n=me(),r=Xt;if(r!==null)return dp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Sa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Uu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function gp(){return me().memoizedState}function zu(e,n,r,o){var c=tn();At.flags|=e,c.memoizedState=Sa(1|n,{destroy:void 0},r,o===void 0?null:o)}function Bu(e,n,r,o){var c=me();o=o===void 0?null:o;var f=c.memoizedState.inst;Xt!==null&&o!==null&&lf(o,Xt.memoizedState.deps)?c.memoizedState=Sa(n,f,r,o):(At.flags|=e,c.memoizedState=Sa(1|n,f,r,o))}function pp(e,n){zu(8390656,8,e,n)}function _f(e,n){Bu(2048,8,e,n)}function dA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Uu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function yp(e){var n=me().memoizedState;return dA({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return Bu(4,2,e,n)}function vp(e,n){return Bu(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,r){r=r!=null?r.concat([e]):null,Bu(4,4,Ep.bind(null,n,e),r)}function vf(){}function Ap(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Sp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),Rs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function Ef(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=by(),At.lanes|=e,wr|=e,r)}function bp(e,n,r,o){return dn(r,n)?r:Ea.current!==null?(e=Ef(e,r,o),dn(e,n)||(be=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Ct&261930)===0?(be=!0,e.memoizedState=r):(e=by(),At.lanes|=e,wr|=e,n)}function wp(e,n,r,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,Sf(e,!1,n,r);try{var I=c(),P=j.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=lA(I,o);Go(e,n,H,vn(e))}else Go(e,n,o,vn(e))}catch(Q){Go(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function mA(){}function Tf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=Rp(e).queue;wp(e,c,n,ot,r===null?mA:function(){return Ip(e),r(o)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ip(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},vn())}function Af(){return Be(ll)}function Cp(){return me().memoizedState}function Dp(){return me().memoizedState}function gA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=vr(r);var o=Er(n,e,r);o!==null&&(un(o,n,r),Bo(o,n,r)),n={cache:Jh()},e.payload=n;return}n=n.return}}function pA(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},qu(e)?Op(n,r):(r=zh(e,n,r,o),r!==null&&(un(r,e,o),Vp(r,n,o)))}function Np(e,n,r){var o=vn();Go(e,n,r,o)}function Go(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(e))Op(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,dn(E,g))return Tu(e,n,c,0),$t===null&&Eu(),!1}catch{}if(r=zh(e,n,c,o),r!==null)return un(r,e,o),Vp(r,n,o),!0}return!1}function Sf(e,n,r,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qu(e)){if(n)throw Error(a(479))}else n=zh(e,r,o,2),n!==null&&un(n,e,2)}function qu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Op(e,n){Ta=xu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,fo(e,r)}}var Qo={readContext:Be,use:ku,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Qo.useEffectEvent=ue;var Mp={readContext:Be,use:ku,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:pp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,zu(4194308,4,Ep.bind(null,n,e),r)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Rs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var c=r(n);if(Rs){En(!0);try{r(n)}finally{En(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=pA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,r=Np.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(e,n){var r=tn();return Ef(r,e,n)},useTransition:function(){var e=pf(!1);return e=wp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,c=tn();if(Mt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ct&127)!==0||tp(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,pp(np.bind(null,o,f,e),[e]),o.flags|=2048,Sa(9,{destroy:void 0},ep.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=$t.identifierPrefix;if(Mt){var r=vi,o=_i;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=uA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Sf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return tn().memoizedState=gA.bind(null,At)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:Be,use:ku,useCallback:Ap,useContext:Be,useEffect:_f,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:Pu,useRef:gp,useState:function(){return Pu(zi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=me();return bp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Pu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:Af,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var r=me();return sp(r,Xt,e,n)},useMemoCache:df,useCacheRefresh:Dp};bf.useEffectEvent=yp;var xp={readContext:Be,use:ku,useCallback:Ap,useContext:Be,useEffect:_f,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:gf,useRef:gp,useState:function(){return gf(zi)},useDebugValue:vf,useDeferredValue:function(e,n){var r=me();return Xt===null?Ef(r,e,n):bp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=gf(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:Af,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var r=me();return Xt!==null?sp(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Dp};xp.useEffectEvent=yp;function wf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),c=vr(o);c.payload=n,r!=null&&(c.callback=r),n=Er(e,c,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),c=vr(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Er(e,c,o),n!==null&&(un(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=vr(r);o.tag=2,n!=null&&(o.callback=n),n=Er(e,o,r),n!==null&&(un(n,e,r),Bo(n,e,r))}};function Lp(e,n,r,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,o)||!Vo(c,f):!0}function Up(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Is(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function kp(e){vu(e)}function Pp(e){console.error(e)}function zp(e){vu(e)}function ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function If(e,n,r){return r=vr(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(e,n)},r}function qp(e){return e=vr(e),e.tag=3,e}function jp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Bp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Bp(n,r,o),typeof c!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function yA(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ga(n,r,c,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?tc():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Du?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),$f(e,o,c)),!1;case 22:return r.flags|=65536,o===Du?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),$f(e,o,c)),!1}throw Error(a(435,r.tag))}return $f(e,o,c),tc(),!1}if(Mt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Gh&&(e=Error(a(422),{cause:o}),Lo(Rn(e,r)))):(o!==Gh&&(n=Error(a(423),{cause:o}),Lo(Rn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Rn(o,r),c=If(e.stateNode,o,c),nf(e,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=Rn(f,r),tl===null?tl=[f]:tl.push(f),ce!==4&&(ce=2),n===null)return!0;o=Rn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=If(r.stateNode,o,e),nf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=qp(c),jp(c,e,r,o),nf(r,c),!1}r=r.return}while(r!==null);return!1}var Cf=Error(a(461)),be=!1;function qe(e,n,r,o){n.child=e===null?Qg(n,null,r,o):ws(n,e.child,r,o)}function Hp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ts(n),o=uf(e,n,r,g,f,c),E=cf(),e!==null&&!be?(hf(e,n,c),Bi(e,n,c)):(Mt&&E&&Hh(n),n.flags|=1,qe(e,n,o,c),n.child)}function Fp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,o,c)):(e=Su(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(g,o)&&e.ref===n.ref)return Bi(e,n,c)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Uf(e,c))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,c)}return Df(e,n,r,o,c)}function Qp(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Kp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?Xg(n,f):sf(),Jg(n);else return o=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Iu(n,f.cachePool),Xg(n,f),Ar(),n.memoizedState=null):(e!==null&&Iu(n,null),sf(),Ar());return qe(e,n,c,r),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,r,o,c){var f=$h();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Iu(n,null),sf(),Jg(n),e!==null&&ga(e,n,o,!0),n.childLanes=c,null}function Hu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,r){return ws(n,e.child,null,r),e=Hu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function _A(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,Ko(null,e);if(of(n),(e=ee)?(e=a_(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Og(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw pr(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),c)if(n.flags&256)n.flags&=-257,n=Yp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||ga(e,n,r,!1),c=(r&e.childLanes)!==0,be||c){if(o=$t,o!==null&&(g=mo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ys(e,g),un(o,e,g),Cf;tc(),n=Yp(e,n,r)}else e=f.treeContext,ee=On(g.nextSibling),ze=n,Mt=!0,gr=null,Dn=!1,e!==null&&xg(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Df(e,n,r,o,c){return Ts(n),r=uf(e,n,r,o,void 0,c),o=cf(),e!==null&&!be?(hf(e,n,c),Bi(e,n,c)):(Mt&&o&&Hh(n),n.flags|=1,qe(e,n,r,c),n.child)}function Xp(e,n,r,o,c,f){return Ts(n),n.updateQueue=null,r=$g(n,o,r,c),Zg(e),o=cf(),e!==null&&!be?(hf(e,n,f),Bi(e,n,f)):(Mt&&o&&Hh(n),n.flags|=1,qe(e,n,r,f),n.child)}function Jp(e,n,r,o,c){if(Ts(n),n.stateNode===null){var f=ha,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ha,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(wf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),jo(n,o,f,c),qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Is(r,E);f.props=I;var P=f.context,H=r.contextType;g=ha,typeof H=="object"&&H!==null&&(g=Be(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Up(n,f,o,g),_r=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,c),qo(),P=n.memoizedState,E||z!==P||_r?(typeof Q=="function"&&(wf(n,r,Q,o),P=n.memoizedState),(I=_r||Lp(n,r,I,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,H=Is(r,g),f.props=H,Q=n.pendingProps,z=f.context,P=r.contextType,I=ha,typeof P=="object"&&P!==null&&(I=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==I)&&Up(n,f,o,I),_r=!1,z=n.memoizedState,f.state=z,jo(n,o,f,c),qo();var q=n.memoizedState;g!==Q||z!==q||_r||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(wf(n,r,E,o),q=n.memoizedState),(H=_r||Lp(n,r,H,o,z,q,I)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ws(n,e.child,null,c),n.child=ws(n,null,r,c)):qe(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Bi(e,n,c),e}function Zp(e,n,r,o){return vs(),n.flags|=256,qe(e,n,r,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Bg()}}function Vf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function $p(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(c?Tr(n):Ar(),(e=ee)?(e=a_(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:mr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=Og(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw pr(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Ar(),c=n.mode,E=Gu({mode:"hidden",children:E},c),o=_s(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(r),o.childLanes=Vf(e,g,r),n.memoizedState=Nf,Ko(null,o)):(Tr(n),Mf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Tr(n),n.flags&=-257,n=xf(e,n,r)):n.memoizedState!==null?(Ar(),n.child=e.child,n.flags|=128,n=null):(Ar(),E=o.fallback,c=n.mode,o=Gu({mode:"visible",children:o.children},c),E=_s(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ws(n,e.child,null,r),o=n.child,o.memoizedState=Of(r),o.childLanes=Vf(e,g,r),n.memoizedState=Nf,n=Ko(null,o));else if(Tr(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Lo({value:o,source:null,stack:null}),n=xf(e,n,r)}else if(be||ga(e,n,r,!1),g=(r&e.childLanes)!==0,be||g){if(g=$t,g!==null&&(o=mo(g,r),o!==0&&o!==I.retryLane))throw I.retryLane=o,ys(e,o),un(g,e,o),Cf;dd(E)||tc(),n=xf(e,n,r)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=On(E.nextSibling),ze=n,Mt=!0,gr=null,Dn=!1,e!==null&&xg(n,e),n=Mf(n,o.children),n.flags|=4096);return n}return c?(Ar(),E=o.fallback,c=n.mode,I=e.child,P=I.sibling,o=xi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=xi(P,E):(E=_s(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ko(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(r):(c=E.cachePool,c!==null?(I=Ae._currentValue,c=c.parent!==I?{parent:I,pool:I}:c):c=Bg(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=Vf(e,g,r),n.memoizedState=Nf,Ko(e.child,o)):(Tr(n),r=e.child,e=r.sibling,r=xi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Mf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function xf(e,n,r){return ws(n,e.child,null,r),e=Mf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,r)}function Lf(e,n,r,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function ty(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),qe(e,n,o,r),o=Mt?xo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,r,n);else if(e.tag===19)Wp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Mu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Lf(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Mu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Lf(n,!0,r,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),wr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ga(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=xi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=xi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function vA(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),yr(n,Ae,e.memoizedState.cache),vs();break;case 27:case 5:Wr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?$p(e,n,r):(Tr(n),e=Bi(e,n,r),e!==null?e.sibling:null);Tr(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ga(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return ty(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,Qp(e,n,r,n.pendingProps);case 24:yr(n,Ae,e.memoizedState.cache)}return Bi(e,n,r)}function ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Uf(e,r)&&(n.flags&128)===0)return be=!1,vA(e,n,r);be=(e.flags&131072)!==0}else be=!1,Mt&&(n.flags&1048576)!==0&&Mg(n,xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ss(n.elementType),n.type=e,typeof e=="function")Bh(e)?(o=Is(e,o),n.tag=1,n=Jp(null,n,e,o,r)):(n.tag=0,n=Df(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===It){n.tag=11,n=Hp(null,n,e,o,r);break t}else if(c===C){n.tag=14,n=Fp(null,n,e,o,r);break t}}throw n=Pt(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=Is(o,n.pendingProps),Jp(e,n,o,c,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,ef(e,n),jo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,yr(n,Ae,o),o!==f.cache&&Xh(n,[Ae],r,!0),qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zp(e,n,o,r);break t}else if(o!==c){c=Rn(Error(a(424)),n),Lo(c),n=Zp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=On(e.firstChild),ze=n,Mt=!0,gr=null,Dn=!0,r=Qg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),o===c){n=Bi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Fu(e,n),e===null?(r=f_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Mt||(r=n.type,e=n.pendingProps,o=oc(St.current).createElement(r),o[ve]=n,o[Me]=e,je(o,r,e),Ee(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wr(n),e===null&&Mt&&(o=n.stateNode=u_(n.type,n.pendingProps,St.current),ze=n,Dn=!0,c=ee,Nr(n.type)?(gd=c,ee=On(o.firstChild)):ee=c),qe(e,n,n.pendingProps.children,r),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((c=o=ee)&&(o=XA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,ee=On(o.firstChild),Dn=!1,c=!0):c=!1),c||pr(n)),Wr(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(c,f)?o=null:g!==null&&cd(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uf(e,n,cA,null,null,r),ll._currentValue=c),Fu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Mt&&((e=r=ee)&&(r=JA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,ze=n,ee=null,e=!0):e=!1),e||pr(n)),null;case 13:return $p(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ws(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,yr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Ts(n),c=Be(c),o=o(c),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,r);case 15:return Gp(e,n,n.type,n.pendingProps,r);case 19:return ty(e,n,r);case 31:return _A(e,n,r);case 22:return Qp(e,n,r,n.pendingProps);case 24:return Ts(n),o=Be(Ae),e===null?(c=$h(),c===null&&(c=$t,f=Jh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},tf(n),yr(n,Ae,c)):((e.lanes&r)!==0&&(ef(e,n),jo(n,null,null,r),qo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),yr(n,Ae,o)):(o=f.cache,yr(n,Ae,o),o!==c.cache&&Xh(n,[Ae],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function kf(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw bs=Du,Wh}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Cy())e.flags|=8192;else throw bs=Du,Wh}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$l():536870912,e.lanes|=n,Ia|=n)}function Yo(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function EA(e,n,r){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ki(Ae),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),ny(n,f)):(ne(n),kf(n,c,null,o,r))):f?f!==e.memoizedState?(qi(n),ne(n),ny(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ne(n),kf(n,c,e,o,r)),null;case 27:if(Qs(n),r=St.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=rt.current,ma(n)?Lg(n):(e=u_(c,o,r),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Qs(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=rt.current,ma(n))Lg(n);else{var g=oc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[ve]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ne(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ve]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,r)),e||pr(n,!0)}else e=oc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ma(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ma(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ve]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Qu(n,n.updateQueue),ne(n),null);case 4:return se(),e===null&&sd(n.stateNode.containerInfo),ne(n),null;case 10:return ki(n.type),ne(n),null;case 19:if(K(de),o=n.memoizedState,o===null)return ne(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Yo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Mu(e),f!==null){for(n.flags|=128,Yo(o,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ng(r,e),r=r.sibling;return tt(de,de.current&1|2),Mt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Zu&&(n.flags|=128,c=!0,Yo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Mu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ne(n),null}else 2*$e()-o.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,c=!0,Yo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=de.current,tt(de,c?r&1|2:r&1),Mt&&Li(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return pn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Qu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(As),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ki(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function TA(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Ae),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(de),null;case 4:return se(),null;case 10:return ki(n.type),null;case 22:case 23:return pn(n),af(),e!==null&&K(As),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Ae),null;case 25:return null;default:return null}}function iy(e,n){switch(Fh(n),n.tag){case 3:ki(Ae),se();break;case 26:case 27:case 5:Qs(n);break;case 4:se();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(de);break;case 10:ki(n.type);break;case 22:case 23:pn(n),af(),e!==null&&K(As);break;case 24:ki(Ae)}}function Xo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Sr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var I=r,P=E;try{P()}catch(H){Kt(c,I,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function ry(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Yg(n,r)}catch(o){Kt(e,e.return,o)}}}function sy(e,n,r){r.props=Is(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Jo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Kt(e,n,c)}}function Ei(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Kt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(e,n,c)}else r.current=null}function ay(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Kt(e,e.return,c)}}function Pf(e,n,r){try{var o=e.stateNode;HA(o,e.type,r,n),o[Me]=n}catch(c){Kt(e,e.return,c)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,r),e=e.sibling;e!==null;)Bf(e,n,r),e=e.sibling}function Ku(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ku(e,n,r),e=e.sibling;e!==null;)Ku(e,n,r),e=e.sibling}function ly(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);je(n,o,r),n[ve]=e,n[Me]=r}catch(f){Kt(e,e.return,f)}}var ji=!1,we=!1,qf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function AA(e,n){if(e=e.containerInfo,ld=mc,e=Tg(e),Mh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,I=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==r||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(I=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===r&&++P===c&&(E=g),z===f&&++H===o&&(I=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||I===-1?null:{start:E,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:e,selectionRange:r},mc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Is(r.type,c);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Kt(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)fd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function cy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&Xo(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(r,r.return,g)}else{var c=Is(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(r,r.return,g)}}o&64&&ry(r),o&512&&Jo(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Yg(e,n)}catch(g){Kt(r,r.return,g)}}break;case 27:n===null&&o&4&&ly(r);case 26:case 5:Fi(e,r),n===null&&o&4&&ay(r),o&512&&Jo(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&dy(e,r);break;case 13:Fi(e,r),o&4&&my(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=OA.bind(null,r),ZA(e,r))));break;case 22:if(o=r.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||we,c=ji;var f=we;ji=o,(we=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),ji=c,we=f}break;case 30:break;default:Fi(e,r)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,sn=!1;function Hi(e,n,r){for(r=r.child;r!==null;)fy(e,n,r),r=r.sibling}function fy(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:we||Ei(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:we||Ei(r,n);var o=oe,c=sn;Nr(r.type)&&(oe=r.stateNode,sn=!1),Hi(e,n,r),sl(r.stateNode),oe=o,sn=c;break;case 5:we||Ei(r,n);case 6:if(o=oe,c=sn,oe=null,Hi(e,n,r),oe=o,sn=c,oe!==null)if(sn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:oe!==null&&(sn?(e=oe,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):r_(oe,r.stateNode));break;case 4:o=oe,c=sn,oe=r.stateNode.containerInfo,sn=!0,Hi(e,n,r),oe=o,sn=c;break;case 0:case 11:case 14:case 15:Sr(2,r,n),we||Sr(4,r,n),Hi(e,n,r);break;case 1:we||(Ei(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&sy(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:we=(o=we)||r.memoizedState!==null,Hi(e,n,r),we=o;break;default:Hi(e,n,r)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Kt(n,n.return,r)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Kt(n,n.return,r)}}function SA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function Yu(e,n){var r=SA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=VA.bind(null,e,o);o.then(c,c)}})}function an(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Nr(E.type)){oe=E.stateNode,sn=!1;break t}break;case 5:oe=E.stateNode,sn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(oe===null)throw Error(a(160));fy(f,g,c),oe=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var Gn=null;function gy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Sr(3,e,e.return),Xo(3,e),Sr(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||r===null||Ei(r,r.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Gn;if(an(n,e),on(e),o&512&&(we||r===null||Ei(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),je(f,o,r),f[ve]=e,Ee(f),o=f;break t;case"link":var g=g_("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;case"meta":if(g=g_("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),je(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else p_(c,e.type,e.stateNode);else e.stateNode=m_(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?p_(c,e.type,e.stateNode):m_(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,r.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||r===null||Ei(r,r.return)),r!==null&&o&4&&Pf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||r===null||Ei(r,r.return)),e.flags&32){c=e.stateNode;try{rn(c,"")}catch(st){Kt(e,e.return,st)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Pf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(qf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Kt(e,e.return,st)}}break;case 3:if(cc=null,c=Gn,Gn=lc(n.containerInfo),an(n,e),Gn=c,on(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(st){Kt(e,e.return,st)}qf&&(qf=!1,py(e));break;case 4:o=Gn,Gn=lc(e.stateNode.containerInfo),an(n,e),on(e),Gn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ju=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:c=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=ji,H=we;if(ji=P||c,we=H||I,an(n,e),we=H,ji=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||I||ji||we||Cs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Q=I.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Kt(I,I.return,st)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(st){Kt(I,I.return,st)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;c?s_(q,!0):s_(I.stateNode,!1)}catch(st){Kt(I,I.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yu(e,r))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(oy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=zf(e);Ku(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(rn(g,""),r.flags&=-33);var E=zf(e);Ku(e,E,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=zf(e);Bf(e,P,I);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),Cs(n);break;case 1:Ei(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&sy(n,n.return,r),Cs(n);break;case 27:sl(n.stateNode);case 26:case 5:Ei(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(c,f,r),Xo(4,f);break;case 1:if(Gi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)Kg(I[c],E)}catch(P){Kt(o,o.return,P)}}r&&g&64&&ry(f),Jo(f,f.return);break;case 27:ly(f);case 26:case 5:Gi(c,f,r),r&&o===null&&g&4&&ay(f),Jo(f,f.return);break;case 12:Gi(c,f,r);break;case 31:Gi(c,f,r),r&&g&4&&dy(c,f);break;case 13:Gi(c,f,r),r&&g&4&&my(c,f);break;case 22:f.memoizedState===null&&Gi(c,f,r),Jo(f,f.return);break;case 30:break;default:Gi(c,f,r)}n=n.sibling}}function jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Uo(r))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e))}function Qn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,r,o),n=n.sibling}function yy(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,o),c&2048&&Xo(9,n);break;case 1:Qn(e,n,r,o);break;case 3:Qn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Uo(e)));break;case 12:if(c&2048){Qn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Qn(e,n,r,o);break;case 31:Qn(e,n,r,o);break;case 13:Qn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,o):Zo(e,n):f._visibility&2?Qn(e,n,r,o):(f._visibility|=2,ba(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&jf(g,n);break;case 24:Qn(e,n,r,o),c&2048&&Hf(n.alternate,n);break;default:Qn(e,n,r,o)}}function ba(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ba(f,g,E,I,c),Xo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ba(f,g,E,I,c):Zo(f,g):(H._visibility|=2,ba(f,g,E,I,c)),c&&P&2048&&jf(g.alternate,g);break;case 24:ba(f,g,E,I,c),c&&P&2048&&Hf(g.alternate,g);break;default:ba(f,g,E,I,c)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Zo(r,o),c&2048&&jf(o.alternate,o);break;case 24:Zo(r,o),c&2048&&Hf(o.alternate,o);break;default:Zo(r,o)}n=n.sibling}}var $o=8192;function wa(e,n,r){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)_y(e,n,r),e=e.sibling}function _y(e,n,r){switch(e.tag){case 26:wa(e,n,r),e.flags&$o&&e.memoizedState!==null&&uS(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:wa(e,n,r);break;case 3:case 4:var o=Gn;Gn=lc(e.stateNode.containerInfo),wa(e,n,r),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$o,$o=16777216,wa(e,n,r),$o=o):wa(e,n,r));break;default:wa(e,n,r)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):Wo(e);break;default:Wo(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),Xu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function Ty(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:Sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var c=o.sibling,f=o.return;if(hy(o),o===r){Le=null;break t}if(c!==null){c.return=f,Le=c;break t}Le=f}}}var bA={getCacheForType:function(e){var n=Be(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ae).controller.signal}},wA=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,wt=null,Ct=0,Qt=0,yn=null,br=!1,Ra=!1,Ff=!1,Qi=0,ce=0,wr=0,Ds=0,Gf=0,_n=0,Ia=0,tl=null,ln=null,Qf=!1,Ju=0,Ay=0,Zu=1/0,$u=null,Rr=null,Oe=0,Ir=null,Ca=null,Ki=0,Kf=0,Yf=null,Sy=null,el=0,Xf=null;function vn(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:j.T!==null?ed():Wl()}function by(){if(_n===0)if((Ct&536870912)===0||Mt){var e=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,r){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Cr(e,Ct,_n,!1)),is(e,r),((jt&2)===0||e!==$t)&&(e===$t&&((jt&2)===0&&(Ds|=r),ce===4&&Cr(e,Ct,_n,!1)),Ti(e))}function wy(e,n,r){if((jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),c=o?CA(e,n):Zf(e,n,!0),f=o;do{if(c===0){Ra&&!o&&Cr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!RA(r)){c=Zf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=tl;var I=E.current.memoizedState.isDehydrated;if(I&&(Da(E,g).flags|=256),g=Zf(E,g,!1),g!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,Ds|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Da(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,_n,!br);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Ju+300-$e(),10<c)){if(Cr(o,n,_n,!br),ii(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=n_(Ry.bind(null,o,r,ln,$u,Qf,n,_n,Ds,Ia,br,f,"Throttled",-0,0),c);break t}Ry(o,r,ln,$u,Qf,n,_n,Ds,Ia,br,f,null,-0,0)}}break}while(!0);Ti(e)}function Ry(e,n,r,o,c,f,g,E,I,P,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},_y(n,f,Q);var st=(f&62914560)===f?Ju-$e():(f&4194048)===f?Ay-$e():0;if(st=cS(Q,st),st!==null){Ki=f,e.cancelPendingCommit=st(xy.bind(null,e,n,f,r,o,c,g,E,I,H,Q,null,z,q)),Cr(e,f,g,!P);return}}xy(e,n,f,r,o,c,g,E,I)}function RA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,r,o){n&=~Gf,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&rs(e,r,n)}function Wu(){return(jt&6)===0?(nl(0),!1):!0}function Jf(){if(wt!==null){if(Qt===0)var e=wt.return;else e=wt,Ui=Es=null,ff(e),va=null,Po=0,e=wt;for(;e!==null;)iy(e.alternate,e),e=e.return;wt=null}}function Da(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,QA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,Jf(),$t=e,wt=r=xi(e.current,null),Ct=n,Qt=0,yn=null,br=!1,Ra=Un(e,n),Ff=!1,Ia=_n=Gf=Ds=wr=ce=0,ln=tl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-he(o),f=1<<c;n|=e[c],o&=~f}return Qi=n,Eu(),r}function Iy(e,n){At=null,j.H=Qo,n===_a||n===Cu?(n=Hg(),Qt=3):n===Wh?(n=Hg(),Qt=4):Qt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ce=1,ju(e,Rn(n,e.current)))}function Cy(){var e=gn.current;return e===null?!0:(Ct&4194048)===Ct?Nn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Nn:!1}function Dy(){var e=j.H;return j.H=Qo,e===null?Qo:e}function Ny(){var e=j.A;return j.A=bA,e}function tc(){ce=4,br||(Ct&4194048)!==Ct&&gn.current!==null||(Ra=!0),(wr&134217727)===0&&(Ds&134217727)===0||$t===null||Cr($t,Ct,_n,!1)}function Zf(e,n,r){var o=jt;jt|=2;var c=Dy(),f=Ny();($t!==e||Ct!==n)&&($u=null,Da(e,n)),n=!1;var g=ce;t:do try{if(Qt!==0&&wt!==null){var E=wt,I=yn;switch(Qt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var P=Qt;if(Qt=0,yn=null,Na(e,E,I,P),r&&Ra){g=0;break t}break;default:P=Qt,Qt=0,yn=null,Na(e,E,I,P)}}IA(),g=ce;break}catch(H){Iy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ui=Es=null,jt=o,j.H=c,j.A=f,wt===null&&($t=null,Ct=0,Eu()),g}function IA(){for(;wt!==null;)Oy(wt)}function CA(e,n){var r=jt;jt|=2;var o=Dy(),c=Ny();$t!==e||Ct!==n?($u=null,Zu=$e()+500,Da(e,n)):Ra=Un(e,n);t:do try{if(Qt!==0&&wt!==null){n=wt;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,Na(e,n,f,1);break;case 2:case 9:if(qg(f)){Qt=0,yn=null,Vy(n);break}n=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),Ti(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:qg(f)?(Qt=0,yn=null,Vy(n)):(Qt=0,yn=null,Na(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?y_(g):E.stateNode.complete){Qt=0,yn=null;var I=E.sibling;if(I!==null)wt=I;else{var P=E.return;P!==null?(wt=P,ec(P)):wt=null}break e}}Qt=0,yn=null,Na(e,n,f,5);break;case 6:Qt=0,yn=null,Na(e,n,f,6);break;case 8:Jf(),ce=6;break t;default:throw Error(a(462))}}DA();break}catch(H){Iy(e,H)}while(!0);return Ui=Es=null,j.H=o,j.A=c,jt=r,wt!==null?0:($t=null,Ct=0,Eu(),ce)}function DA(){for(;wt!==null&&!Rh();)Oy(wt)}function Oy(e){var n=ey(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?ec(e):wt=n}function Vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Xp(r,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Xp(r,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:ff(n);default:iy(r,n),n=wt=Ng(n,Qi),n=ey(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?ec(e):wt=n}function Na(e,n,r,o){Ui=Es=null,ff(n),va=null,Po=0;var c=n.return;try{if(yA(e,c,n,r,Ct)){ce=1,ju(e,Rn(r,e.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ce=1,ju(e,Rn(r,e.current)),wt=null;return}n.flags&32768?(Mt||o===1?e=!0:Ra||(Ct&536870912)!==0?e=!1:(br=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){My(n,br);return}e=n.return;var r=EA(n.alternate,n,Qi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ce===0&&(ce=5)}function My(e,n){do{var r=TA(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);ce=6,wt=null}function xy(e,n,r,o,c,f,g,E,I){e.cancelPendingCommit=null;do nc();while(Oe!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Ph,Dh(e,r,f,g,E,I),e===$t&&(wt=$t=null,Ct=0),Ca=n,Ir=e,Ki=r,Kf=f,Yf=c,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,MA(rr,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,c=W.p,W.p=2,g=jt,jt|=4;try{AA(e,n,r)}finally{jt=g,W.p=c,j.T=o}}Oe=1,Ly(),Uy(),ky()}}function Ly(){if(Oe===1){Oe=0;var e=Ir,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=W.p;W.p=2;var c=jt;jt|=4;try{gy(n,e);var f=ud,g=Tg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Eg(E.ownerDocument.documentElement,E)){if(I!==null&&Mh(E)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ht=Math.min(I.start,st),Zt=I.end===void 0?ht:Math.min(I.end,st);!q.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var L=vg(E,ht),N=vg(E,Zt);if(L&&N&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var k=Q.createRange();k.setStart(L.node,L.offset),q.removeAllRanges(),ht>Zt?(q.addRange(k),q.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),q.addRange(k))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}mc=!!ld,ud=ld=null}finally{jt=c,W.p=o,j.T=r}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Ir,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=W.p;W.p=2;var c=jt;jt|=4;try{cy(e,n.alternate,n)}finally{jt=c,W.p=o,j.T=r}}Oe=3}}function ky(){if(Oe===4||Oe===3){Oe=0,Ql();var e=Ir,n=Ca,r=Ki,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Ca=Ir=null,Py(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Rr=null),Ni(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,c=W.p,W.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,W.p=c}}(Ki&3)!==0&&nc(),Ti(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Xf?el++:(el=0,Xf=e):el=0,nl(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Uo(n)))}function nc(){return Ly(),Uy(),ky(),zy()}function zy(){if(Oe!==5)return!1;var e=Ir,n=Kf;Kf=0;var r=Ni(Ki),o=j.T,c=W.p;try{W.p=32>r?32:r,j.T=null,r=Yf,Yf=null;var f=Ir,g=Ki;if(Oe=0,Ca=Ir=null,Ki=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Ey(f.current),yy(f,f.current,g,r),jt=E,nl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{W.p=c,j.T=o,Py(e,n)}}function By(e,n,r){n=Rn(r,n),n=If(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(is(e,2),Ti(e))}function Kt(e,n,r){if(e.tag===3)By(e,e,r);else for(;n!==null;){if(n.tag===3){By(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Rn(r,e),r=qp(2),o=Er(n,r,2),o!==null&&(jp(r,o,n,e),is(o,2),Ti(o));break}}n=n.return}}function $f(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new wA;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Ff=!0,c.add(r),e=NA.bind(null,e,n,r),n.then(e,e))}function NA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,$t===e&&(Ct&r)===r&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>$e()-Ju?(jt&2)===0&&Da(e,0):Gf|=r,Ia===Ct&&(Ia=0)),Ti(e)}function qy(e,n){n===0&&(n=$l()),e=ys(e,n),e!==null&&(is(e,n),Ti(e))}function OA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),qy(e,r)}function VA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(e,r)}function MA(e,n){return Ne(e,n)}var ic=null,Oa=null,Wf=!1,rc=!1,td=!1,Dr=0;function Ti(e){e!==Oa&&e.next===null&&(Oa===null?ic=Oa=e:Oa=Oa.next=e),rc=!0,Wf||(Wf=!0,LA())}function nl(e,n){if(!td&&rc){td=!0;do for(var r=!1,o=ic;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Gy(o,f))}else f=Ct,f=ii(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,Gy(o,f));o=o.next}while(r);td=!1}}function xA(){jy()}function jy(){rc=Wf=!1;var e=0;Dr!==0&&GA()&&(e=Dr);for(var n=$e(),r=null,o=ic;o!==null;){var c=o.next,f=Hy(o,n);f===0?(o.next=null,r===null?ic=c:r.next=c,c===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(rc=!0)),o=c}Oe!==0&&Oe!==5||nl(e),Dr!==0&&(Dr=0)}function Hy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=c[g];I===-1?((E&r)===0||(E&o)!==0)&&(c[g]=Ch(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,r=Ct,r=ii(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ir(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ir(o),Ni(r)){case 2:case 8:r=ho;break;case 32:r=rr;break;case 268435456:r=Kl;break;default:r=rr}return o=Fy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ir(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(nc()&&e.callbackNode!==r)return null;var o=Ct;return o=ii(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Fy.bind(null,e):null)}function Gy(e,n){if(nc())return null;wy(e,n,!0)}function LA(){KA(function(){(jt&6)!==0?Ne(co,xA):jy()})}function ed(){if(Dr===0){var e=pa;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Dr=e}return Dr}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Ky(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function UA(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Qy((c[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Dr!==0){var I=g?Ky(c,g):new FormData(c);Tf(r,{pending:!0,data:I,method:c.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Ky(c,g):new FormData(c),Tf(r,{pending:!0,data:I,method:c.method,action:f},f,I))},currentTarget:c}]})}}for(var nd=0;nd<kh.length;nd++){var id=kh[nd],kA=id.toLowerCase(),PA=id[0].toUpperCase()+id.slice(1);Fn(kA,"on"+PA)}Fn(bg,"onAnimationEnd"),Fn(wg,"onAnimationIteration"),Fn(Rg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(tA,"onTransitionRun"),Fn(eA,"onTransitionStart"),Fn(nA,"onTransitionCancel"),Fn(Ig,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Yy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){vu(H)}c.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){vu(H)}c.currentTarget=null,f=I}}}}function Rt(e,n){var r=n[Js];r===void 0&&(r=n[Js]=new Set);var o=e+"__bubble";r.has(o)||(Xy(n,e,2,!1),r.add(o))}function rd(e,n,r){var o=0;n&&(o|=4),Xy(r,e,o,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[sc]){e[sc]=!0,go.forEach(function(r){r!=="selectionchange"&&(zA.has(r)||rd(r,!1,e),rd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,rd("selectionchange",!1,n))}}function Xy(e,n,r,o){switch(b_(n)){case 2:var c=dS;break;case 8:c=mS;break;default:c=Ed}r=c.bind(null,n,r,e),c=void 0,!us||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function ad(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}cr(function(){var P=f,H=An(r),Q=[];t:{var z=Cg.get(e);if(z!==void 0){var q=mi,st=e;switch(e){case"keypress":if(hs(r)===0)break t;case"keydown":case"keyup":q=pu;break;case"focusin":st="focus",q=ds;break;case"focusout":st="blur",q=ds;break;case"beforeblur":case"afterblur":q=ds;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case wg:case Rg:q=uu;break;case Ig:q=T;break;case"scroll":case"scrollend":q=Io;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ht=(n&4)!==0,Zt=!ht&&(e==="scroll"||e==="scrollend"),L=ht?z!==null?z+"Capture":null:z;ht=[];for(var N=P,k;N!==null;){var F=N;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||L===null||(F=Bn(N,L),F!=null&&ht.push(rl(N,F,k))),Zt)break;N=N.return}0<ht.length&&(z=new q(z,st,null,r,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==bo&&(st=r.relatedTarget||r.fromElement)&&(oi(st)||st[si]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=P,st=st?oi(st):null,st!==null&&(Zt=h(st),ht=st.tag,st!==Zt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(q=null,st=P),q!==st)){if(ht=Co,F="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Mi,F="onPointerLeave",L="onPointerEnter",N="pointer"),Zt=q==null?z:hn(q),k=st==null?z:hn(st),z=new ht(F,N+"leave",q,r,H),z.target=Zt,z.relatedTarget=k,F=null,oi(H)===P&&(ht=new ht(L,N+"enter",st,r,H),ht.target=k,ht.relatedTarget=Zt,F=ht),Zt=F,q&&st)e:{for(ht=BA,L=q,N=st,k=0,F=L;F;F=ht(F))k++;F=0;for(var lt=N;lt;lt=ht(lt))F++;for(;0<k-F;)L=ht(L),k--;for(;0<F-k;)N=ht(N),F--;for(;k--;){if(L===N||N!==null&&L===N.alternate){ht=L;break e}L=ht(L),N=ht(N)}ht=null}else ht=null;q!==null&&Jy(Q,z,q,ht,!1),st!==null&&Zt!==null&&Jy(Q,Zt,st,ht,!0)}}t:{if(z=P?hn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var zt=dg;else if(hg(z))if(mg)zt=Z0;else{zt=X0;var at=Y0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ta(P.elementType)&&(zt=dg):zt=J0;if(zt&&(zt=zt(e,P))){fg(Q,zt,r,H);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&To(z,"number",z.value)}switch(at=P?hn(P):window,e){case"focusin":(hg(at)||at.contentEditable==="true")&&(la=at,xh=P,Mo=null);break;case"focusout":Mo=xh=la=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ag(Q,r,H);break;case"selectionchange":if(W0)break;case"keydown":case"keyup":Ag(Q,r,H)}var bt;if(qt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else oa?ms(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(yi&&r.locale!=="ko"&&(oa||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&oa&&(bt=Ro()):(di=H,wo="value"in di?di.value:di.textContent,oa=!0)),at=ac(P,Dt),0<at.length&&(Dt=new pi(Dt,e,null,r,H),Q.push({event:Dt,listeners:at}),bt?Dt.data=bt:(bt=aa(r),bt!==null&&(Dt.data=bt)))),(bt=bn?F0(e,r):G0(e,r))&&(Dt=ac(P,"onBeforeInput"),0<Dt.length&&(at=new pi("onBeforeInput","beforeinput",null,r,H),Q.push({event:at,listeners:Dt}),at.data=bt)),UA(Q,e,P,r,H)}Yy(Q,n)})}function rl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function ac(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(e,r),c!=null&&o.unshift(rl(e,c,f)),c=Bn(e,n),c!=null&&o.push(rl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function BA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jy(e,n,r,o,c){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,c?(P=Bn(r,f),P!=null&&g.unshift(rl(r,P,I))):c||(P=Bn(r,f),P!=null&&g.push(rl(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var qA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(qA,`
`).replace(jA,"")}function $y(e,n){return n=Zy(n),Zy(e)===n}function Jt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":So(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ea(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),$s(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$s(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=au.get(r)||r,$s(e,r,o))}}function od(e,n,r,o,c,f){switch(r){case"style":So(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):$s(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}c&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=c=null,I=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Jt(e,n,o,H,r,null)}}iu(e,f,E,I,P,g,c,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,c,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?ar(e,!!o,n,!1):r!=null&&ar(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,r,null)}or(e,o,c,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(o=r[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,I,o,r,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Rt(il[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if(ta(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&od(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function HA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,I=null,P=null,H=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Q;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Jt(e,n,z,q,o,Q)}}Ws(e,g,E,I,P,H,f,c);return;case"select":q=g=E=z=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,I)}for(c in o)if(f=o[c],I=r[c],o.hasOwnProperty(c)&&(f!=null||I!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Jt(e,n,c,f,o,I)}n=E,r=g,o=q,z!=null?ar(e,!!r,z,!1):!!o!=!!r&&(n!=null?ar(e,!!r,n,!0):ar(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}ru(e,z,q);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Jt(e,n,st,null,o,z));for(I in o)z=o[I],q=r[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,I,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Jt(e,n,ht,null,o,z);for(P in o)if(z=o[P],q=r[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,q)}return;default:if(ta(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&od(e,n,Zt,void 0,o,z);for(H in o)z=o[H],q=r[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||od(e,n,H,z,o,q);return}}for(var L in r)z=r[L],r.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&Jt(e,n,L,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Jt(e,n,Q,z,o,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Wy(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var I=r[o],P=I.startTime;if(P>E)break;var H=I.transferSize,Q=I.initiatorType;H&&Wy(Q)&&(I=I.responseEnd,g+=H*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function GA(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,KA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(YA)}:n_;function YA(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function r_(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")sl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,sl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&sl(e.ownerDocument.body);r=c}while(r);La(n)}function s_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function XA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function JA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,r){switch(n=oc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var Vn=new Map,c_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=W.d;W.d={f:$A,r:WA,D:tS,C:eS,L:nS,m:iS,X:sS,S:rS,M:aS};function $A(){var e=Yi.f(),n=Wu();return e||n}function WA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Ip(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function h_(e,n,r){var o=Va;if(o&&typeof n=="string"&&n){var c=nn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),c_.has(c)||(c_.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),je(n,"link",e),Ee(n),o.head.appendChild(n)))}}function tS(e){Yi.D(e),h_("dns-prefetch",e,null)}function eS(e,n){Yi.C(e,n),h_("preconnect",e,n)}function nS(e,n,r){Yi.L(e,n,r);var o=Va;if(o&&e&&n){var c='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+nn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+nn(r.imageSizes)+'"]')):c+='[href="'+nn(e)+'"]';var f=c;switch(n){case"style":f=Ma(e);break;case"script":f=xa(e)}Vn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),je(n,"link",e),Ee(n),o.head.appendChild(n)))}}function iS(e,n){Yi.m(e,n);var r=Va;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!Vn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ol(f)))return}o=r.createElement("link"),je(o,"link",e),Ee(o),r.head.appendChild(o)}}}function rS(e,n,r){Yi.S(e,n,r);var o=Va;if(o&&e){var c=li(o).hoistableStyles,f=Ma(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(al(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&pd(e,r);var I=g=o.createElement("link");Ee(I),je(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function sS(e,n){Yi.X(e,n);var r=Va;if(r&&e){var o=li(r).hoistableScripts,c=xa(e),f=o.get(c);f||(f=r.querySelector(ol(c)),f||(e=w({src:e,async:!0},n),(n=Vn.get(c))&&yd(e,n),f=r.createElement("script"),Ee(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function aS(e,n){Yi.M(e,n);var r=Va;if(r&&e){var o=li(r).hoistableScripts,c=xa(e),f=o.get(c);f||(f=r.querySelector(ol(c)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Vn.get(c))&&yd(e,n),f=r.createElement("script"),Ee(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function f_(e,n,r,o){var c=(c=St.current)?lc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ma(r.href),r=li(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ma(r.href);var f=li(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||oS(c,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(r),r=li(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ma(e){return'href="'+nn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function oS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),Ee(n),e.head.appendChild(n))}function xa(e){return'[src="'+nn(e)+'"]'}function ol(e){return"script[async]"+e}function m_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(r.href)+'"]');if(o)return n.instance=o,Ee(o),o;var c=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),je(o,"style",c),uc(o,r.precedence,e),n.instance=o;case"stylesheet":c=Ma(r.href);var f=e.querySelector(al(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=d_(r),(c=Vn.get(c))&&pd(o,c),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),je(f,"link",o),n.state.loading|=4,uc(f,r.precedence,e),n.instance=f;case"script":return f=xa(r.src),(c=e.querySelector(ol(f)))?(n.instance=c,Ee(c),c):(o=r,(c=Vn.get(f))&&(o=w({},r),yd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Ee(c),je(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,r.precedence,e));return n.instance}function uc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function g_(e,n,r){if(cc===null){var o=new Map,c=cc=new Map;c.set(r,o)}else c=cc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function p_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function lS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Ma(o.href),f=n.querySelector(al(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,Ee(f);return}f=n.ownerDocument||n,o=d_(o),(c=Vn.get(c))&&pd(o,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=hc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var _d=0;function cS(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*FA());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(hS,e),fc=null,hc.call(e))}function hS(e,n){if(!(n.state.loading&4)){var r=fc.get(e);if(r)var o=r.get(null);else{r=new Map,fc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=hc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function fS(e,n,r,o,c,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function __(e,n,r,o,c,f,g,E,I,P,H,Q){return e=new fS(e,n,r,g,I,P,H,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},tf(f),e}function v_(e){return e?(e=ha,e):ha}function E_(e,n,r,o,c,f){c=v_(c),o.context===null?o.context=c:o.pendingContext=c,o=vr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Er(e,o,n),r!==null&&(un(r,e,n),Bo(r,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function vd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=ys(e,67108864);n!==null&&un(n,e,67108864),vd(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=vn();n=ss(n);var r=ys(e,n);r!==null&&un(r,e,n),vd(e,n)}}var mc=!0;function dS(e,n,r,o){var c=j.T;j.T=null;var f=W.p;try{W.p=2,Ed(e,n,r,o)}finally{W.p=f,j.T=c}}function mS(e,n,r,o){var c=j.T;j.T=null;var f=W.p;try{W.p=8,Ed(e,n,r,o)}finally{W.p=f,j.T=c}}function Ed(e,n,r,o){if(mc){var c=Td(o);if(c===null)ad(e,n,o,gc,r),w_(e,o);else if(pS(c,e,n,r,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<gS.indexOf(e)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}Ti(f),(jt&6)===0&&(Zu=$e()+500,nl(0))}}break;case 31:case 13:E=ys(f,2),E!==null&&un(E,f,2),Wu(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,gc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else ad(e,n,o,null,r)}}function Td(e){return e=An(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=oi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(es()){case co:return 2;case ho:return 8;case rr:case Ih:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Or=null,Vr=null,Mr=null,ul=new Map,cl=new Map,xr=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function pS(e,n,r,o,c){switch(n){case"focusin":return Or=hl(Or,e,n,r,o,c),!0;case"dragenter":return Vr=hl(Vr,e,n,r,o,c),!0;case"mouseover":return Mr=hl(Mr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,r,o,c)),!0}return!1}function R_(e){var n=oi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,kn(e.priority,function(){S_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,kn(e.priority,function(){S_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Td(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);bo=o,r.target.dispatchEvent(o),bo=null}else return n=Tn(r),n!==null&&A_(n),e.blockedOn=r,!1;n.shift()}return!0}function I_(e,n,r){pc(e)&&r.delete(n)}function yS(){Sd=!1,Or!==null&&pc(Or)&&(Or=null),Vr!==null&&pc(Vr)&&(Vr=null),Mr!==null&&pc(Mr)&&(Mr=null),ul.forEach(I_),cl.forEach(I_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yS)))}var _c=null;function C_(e){_c!==e&&(_c=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Ad(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function La(e){function n(I){return yc(I,e)}Or!==null&&yc(Or,e),Vr!==null&&yc(Vr,e),Mr!==null&&yc(Mr,e),ul.forEach(n),cl.forEach(n);for(var r=0;r<xr.length;r++){var o=xr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)R_(r),r.blockedOn===null&&xr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Me]||null;if(typeof f=="function")g||C_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Ad(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),C_(r)}}}function D_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bd(e){this._internalRoot=e}vc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();E_(r,o,e,n,null,null)},vc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),Wu(),n[si]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xr.length&&n!==0&&n<xr[r].priority;r++);xr.splice(r,0,e),r===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.4")throw Error(a(527,N_,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var _S={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ln=Ec.inject(_S),ke=Ec}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=kp,f=Pp,g=zp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(e,1,!1,null,null,r,o,null,c,f,g,D_),e[si]=n.current,sd(e),new bd(n)},dl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=kp,g=Pp,E=zp,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=__(e,1,!0,n,r??null,o,c,I,f,g,E,D_),n.context=v_(null),r=n.current,o=vn(),o=ss(o),c=vr(o),c.callback=null,Er(r,c,o),r=o,n.current.lanes=r,is(n,r),Ti(n),e[si]=n.current,sd(e),new vc(n)},dl.version="19.2.4",dl}var B_;function CS(){if(B_)return Id.exports;B_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=IS(),Id.exports}var DS=CS();const NS=()=>{};var q_={};const _E=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},OS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,A=h>>2,w=(h&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(M=64)),a.push(i[A],i[w],i[M],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(_E(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):OS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||p==null||_==null||w==null)throw new VS;const M=h<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),w!==64){const Z=_<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MS=function(s){const t=_E(s);return vE.encodeByteArray(t,!0)},Bc=function(s){return MS(s).replace(/\./g,"")},EE=function(s){try{return vE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LS=()=>xS().__FIREBASE_DEFAULTS__,US=()=>{if(typeof process>"u"||typeof q_>"u")return;const s=q_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&EE(s[1]);return t&&JSON.parse(t)},ah=()=>{try{return NS()||LS()||US()||kS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},TE=s=>ah()?.emulatorHosts?.[s],PS=s=>{const t=TE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},AE=()=>ah()?.config,SE=s=>ah()?.[`_${s}`];class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bE(s){return(await fetch(s,{credentials:"include"})).ok}function BS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const El={};function qS(){const s={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?s.emulator.push(t):s.prod.push(t);return s}function jS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let j_=!1;function wE(s,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||El[s]===t||El[s]||j_)return;El[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",h=qS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{j_=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=jS(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),Et=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),A($,et);const It=_();v(Et,ct),mt.append(Et,Z,$,It),document.body.appendChild(mt)}h?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function FS(){const s=ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function ZS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const $S="FirebaseError";class nr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$S,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?WS(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new nr(l,p,a)}}function WS(s,t){return s.replace(t1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const t1=/\{\$([^}]+)}/g;function e1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ls(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(H_(h)&&H_(d)){if(!Ls(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(s){return s!==null&&typeof s=="object"}function Ul(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function n1(s,t){const i=new i1(s,t);return i.subscribe.bind(i)}class i1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");r1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Od(){}function Ze(s){return s&&s._delegate?s._delegate:s}class Us{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ns="[DEFAULT]";class s1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(o1(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:a1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a1(s){return s===Ns?void 0:s}function o1(s){return s.instantiationMode==="EAGER"}class l1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new s1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const u1={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},c1=Nt.INFO,h1={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},f1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=h1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=c1,this._logHandler=f1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const d1=(s,t)=>t.some(i=>s instanceof i);let F_,G_;function m1(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Fd=new WeakMap,IE=new WeakMap,Vd=new WeakMap,ym=new WeakMap;function p1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&RE.set(i,s)}).catch(()=>{}),ym.set(t,s),t}function y1(s){if(Fd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Fd.set(s,t)}let Gd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Fd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||IE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _1(s){Gd=s(Gd)}function v1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Md(this),t,...i);return IE.set(a,t.sort?t.sort():[t]),qr(a)}:g1().includes(s)?function(...t){return s.apply(Md(this),t),qr(RE.get(this))}:function(...t){return qr(s.apply(Md(this),t))}}function E1(s){return typeof s=="function"?v1(s):(s instanceof IDBTransaction&&y1(s),d1(s,m1())?new Proxy(s,Gd):s)}function qr(s){if(s instanceof IDBRequest)return p1(s);if(Vd.has(s))return Vd.get(s);const t=E1(s);return t!==s&&(Vd.set(s,t),ym.set(t,s)),t}const Md=s=>ym.get(s);function T1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(qr(d.result),v.oldVersion,v.newVersion,qr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const A1=["get","getKey","getAll","getAllKeys","count"],S1=["put","add","delete","clear"],xd=new Map;function Q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=S1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||A1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return xd.set(t,h),h}_1(s=>({...s,get:(t,i,a)=>Q_(t,i)||s.get(t,i,a),has:(t,i)=>!!Q_(t,i)||s.has(t,i)}));class b1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(w1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function w1(s){return s.getComponent()?.type==="VERSION"}const Qd="@firebase/app",K_="0.14.7";const $i=new pm("@firebase/app"),R1="@firebase/app-compat",I1="@firebase/analytics-compat",C1="@firebase/analytics",D1="@firebase/app-check-compat",N1="@firebase/app-check",O1="@firebase/auth",V1="@firebase/auth-compat",M1="@firebase/database",x1="@firebase/data-connect",L1="@firebase/database-compat",U1="@firebase/functions",k1="@firebase/functions-compat",P1="@firebase/installations",z1="@firebase/installations-compat",B1="@firebase/messaging",q1="@firebase/messaging-compat",j1="@firebase/performance",H1="@firebase/performance-compat",F1="@firebase/remote-config",G1="@firebase/remote-config-compat",Q1="@firebase/storage",K1="@firebase/storage-compat",Y1="@firebase/firestore",X1="@firebase/ai",J1="@firebase/firestore-compat",Z1="firebase",$1="12.8.0";const Kd="[DEFAULT]",W1={[Qd]:"fire-core",[R1]:"fire-core-compat",[C1]:"fire-analytics",[I1]:"fire-analytics-compat",[N1]:"fire-app-check",[D1]:"fire-app-check-compat",[O1]:"fire-auth",[V1]:"fire-auth-compat",[M1]:"fire-rtdb",[x1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[U1]:"fire-fn",[k1]:"fire-fn-compat",[P1]:"fire-iid",[z1]:"fire-iid-compat",[B1]:"fire-fcm",[q1]:"fire-fcm-compat",[j1]:"fire-perf",[H1]:"fire-perf-compat",[F1]:"fire-rc",[G1]:"fire-rc-compat",[Q1]:"fire-gcs",[K1]:"fire-gcs-compat",[Y1]:"fire-fst",[J1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};const qc=new Map,tb=new Map,Yd=new Map;function Y_(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(Yd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Yd.set(t,s);for(const i of qc.values())Y_(i,s);for(const i of tb.values())Y_(i,s);return!0}function _m(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Kn(s){return s==null?!1:s.settings!==void 0}const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Ll("app","Firebase",eb);class nb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const eo=$1;function CE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=AE()),!i)throw jr.create("no-options");const h=qc.get(l);if(h){if(Ls(i,h.options)&&Ls(a,h.config))return h;throw jr.create("duplicate-app",{appName:l})}const d=new l1(l);for(const v of Yd.values())d.addComponent(v);const p=new nb(i,a,d);return qc.set(l,p),p}function DE(s=Kd){const t=qc.get(s);if(!t&&s===Kd&&AE())return CE();if(!t)throw jr.create("no-app",{appName:s});return t}function Hr(s,t,i){let a=W1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Qa(new Us(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const ib="firebase-heartbeat-database",rb=1,Rl="firebase-heartbeat-store";let Ld=null;function NE(){return Ld||(Ld=T1(ib,rb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function sb(s){try{const i=(await NE()).transaction(Rl),a=await i.objectStore(Rl).get(OE(s));return await i.done,a}catch(t){if(t instanceof nr)$i.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function X_(s,t){try{const a=(await NE()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,OE(s)),await a.done}catch(i){if(i instanceof nr)$i.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function OE(s){return`${s.name}!${s.options.appId}`}const ab=1024,ob=30;class lb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ob){const l=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=ub(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function ub(s,t=ab){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),Z_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?ZS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return Bc(JSON.stringify({version:2,heartbeats:s})).length}function hb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function fb(s){Qa(new Us("platform-logger",t=>new b1(t),"PRIVATE")),Qa(new Us("heartbeat",t=>new lb(t),"PRIVATE")),Hr(Qd,K_,s),Hr(Qd,K_,"esm2020"),Hr("fire-js","")}fb("");var db="firebase",mb="12.8.0";Hr(db,mb,"app");function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gb=VE,ME=new Ll("auth","Firebase",VE());const jc=new pm("@firebase/auth");function pb(s,...t){jc.logLevel<=Nt.WARN&&jc.warn(`Auth (${eo}): ${s}`,...t)}function Cc(s,...t){jc.logLevel<=Nt.ERROR&&jc.error(`Auth (${eo}): ${s}`,...t)}function Ci(s,...t){throw Em(s,...t)}function Jn(s,...t){return Em(s,...t)}function vm(s,t,i){const a={...gb(),[t]:i};return new Ll("auth","Firebase",a).create(t,{appName:s.name})}function Ms(s){return vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ci(s,"argument-error"),vm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Em(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return ME.create(s,...t)}function dt(s,t,...i){if(!s)throw Em(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Cc(t),new Error(t)}function Wi(s,t){s||Ji(t)}function Xd(){return typeof self<"u"&&self.location?.href||""}function _b(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_b()||QS()||"connection"in navigator)?navigator.onLine:!0}function Eb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class kl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=HS()||KS()}get(){return vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class xE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ab=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sb=new kl(3e4,6e4);function Am(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function no(s,t,i,a,l={}){return LE(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Ul({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...h};return GS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&to(s.emulatorConfig.host)&&(_.credentials="include"),xE.fetch()(await UE(s,s.config.apiHost,i,p),_)})}async function LE(s,t,i){s._canInitEmulator=!1;const a={...Tb,...t};try{const l=new wb(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Tc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Tc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Tc(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw vm(s,A,_);Ci(s,A)}}catch(l){if(l instanceof nr)throw l;Ci(s,"network-request-failed",{message:String(l)})}}async function bb(s,t,i,a,l={}){const h=await no(s,t,i,a,l);return"mfaPendingCredential"in h&&Ci(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function UE(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?Tm(s.config,l):`${s.config.apiScheme}://${l}`;return Ab.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Jn(this.auth,"network-request-failed")),Sb.get())})}}function Tc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Jn(s,t,a);return l.customData._tokenResponse=i,l}async function Rb(s,t){return no(s,"POST","/v1/accounts:delete",t)}async function Hc(s,t){return no(s,"POST","/v1/accounts:lookup",t)}function Tl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ib(s,t=!1){const i=Ze(s),a=await i.getIdToken(t),l=Sm(a);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Ud(l.auth_time)),issuedAtTime:Tl(Ud(l.iat)),expirationTime:Tl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Ud(s){return Number(s)*1e3}function Sm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=EE(i);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(s){const t=Sm(s);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Il(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof nr&&Cb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Cb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(s){const t=s.auth,i=await s.getIdToken(),a=await Il(s,Hc(t,{idToken:i}));dt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?kE(l.providerUserInfo):[],d=Ob(s.providerData,h),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Nb(s){const t=Ze(s);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ob(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function kE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Vb(s,t){const i=await LE(s,{},async()=>{const a=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await UE(s,l,"/v1/token",`key=${h}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&to(s.emulatorConfig.host)&&(v.credentials="include"),xE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Mb(s,t){return no(s,"POST","/v2/accounts:revokeToken",Am(s,t))}class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=W_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await Vb(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new Ba;return a&&(dt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(dt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Ur(s,t){dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Il(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ib(this,t)}reload(){return Nb(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Il(this,Rb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;dt(w&&et,t,"internal-error");const $=Ba.fromJSON(this.name,et);dt(typeof w=="string",t,"internal-error"),Ur(a,t.name),Ur(l,t.name),dt(typeof M=="boolean",t,"internal-error"),dt(typeof G=="boolean",t,"internal-error"),Ur(h,t.name),Ur(d,t.name),Ur(p,t.name),Ur(v,t.name),Ur(_,t.name),Ur(A,t.name);const ct=new Yn({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:$,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ct.providerData=Z.map(Et=>({...Et}))),v&&(ct._redirectEventId=v),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ba;l.updateFromServerResponse(i);const h=new Yn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Fc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?kE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new Ba;p.updateFromIdToken(a);const v=new Yn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const tv=new Map;function Zi(s){Wi(s instanceof Function,"Expected a class definition");let t=tv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,tv.set(s,t),t)}class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}PE.type="NONE";const ev=PE;function Dc(s,t,i){return`firebase:${s}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Dc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Zi(ev),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Zi(ev);const d=Dc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const M=await Hc(t,{idToken:A}).catch(()=>{});if(!M)break;w=await Yn._fromGetAccountInfoResponse(t,M,A)}else w=Yn._fromJSON(t,A);_!==h&&(p=w),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new qa(h,t,a):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new qa(h,t,a))}}function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FE(t))return"Blackberry";if(GE(t))return"Webos";if(BE(t))return"Safari";if((t.includes("chrome/")||qE(t))&&!t.includes("edge/"))return"Chrome";if(HE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function zE(s=Je()){return/firefox\//i.test(s)}function BE(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qE(s=Je()){return/crios\//i.test(s)}function jE(s=Je()){return/iemobile/i.test(s)}function HE(s=Je()){return/android/i.test(s)}function FE(s=Je()){return/blackberry/i.test(s)}function GE(s=Je()){return/webos/i.test(s)}function bm(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function xb(s=Je()){return bm(s)&&!!window.navigator?.standalone}function Lb(){return YS()&&document.documentMode===10}function QE(s=Je()){return bm(s)||HE(s)||GE(s)||FE(s)||/windows phone/i.test(s)||jE(s)}function KE(s,t=[]){let i;switch(s){case"Browser":i=nv(Je());break;case"Worker":i=`${nv(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class Ub{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function kb(s,t={}){return no(s,"GET","/v2/passwordPolicy",Am(s,t))}const Pb=6;class zb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Pb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class Bb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new Ub(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Eb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(Ms(this));const i=t?Ze(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kb(this),i=new zb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Mb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function oh(s){return Ze(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=n1(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qb(s){wm=s}function jb(s){return wm.loadJS(s)}function Hb(){return wm.gapiScript}function Fb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Gb(s,t){const i=_m(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ls(h,t??{}))return l;Ci(l,"already-initialized")}return i.initialize({options:t})}function Qb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Kb(s,t,i){const a=oh(s);dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=YE(t),{host:d,port:p}=Yb(t),v=p===null?"":`:${p}`,_={url:`${h}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),dt(Ls(_,a.config.emulator)&&Ls(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(bE(`${h}//${d}${v}`),wE("Auth",!0)):Xb()}function YE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Yb(s){const t=YE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:rv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:rv(d)}}}function rv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Xb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class XE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function ja(s,t){return bb(s,"POST","/v1/accounts:signInWithIdp",Am(s,t))}const Jb="http://localhost";class ks extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ci("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new ks(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:Jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ul(i)}return t}}class Rm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Pl extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class kr extends Pl{constructor(){super("facebook.com")}static credential(t){return ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Xi extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ks._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xi.credential(i,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class Pr extends Pl{constructor(){super("github.com")}static credential(t){return ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class zr extends Pl{constructor(){super("twitter.com")}static credential(t,i){return ks._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zr.credential(i,a)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";class Ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Yn._fromIdTokenResponse(t,a,l),d=sv(a);return new Ka({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=sv(a);return new Ka({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Gc extends nr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Gc(t,i,a,l)}}function JE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(s,h,t,a):h})}async function Zb(s,t,i=!1){const a=await Il(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ka._forOperation(s,"link",a)}async function $b(s,t,i=!1){const{auth:a}=s;if(Kn(a.app))return Promise.reject(Ms(a));const l="reauthenticate";try{const h=await Il(s,JE(a,l,t,s),i);dt(h.idToken,a,"internal-error");const d=Sm(h.idToken);dt(d,a,"internal-error");const{sub:p}=d;return dt(s.uid===p,a,"user-mismatch"),Ka._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ci(a,"user-mismatch"),h}}async function Wb(s,t,i=!1){if(Kn(s.app))return Promise.reject(Ms(s));const a="signIn",l=await JE(s,a,t),h=await Ka._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}function tw(s,t){return Ze(s).setPersistence(t)}function ew(s,t,i,a){return Ze(s).onIdTokenChanged(t,i,a)}function nw(s,t,i){return Ze(s).beforeAuthStateChanged(t,i)}function iw(s,t,i,a){return Ze(s).onAuthStateChanged(t,i,a)}function rw(s){return Ze(s).signOut()}const Qc="__sak";class ZE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sw=1e3,aw=10;class $E extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);Lb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,aw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$E.type="LOCAL";const ow=$E;class WE extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}WE.type="SESSION";const Im=WE;function lw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new lh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,h)),v=await lw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];function Cm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class uw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const _=Cm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(M.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function cw(s){Si().location.href=s}function tT(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function hw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){return navigator?.serviceWorker?.controller||null}function dw(){return tT()?self:null}const eT="firebaseLocalStorageDb",mw=1,Kc="firebaseLocalStorage",nT="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(s,t){return s.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function gw(){const s=indexedDB.deleteDatabase(eT);return new zl(s).toPromise()}function Zd(){const s=indexedDB.open(eT,mw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Kc,{keyPath:nT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Kc)?t(a):(a.close(),await gw(),t(await Zd()))})})}async function av(s,t,i){const a=uh(s,!0).put({[nT]:t,value:i});return new zl(a).toPromise()}async function pw(s,t){const i=uh(s,!1).get(t),a=await new zl(i).toPromise();return a===void 0?null:a.value}function ov(s,t){const i=uh(s,!0).delete(t);return new zl(i).toPromise()}const yw=800,_w=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>_w)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(dw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await av(t,Qc,"1"),await ov(t,Qc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>av(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>pw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ov(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=uh(l,!1).getAll();return new zl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const vw=iT;new kl(3e4,6e4);function rT(s,t){return t?Zi(t):(dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dm extends XE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ew(s){return Wb(s.auth,new Dm(s),s.bypassAuthState)}function Tw(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),$b(i,new Dm(s),s.bypassAuthState)}async function Aw(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),Zb(i,new Dm(s),s.bypassAuthState)}class sT{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return Aw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:Ci(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sw=new kl(2e3,1e4);async function bw(s,t,i){if(Kn(s.app))return Promise.reject(Jn(s,"operation-not-supported-in-this-environment"));const a=oh(s);yb(s,t,Rm);const l=rT(a,i);return new Os(a,"signInViaPopup",t,l).executeNotNull()}class Os extends sT{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}Os.currentPopupAction=null;const ww="pendingRedirect",Nc=new Map;class Rw extends sT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await Iw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iw(s,t){const i=Nw(t),a=Dw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Cw(s,t){Nc.set(s._key(),t)}function Dw(s){return Zi(s._redirectPersistence)}function Nw(s){return Dc(ww,s.config.apiKey,s.name)}async function Ow(s,t,i=!1){if(Kn(s.app))return Promise.reject(Ms(s));const a=oh(s),l=rT(a,t),d=await new Rw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class Mw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Jn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function aT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(s);default:return!1}}async function Lw(s,t={}){return no(s,"GET","/v1/projects",t)}const Uw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kw=/^https?/;async function Pw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Lw(s);for(const i of t)try{if(zw(i))return}catch{}Ci(s,"unauthorized-domain")}function zw(s){const t=Xd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!kw.test(i))return!1;if(Uw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Bw=new kl(3e4,6e4);function uv(){const s=Si().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function qw(s){return new Promise((t,i)=>{function a(){uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uv(),i(Jn(s,"network-request-failed"))},timeout:Bw.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=Fb("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Jn(s,"network-request-failed"))},jb(`${Hb()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function jw(s){return Oc=Oc||qw(s),Oc}const Hw=new kl(5e3,15e3),Fw="__/auth/iframe",Gw="emulator/auth/iframe",Qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(s){const t=s.config;dt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Tm(t,Gw):`https://${s.config.authDomain}/${Fw}`,a={apiKey:t.apiKey,appName:s.name,v:eo},l=Kw.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ul(a).slice(1)}`}async function Xw(s){const t=await jw(s),i=Si().gapi;return dt(i,s,"internal-error"),t.open({where:document.body,url:Yw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Jn(s,"network-request-failed"),p=Si().setTimeout(()=>{h(d)},Hw.get());function v(){Si().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{h(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zw=500,$w=600,Ww="_blank",tR="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eR(s,t,i,a=Zw,l=$w){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Jw,width:a.toString(),height:l.toString(),top:h,left:d},_=Je().toLowerCase();i&&(p=qE(_)?Ww:i),zE(_)&&(t=t||tR,v.scrollbars="yes");const A=Object.entries(v).reduce((M,[G,Z])=>`${M}${G}=${Z},`,"");if(xb(_)&&p!=="_self")return nR(t||"",p),new cv(null);const w=window.open(t||"",p,A);dt(w,s,"popup-blocked");try{w.focus()}catch{}return new cv(w)}function nR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const iR="__/auth/handler",rR="emulator/auth/handler",sR=encodeURIComponent("fac");async function hv(s,t,i,a,l,h){dt(s.config.authDomain,s,"auth-domain-config-required"),dt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof Rm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",e1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Pl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),_=v?`#${sR}=${encodeURIComponent(v)}`:"";return`${aR(s)}?${Ul(p).slice(1)}${_}`}function aR({config:s}){return s.emulator?Tm(s,rR):`https://${s.authDomain}/${iR}`}const kd="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Im,this._completeRedirectFn=Ow,this._overrideRedirectResult=Cw}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await hv(t,i,a,Xd(),l);return eR(t,h,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await hv(t,i,a,Xd(),l);return cw(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Xw(t),a=new Mw(t);return i.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const h=l?.[0]?.[kd];h!==void 0&&i(!!h),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Pw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return QE()||BE()||bm()}}const lR=oR;var fv="@firebase/auth",dv="1.12.0";class uR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(s){Qa(new Us("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(s)},_=new Bb(a,l,h,v);return Qb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Us("auth-internal",t=>{const i=oh(t.getProvider("auth").getImmediate());return(a=>new uR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(fv,dv,cR(s)),Hr(fv,dv,"esm2020")}const fR=300,dR=SE("authIdTokenMaxAge")||fR;let mv=null;const mR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>dR)return;const l=i?.token;mv!==l&&(mv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gR(s=DE()){const t=_m(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Gb(s,{popupRedirectResolver:lR,persistence:[vw,ow,Im]}),a=SE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=mR(h.toString());nw(i,d,()=>d(i.currentUser)),ew(i,p=>d(p))}}const l=TE("auth");return l&&Kb(i,`http://${l}`),i}function pR(){return document.getElementsByTagName("head")?.[0]??document}qb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=Jn("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",pR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,oT;(function(){var s;function t(C,b){function S(){}S.prototype=b.prototype,C.F=b.prototype,C.prototype=new S,C.prototype.constructor=C,C.D=function(O,D,x){for(var R=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)R[Pt-2]=arguments[Pt];return b.prototype[D].apply(O,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,S){S||(S=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(D=0;D<16;++D)O[D]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=C.g[0],S=C.g[1],D=C.g[2];let x=C.g[3],R;R=b+(x^S&(D^x))+O[0]+3614090360&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(D^b&(S^D))+O[1]+3905402710&4294967295,x=b+(R<<12&4294967295|R>>>20),R=D+(S^x&(b^S))+O[2]+606105819&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(b^D&(x^b))+O[3]+3250441966&4294967295,S=D+(R<<22&4294967295|R>>>10),R=b+(x^S&(D^x))+O[4]+4118548399&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(D^b&(S^D))+O[5]+1200080426&4294967295,x=b+(R<<12&4294967295|R>>>20),R=D+(S^x&(b^S))+O[6]+2821735955&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(b^D&(x^b))+O[7]+4249261313&4294967295,S=D+(R<<22&4294967295|R>>>10),R=b+(x^S&(D^x))+O[8]+1770035416&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(D^b&(S^D))+O[9]+2336552879&4294967295,x=b+(R<<12&4294967295|R>>>20),R=D+(S^x&(b^S))+O[10]+4294925233&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(b^D&(x^b))+O[11]+2304563134&4294967295,S=D+(R<<22&4294967295|R>>>10),R=b+(x^S&(D^x))+O[12]+1804603682&4294967295,b=S+(R<<7&4294967295|R>>>25),R=x+(D^b&(S^D))+O[13]+4254626195&4294967295,x=b+(R<<12&4294967295|R>>>20),R=D+(S^x&(b^S))+O[14]+2792965006&4294967295,D=x+(R<<17&4294967295|R>>>15),R=S+(b^D&(x^b))+O[15]+1236535329&4294967295,S=D+(R<<22&4294967295|R>>>10),R=b+(D^x&(S^D))+O[1]+4129170786&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(b^S))+O[6]+3225465664&4294967295,x=b+(R<<9&4294967295|R>>>23),R=D+(b^S&(x^b))+O[11]+643717713&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(D^x))+O[0]+3921069994&4294967295,S=D+(R<<20&4294967295|R>>>12),R=b+(D^x&(S^D))+O[5]+3593408605&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(b^S))+O[10]+38016083&4294967295,x=b+(R<<9&4294967295|R>>>23),R=D+(b^S&(x^b))+O[15]+3634488961&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(D^x))+O[4]+3889429448&4294967295,S=D+(R<<20&4294967295|R>>>12),R=b+(D^x&(S^D))+O[9]+568446438&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(b^S))+O[14]+3275163606&4294967295,x=b+(R<<9&4294967295|R>>>23),R=D+(b^S&(x^b))+O[3]+4107603335&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(D^x))+O[8]+1163531501&4294967295,S=D+(R<<20&4294967295|R>>>12),R=b+(D^x&(S^D))+O[13]+2850285829&4294967295,b=S+(R<<5&4294967295|R>>>27),R=x+(S^D&(b^S))+O[2]+4243563512&4294967295,x=b+(R<<9&4294967295|R>>>23),R=D+(b^S&(x^b))+O[7]+1735328473&4294967295,D=x+(R<<14&4294967295|R>>>18),R=S+(x^b&(D^x))+O[12]+2368359562&4294967295,S=D+(R<<20&4294967295|R>>>12),R=b+(S^D^x)+O[5]+4294588738&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^D)+O[8]+2272392833&4294967295,x=b+(R<<11&4294967295|R>>>21),R=D+(x^b^S)+O[11]+1839030562&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^b)+O[14]+4259657740&4294967295,S=D+(R<<23&4294967295|R>>>9),R=b+(S^D^x)+O[1]+2763975236&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^D)+O[4]+1272893353&4294967295,x=b+(R<<11&4294967295|R>>>21),R=D+(x^b^S)+O[7]+4139469664&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^b)+O[10]+3200236656&4294967295,S=D+(R<<23&4294967295|R>>>9),R=b+(S^D^x)+O[13]+681279174&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^D)+O[0]+3936430074&4294967295,x=b+(R<<11&4294967295|R>>>21),R=D+(x^b^S)+O[3]+3572445317&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^b)+O[6]+76029189&4294967295,S=D+(R<<23&4294967295|R>>>9),R=b+(S^D^x)+O[9]+3654602809&4294967295,b=S+(R<<4&4294967295|R>>>28),R=x+(b^S^D)+O[12]+3873151461&4294967295,x=b+(R<<11&4294967295|R>>>21),R=D+(x^b^S)+O[15]+530742520&4294967295,D=x+(R<<16&4294967295|R>>>16),R=S+(D^x^b)+O[2]+3299628645&4294967295,S=D+(R<<23&4294967295|R>>>9),R=b+(D^(S|~x))+O[0]+4096336452&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~D))+O[7]+1126891415&4294967295,x=b+(R<<10&4294967295|R>>>22),R=D+(b^(x|~S))+O[14]+2878612391&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~b))+O[5]+4237533241&4294967295,S=D+(R<<21&4294967295|R>>>11),R=b+(D^(S|~x))+O[12]+1700485571&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~D))+O[3]+2399980690&4294967295,x=b+(R<<10&4294967295|R>>>22),R=D+(b^(x|~S))+O[10]+4293915773&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~b))+O[1]+2240044497&4294967295,S=D+(R<<21&4294967295|R>>>11),R=b+(D^(S|~x))+O[8]+1873313359&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~D))+O[15]+4264355552&4294967295,x=b+(R<<10&4294967295|R>>>22),R=D+(b^(x|~S))+O[6]+2734768916&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~b))+O[13]+1309151649&4294967295,S=D+(R<<21&4294967295|R>>>11),R=b+(D^(S|~x))+O[4]+4149444226&4294967295,b=S+(R<<6&4294967295|R>>>26),R=x+(S^(b|~D))+O[11]+3174756917&4294967295,x=b+(R<<10&4294967295|R>>>22),R=D+(b^(x|~S))+O[2]+718787259&4294967295,D=x+(R<<15&4294967295|R>>>17),R=S+(x^(D|~b))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+x&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const S=b-this.blockSize,O=this.C;let D=this.h,x=0;for(;x<b;){if(D==0)for(;x<=S;)l(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<b;)if(O[D++]=C.charCodeAt(x++),D==this.blockSize){l(this,O),D=0;break}}else for(;x<b;)if(O[D++]=C[x++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var S=C.length-8;S<C.length;++S)C[S]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,S=0;S<4;++S)for(let O=0;O<32;O+=8)C[b++]=this.g[S]>>>O&255;return C};function h(C,b){var S=p;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=b(C)}function d(C,b){this.h=b;const S=[];let O=!0;for(let D=C.length-1;D>=0;D--){const x=C[D]|0;O&&x==b||(S[D]=x,O=!1)}this.g=S}var p={};function v(C){return-128<=C&&C<128?h(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return $(_(-C));const b=[];let S=1;for(let O=0;C>=S;O++)b[O]=C/S|0,S*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=_(Math.pow(b,8));let O=w;for(let x=0;x<C.length;x+=8){var D=Math.min(8,C.length-x);const R=parseInt(C.substring(x,x+D),b);D<8?(D=_(Math.pow(b,D)),O=O.j(D).add(_(R))):(O=O.j(S),O=O.add(_(R)))}return O}var w=v(0),M=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-$(this).m();let C=0,b=1;for(let S=0;S<this.g.length;S++){const O=this.i(S);C+=(O>=0?O:4294967296+O)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+$(this).toString(C);const b=_(Math.pow(C,6));var S=this;let O="";for(;;){const D=It(S,b).g;S=ct(S,D.j(b));let x=((S.g.length>0?S.g[0]:S.h)>>>0).toString(C);if(S=D,Z(S))return x+O;for(;x.length<6;)x="0"+x;O=x+O}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}s.l=function(C){return C=ct(this,C),et(C)?-1:Z(C)?0:1};function $(C){const b=C.g.length,S=[];for(let O=0;O<b;O++)S[O]=~C.g[O];return new d(S,~C.h).add(M)}s.abs=function(){return et(this)?$(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),S=[];let O=0;for(let D=0;D<=b;D++){let x=O+(this.i(D)&65535)+(C.i(D)&65535),R=(x>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);O=R>>>16,x&=65535,R&=65535,S[D]=R<<16|x}return new d(S,S[S.length-1]&-2147483648?-1:0)};function ct(C,b){return C.add($(b))}s.j=function(C){if(Z(this)||Z(C))return w;if(et(this))return et(C)?$(this).j($(C)):$($(this).j(C));if(et(C))return $(this.j($(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,S=[];for(var O=0;O<2*b;O++)S[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<C.g.length;D++){const x=this.i(O)>>>16,R=this.i(O)&65535,Pt=C.i(D)>>>16,Wt=C.i(D)&65535;S[2*O+2*D]+=R*Wt,Et(S,2*O+2*D),S[2*O+2*D+1]+=x*Wt,Et(S,2*O+2*D+1),S[2*O+2*D+1]+=R*Pt,Et(S,2*O+2*D+1),S[2*O+2*D+2]+=x*Pt,Et(S,2*O+2*D+2)}for(C=0;C<b;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=b;C<2*b;C++)S[C]=0;return new d(S,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function mt(C,b){this.g=C,this.h=b}function It(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new mt(w,w);if(et(C))return b=It($(C),b),new mt($(b.g),$(b.h));if(et(b))return b=It(C,$(b)),new mt($(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var S=M,O=b;O.l(C)<=0;)S=re(S),O=re(O);var D=xt(S,1),x=xt(O,1);for(O=xt(O,2),S=xt(S,2);!Z(O);){var R=x.add(O);R.l(C)<=0&&(D=D.add(S),x=R),O=xt(O,1),S=xt(S,1)}return b=ct(C,D.j(b)),new mt(D,b)}for(D=w;C.l(b)>=0;){for(S=Math.max(1,Math.floor(C.m()/b.m())),O=Math.ceil(Math.log(S)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),x=_(S),R=x.j(b);et(R)||R.l(C)>0;)S-=O,x=_(S),R=x.j(b);Z(x)&&(x=M),D=D.add(x),C=ct(C,R)}return new mt(D,C)}s.B=function(C){return It(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),S=[];for(let O=0;O<b;O++)S[O]=this.i(O)&C.i(O);return new d(S,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),S=[];for(let O=0;O<b;O++)S[O]=this.i(O)|C.i(O);return new d(S,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),S=[];for(let O=0;O<b;O++)S[O]=this.i(O)^C.i(O);return new d(S,this.h^C.h)};function re(C){const b=C.g.length+1,S=[];for(let O=0;O<b;O++)S[O]=C.i(O)<<1|C.i(O-1)>>>31;return new d(S,C.h)}function xt(C,b){const S=b>>5;b%=32;const O=C.g.length-S,D=[];for(let x=0;x<O;x++)D[x]=b>0?C.i(x+S)>>>b|C.i(x+S+1)<<32-b:C.i(x+S);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Fr=d}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lT,pl,uT,Vc,$d,cT,hT,fT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,J)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const B=U.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=U[J]}else u.push(U)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,y){const T=mt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new It,u=>u.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let re,xt=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(S)}};function S(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){$(y)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Pt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Pt,D),Pt.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++j,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ft(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,y,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=St(u,m,T,U);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,U),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ot(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,y,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],y,T,U);return null}return y=uo(y),u&&u[Wt]?u.J(m,y,p(T)?!!T.capture:!1,U):Wr(u,m,y,!1,T,U)}function Wr(u,m,y,T,U,B){if(!m)throw Error("Invalid event type");const J=p(U)?!!U.capture:!!U;let Tt=ts(u);if(Tt||(u[Lt]=Tt=new rt(u)),y=Tt.add(m,y,T,J,B),y.proxy)return y;if(T=Qs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)x||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Qs(){function u(y){return m.call(u.src,u.listener,y)}const m=oo;return u}function Ks(u,m,y,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ks(u,m[B],y,T,U);else T=p(T)?!!T.capture:!!T,y=uo(y),u&&u[Wt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=St(m,y,T,U),y>-1&&(ot(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ts(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,T,U)),(y=u>-1?m[u]:null)&&Ys(y))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Wt])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(ti(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ts(m))?(gt(y,u),y.h==0&&(y.src=null,m[Lt]=null)):ot(u)}}}function ti(u){return u in De?De[u]:De[u]="on"+u}function oo(u,m){if(u.da)u=!0;else{m=new Pt(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ys(u),u=y.call(T,m)}return u}function ts(u){return u=u[Lt],u instanceof rt?u:null}var lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function uo(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function ye(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}w(ye,O),ye.prototype[Wt]=!0,ye.prototype.removeEventListener=function(u,m,y,T){Ks(this,u,m,y,T)};function Ne(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),tt(m,U)}U=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],U=ir(B,T,!0,m)&&U;if(B=m.g=u,U=ir(B,T,!0,m)&&U,U=ir(B,T,!1,m)&&U,y)for(J=0;J<y.length;J++)B=m.g=y[J],U=ir(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ot(y[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ye.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function ir(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Tt=J.listener,fe=J.ha||J.src;J.fa&&gt(u.i,J),U=Tt.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ql(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(u){O.call(this),this.h=u,this.g={}}w(es,O);var co=[];function ho(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ys(m)},u),u.g={}}es.prototype.N=function(){es.Z.N.call(this),ho(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=d.JSON.stringify,Ih=d.JSON.parse,Kl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yl(){}function Xl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}w(ke,D);function En(){D.call(this,"c")}w(En,D);var he={},Jl=null;function Xs(){return Jl=Jl||new ye}he.Ia="serverreachability";function Zl(u){D.call(this,he.Ia,u)}w(Zl,D);function ei(u){const m=Xs();Ne(m,new Zl(m))}he.STAT_EVENT="statevent";function ns(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}w(ns,D);function _e(u){const m=Xs();Ne(m,new ns(m,u))}he.Ja="timingevent";function ni(u,m){D.call(this,he.Ja,u),this.size=m}w(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Ch(u,m,y,T,U,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let qt=0;qt<Tt.length;qt++){var fe=Tt[qt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const bn=ae.split("_");J=bn.length>=2&&bn[1]=="type"?J+(ae+"="+fe+"&"):J+(ae+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+J})}function $l(u,m,y,T,U,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+B+" "+J})}function ri(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,y)+(T?" "+T:"")})}function is(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return rr(B)}catch{return m}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function ss(){}w(ss,Yl),ss.prototype.g=function(){return new XMLHttpRequest},mo=new ss;function Ni(u){return encodeURIComponent(String(u))}function Wl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function kn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function si(u,m,y){u.M=1,u.A=as(Te(m)),u.u=y,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ai(u),u.B=Te(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ta(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Pn,u.g=mu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(co[0]=U.toString()),U=co);for(let B=0;B<U.length;B++){const J=se(y,U[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var y=Nh(this);if(this.o=m==200,$l(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_e(12),hn(this),Tn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<y.length;)if(ae=eu(this,y),ae==Me){Tt==4&&(this.m=4,_e(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ri(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,ae,null),li(this,ae);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,y,"[Invalid Chunked Response]"),hn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Do(J),J.P=!0,_e(11))}}else ri(this.i,this.l,y,null),li(this,y);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?cu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Tn(this)}}}catch{}};function Nh(u){if(!tu(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Me:(y=Number(m.substring(y,T)),isNaN(y)?ve:(T+=1,T+y>m.length?Me:(m=m.slice(T,T+y),u.C=T+y,m)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ai(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(is(this.i,this.B),this.M!=2&&(ei(),_e(17)),hn(this),this.m=2,Tn(this)):Zs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||cu(u.j,u)}function hn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ci(y.h,u))){if(!u.L&&ci(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)sa(y),fr(y);else break t;ds(y),_e(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ii(_(y.Va,y),6e3));ui(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((u.L||y.g==u)&&sa(y),!R(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const ae=qt[0];if(!(ae<=y.K))if(y.K=ae,qt=qt[1],y.I==2)if(qt[0]=="c"){y.M=qt[1],y.ba=qt[2];const bn=qt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const yi=qt[4];yi!=null&&(y.za=yi,y.j.info("SVER="+y.za));const jn=qt[5];jn!=null&&typeof jn=="number"&&jn>0&&(T=1.5*jn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Hn=u.g;if(Hn){const ms=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var B=T.h;B.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(yo(B,B.h),B.h=null))}if(T.G){const aa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(T.wa=aa,Gt(T.J,T.G,aa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=du(T,T.L?T.ba:null,T.W),J.L){_o(T.h,J);var Tt=J,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(oi(Tt),ai(Tt)),T.g=J}else lu(T);y.i.length>0&&gi(y)}else qt[0]!="stop"&&qt[0]!="close"||pi(y,7);else y.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?pi(y,7):Io(y):qt[0]!="noop"&&y.l&&y.l.qa(qt),y.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function po(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let U,B=null;T>=0?(U=u[y].substring(0,T),B=u[y].substring(T+1)):U=u[y],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,Eo(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),sr(this,m[4]),this.h=hi(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(os(m,Ws,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(os(m,Ws,!0),"@"),u.push(Ni(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(os(y,y.charAt(0)=="/"?To:iu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",os(y,ru)),u.join("")},fn.prototype.resolve=function(u){const m=Te(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)sr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let J=0;J<U.length;){const Tt=U[J++];Tt=="."?T&&J==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==U.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=U}return y?m.h=T:y=u.i.toString()!=="",y?Eo(m,au(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Te(u){return new fn(u)}function xe(u,m,y){u.j=y?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,y){m instanceof or?(u.i=m,ea(u.i,u.l)):(y||(m=os(m,ar)),u.i=new or(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function as(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function os(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,iu=/[#\?:]/g,To=/[#\?]/g,ar=/[#\?@]/g,ru=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&$s(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=or.prototype,s.add=function(u,m){rn(this),this.i=null,u=lr(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function su(u,m){rn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return rn(u),m=lr(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)};function So(u,m){rn(u);let y=[];if(typeof m=="string")Ao(u,m)&&(y=y.concat(u.g.get(lr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return rn(this),this.i=null,u=lr(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=So(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,y){su(u,m),y.length>0&&(u.i=null,u.g.set(lr(u,m),G(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const U=Ni(y);y=So(this,y);for(let B=0;B<y.length;B++){let J=U;y[B]!==""&&(J+="="+Ni(y[B])),u.push(J)}}return this.i=u.join("&")};function au(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(y,T){const U=T.toLowerCase();T!=U&&(su(this,T),ta(this,U,y))},u)),u.j=m}function zn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function bo(u,m){const y=new Un,T=new AbortController,U=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function ur(){this.g=new Kl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(fi,Yl),fi.prototype.g=function(){return new ls(this.i,this.h)};function ls(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ls,ye),s=ls.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):Bn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cr(this))},s.Na=function(u){this.g&&(this.response=u,cr(this))},s.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function us(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Sn(y),typeof u=="string"?y!=null&&Ni(y):Gt(u,m,y))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Yt,ye);var di=/^https?$/i,wo=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){cs(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wo,m,void 0)>=0)||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){cs(this,B)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ro(u),Oi(u)}function Ro(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?hs(this):this.Xa())},s.Xa=function(){hs(this)};function hs(u){if(u.h&&typeof h<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),qn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(nu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!di.test(J?J.toLowerCase():"")}y=T}if(y)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ro(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ne(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Wl(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[U]||[];m[U]=B,B.push(y)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function hr(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){_e(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),gi(this)};function Io(u){if(ia(u),u.I==3){var m=u.V++,y=Te(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),fs(u,y),m=new kn(u,u.j,m),m.M=2,m.A=as(Te(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}fu(u)}function fr(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function ia(u){fr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!po(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||b(),xt||(re(),xt=!0),C.add(m,u),u.D=0}}function ra(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ou(this,U,m),y=Te(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),fs(this,y),B&&(this.R?m="headers="+Ni(Sn(B))+"&"+m:this.u&&us(y,this.u,B)),yo(this.h,U),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),U.U=!0,si(U,y,null)):si(U,y,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||po(this.h)||Co(this))};function Co(u,m){var y;m?y=m.l:y=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),fs(u,T),u.u&&u.o&&us(T,u.u,u.o),y=new kn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,y),si(y,T,m)}function fs(u,m){u.H&&kt(u.H,function(y,T){Gt(m,T,y)}),u.l&&kt({},function(y,T){Gt(m,T,y)})}function ou(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const fe=["count="+y];Tt==-1?y>0?(Tt=U[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let qt=!0;for(let ae=0;ae<y;ae++){var B=U[ae].g;const bn=U[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,U[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[yi,jn]of J){let Hn=jn;p(jn)&&(Hn=rr(jn)),fe.push(B+yi+"="+encodeURIComponent(Hn))}}catch(yi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(bn)}}if(qt){J=fe.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||b(),xt||(re(),xt=!0),C.add(m,u),u.A=0}}function ds(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),hu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),fr(this),uu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),fs(u,m),u.u&&u.o&&us(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=as(Te(m)),y.u=null,y.R=!0,Js(y,u)}s.Va=function(){this.C!=null&&(this.C=null,fr(this),ds(this),_e(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var y=null;if(u.g==m){sa(u),Do(u),u.g=null;var T=2}else if(ci(u.h,m))y=m.G,_o(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Xs(),Ne(T,new ni(T,y)),gi(u)}else lu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&ds(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function hu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const U=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),as(T),U?zn(T.toString(),y):bo(T.toString(),y)}else _e(2);u.I=0,u.l&&u.l.pa(m),fu(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function du(u,m,y){var T=y instanceof fn?Te(y):new fn(y);if(T.g!="")m&&(T.g=m+"."+T.g),sr(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new fn(null);T&&xe(B,T),m&&(B.g=m),U&&sr(B,U),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),fs(u,T),T}function mu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new fi({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}s=gu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function dr(){}dr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}w(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Io(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=rr(u),u=y);m.i.push(new Ee(m.Ya++,u)),m.I==3&&gi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,We.Z.N.call(this)};function pu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(pu,ke);function yu(){En.call(this),this.status=1}w(yu,En);function Mi(u){this.g=u}w(Mi,gu),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new pu(u))},Mi.prototype.pa=function(u){Ne(this.g,new yu)},Mi.prototype.oa=function(){Ne(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,fT=function(){return new dr},hT=function(){return Xs()},cT=he,$d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Vc=rs,fo.COMPLETE="complete",uT=fo,Xl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,pl=Xl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,lT=Yt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let io="12.8.0";function yR(s){io=s}const Ps=new pm("@firebase/firestore");function Ua(){return Ps.logLevel}function it(s,...t){if(Ps.logLevel<=Nt.DEBUG){const i=t.map(Nm);Ps.debug(`Firestore (${io}): ${s}`,...i)}}function tr(s,...t){if(Ps.logLevel<=Nt.ERROR){const i=t.map(Nm);Ps.error(`Firestore (${io}): ${s}`,...i)}}function Ya(s,...t){if(Ps.logLevel<=Nt.WARN){const i=t.map(Nm);Ps.warn(`Firestore (${io}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ft(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dT(s,a,i)}function dT(s,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function Ht(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||dT(t,l,a)}function vt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends nr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _R{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class vR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ER{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new mT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class TR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new TR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bR(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function Wd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return Pd(l)===Pd(h)?Ot(l,h):Pd(l)?1:-1}return Ot(s.length,t.length)}const wR=55296,RR=57343;function Pd(s){const t=s.charCodeAt(0);return t>=wR&&t<=RR}function Xa(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const yv="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ft(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=Ai.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),l=Ai.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class te extends Ai{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends Ai{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Fe([yv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(te.fromString(t))}static fromName(t){return new ut(te.fromString(t).popFirst(5))}static empty(){return new ut(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new te(t.slice()))}}function gT(s,t,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function CR(s,t,i,a){if(t===!0&&a===!0)throw new nt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function _v(s){if(!ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function vv(s){if(ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function bi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(s);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function DR(s,t){if(t<=0)throw new nt(Y.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function Bl(s,t){if(!pT(s))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Tv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ie(0,0))}static max(){return new yt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;function NR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Kr(l,ut.empty(),t)}function OR(s){return new Kr(s.readTime,s.key,Cl)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(yt.min(),ut.empty(),Cl)}static max(){return new Kr(yt.max(),ut.empty(),Cl)}}function VR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==MR)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((A=>{d[_]=A,++p,p===h&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function LR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(s){return s.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Vm=-1;function fh(s){return s==null}function Yc(s){return s===0&&1/s==-1/0}function UR(s){return typeof s=="number"&&Number.isInteger(s)&&!Yc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const yT="";function kR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Av(t)),t=PR(s.get(i),t);return Av(t)}function PR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case yT:i+="";break;default:i+=h}}return i}function Av(s){return s+yT+""}function Sv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function qs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function _T(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new He(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(t){return new bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new Xn([])}unionWith(t){let i=new Ve(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vT("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=zR.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}const ET="server_timestamp",TT="__type__",AT="__previous_value__",ST="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[TT]?.stringValue===ET}function dh(s){const t=s.mapValue.fields[AT];return Mm(t)?dh(t):t}function Dl(s){const t=Yr(s.mapValue.fields[ST].timestampValue);return new ie(t.seconds,t.nanos)}class BR{constructor(t,i,a,l,h,d,p,v,_,A,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=w}}const Xc="(default)";class Nl{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}function qR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(s.options.projectId,t)}const bT="__type__",jR="__max__",bc={mapValue:{}},wT="__vector__",Jc="value";function Jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:FR(s)?9007199254740991:HR(s)?10:11:ft(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=Jr(s);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dl(s).isEqual(Dl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Yr(l.timestampValue),p=Yr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Xr(l.bytesValue).isEqual(Xr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return ge(l.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return ge(l.integerValue)===ge(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ge(l.doubleValue),p=ge(h.doubleValue);return d===p?Yc(d)===Yc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Xa(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(Sv(d)!==Sv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Di(d[v],p[v])))return!1;return!0})(s,t);default:return ft(52216,{left:s})}}function Ol(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const i=Jr(s),a=Jr(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return wv(s.timestampValue,t.timestampValue);case 4:return wv(Dl(s),Dl(t));case 5:return Wd(s.stringValue,t.stringValue);case 6:return(function(h,d){const p=Xr(h),v=Xr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Ot(p[_],v[_]);if(A!==0)return A}return Ot(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Ot(ge(h.latitude),ge(d.latitude));return p!==0?p:Ot(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Rv(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Jc]?.arrayValue,A=v[Jc]?.arrayValue,w=Ot(_?.values?.length||0,A?.values?.length||0);return w!==0?w:Rv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===bc.mapValue&&d===bc.mapValue)return 0;if(h===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const M=Wd(v[w],A[w]);if(M!==0)return M;const G=Ja(p[v[w]],_[A[w]]);if(G!==0)return G}return Ot(v.length,A.length)})(s.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function wv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=Yr(s),a=Yr(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function Rv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ja(i[l],a[l]);if(h)return h}return Ot(i.length,a.length)}function Za(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=tm(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${tm(i.fields[d])}`;return l+"}"})(s.mapValue):ft(61005,{value:s})}function Mc(s){switch(Jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(s);return t?16+Mc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Mc(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return qs(a.fields,((h,d)=>{l+=h.length+Mc(d)})),l})(s.mapValue);default:throw ft(13486,{value:s})}}function Iv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function em(s){return!!s&&"integerValue"in s}function xm(s){return!!s&&"arrayValue"in s}function Cv(s){return!!s&&"nullValue"in s}function Dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function xc(s){return!!s&&"mapValue"in s}function HR(s){return(s?.mapValue?.fields||{})[bT]?.stringValue===wT}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return qs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(s.arrayValue.values[i]);return t}return{...s}}function FR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Fe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){qs(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Mn(Al(this.value))}}function RT(s){const t=[];return qs(s.fields,((i,a)=>{const l=new Fe([i]);if(xc(a)){const h=RT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Xn(t)}class Xe{constructor(t,i,a,l,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}class $c{constructor(t,i="asc"){this.field=t,this.dir=i}}function GR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class IT{}class Ie extends IT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new KR(t,i,a):i==="array-contains"?new JR(t,a):i==="in"?new ZR(t,a):i==="not-in"?new $R(t,a):i==="array-contains-any"?new WR(t,a):new Ie(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new YR(t,a):new XR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends IT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return CT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(s){return s.op==="and"}function DT(s){return QR(s)&&CT(s)}function QR(s){for(const t of s.filters)if(t instanceof Wn)return!1;return!0}function nm(s){if(s instanceof Ie)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(DT(s))return s.filters.map((t=>nm(t))).join(",");{const t=s.filters.map((i=>nm(i))).join(",");return`${s.op}(${t})`}}function NT(s,t){return s instanceof Ie?(function(a,l){return l instanceof Ie&&a.op===l.op&&a.field.isEqual(l.field)&&Di(a.value,l.value)})(s,t):s instanceof Wn?(function(a,l){return l instanceof Wn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,p)=>h&&NT(d,l.filters[p])),!0):!1})(s,t):void ft(19439)}function OT(s){return s instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(OT).join(" ,")+"}"})(s):"Filter"}class KR extends Ie{constructor(t,i,a){super(t,i,a),this.key=ut.fromName(a.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class YR extends Ie{constructor(t,i){super(t,"in",i),this.keys=VT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class XR extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=VT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function VT(s,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class JR extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return xm(i)&&Ol(i.arrayValue,this.value)}}class ZR extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class $R extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class WR extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!xm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ol(this.value.arrayValue,a)))}}class tI{constructor(t,i=null,a=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Vv(s,t=null,i=[],a=[],l=null,h=null,d=null){return new tI(s,t,i,a,l,h,d)}function Lm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Um(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!GR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!NT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ov(s.startAt,t.startAt)&&Ov(s.endAt,t.endAt)}function im(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ql{constructor(t,i=null,a=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function eI(s,t,i,a,l,h,d,p){return new ql(s,t,i,a,l,h,d,p)}function mh(s){return new ql(s)}function Mv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function nI(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function MT(s){return s.collectionGroup!==null}function Sl(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new $c(h,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new $c(Fe.keyField(),a))}return t.Ie}function wi(s){const t=vt(s);return t.Ee||(t.Ee=iI(t,Sl(s))),t.Ee}function iI(s,t){if(s.limitType==="F")return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new $c(l.field,h)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return Vv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function rm(s,t){const i=s.filters.concat([t]);return new ql(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Wc(s,t,i){return new ql(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function gh(s,t){return Um(wi(s),wi(t))&&s.limitType===t.limitType}function xT(s){return`${Lm(wi(s))}|lt:${s.limitType}`}function ka(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>OT(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(wi(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of Sl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=Nv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,v){const _=Nv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Sl(a),l))})(s,t)}function rI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LT(s){return(t,i)=>{let a=!1;for(const l of Sl(s)){const h=sI(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function sI(s,t,i){const a=s.field.isKeyField()?ut.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ja(v,_):ft(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:s.dir})}}class js{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}const aI=new le(ut.comparator);function er(){return aI}const UT=new le(ut.comparator);function yl(...s){let t=UT;for(const i of s)t=t.insert(i.key,i);return t}function kT(s){let t=UT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Vs(){return bl()}function PT(){return bl()}function bl(){return new js((s=>s.toString()),((s,t)=>s.isEqual(t)))}const oI=new le(ut.comparator),lI=new Ve(ut.comparator);function Vt(...s){let t=lI;for(const i of s)t=t.add(i);return t}const uI=new Ve(Ot);function cI(){return uI}function km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function zT(s){return{integerValue:""+s}}function hI(s,t){return UR(t)?zT(t):km(s,t)}class yh{constructor(){this._=void 0}}function fI(s,t,i){return s instanceof Vl?(function(l,h){const d={fields:{[TT]:{stringValue:ET},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Mm(h)&&(h=dh(h)),h&&(d.fields[AT]=h),{mapValue:d}})(i,t):s instanceof Ml?qT(s,t):s instanceof xl?jT(s,t):(function(l,h){const d=BT(l,h),p=xv(d)+xv(l.Ae);return em(d)&&em(l.Ae)?zT(p):km(l.serializer,p)})(s,t)}function dI(s,t,i){return s instanceof Ml?qT(s,t):s instanceof xl?jT(s,t):i}function BT(s,t){return s instanceof th?(function(a){return em(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Vl extends yh{}class Ml extends yh{constructor(t){super(),this.elements=t}}function qT(s,t){const i=HT(t);for(const a of s.elements)i.some((l=>Di(l,a)))||i.push(a);return{arrayValue:{values:i}}}class xl extends yh{constructor(t){super(),this.elements=t}}function jT(s,t){let i=HT(t);for(const a of s.elements)i=i.filter((l=>!Di(l,a)));return{arrayValue:{values:i}}}class th extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function xv(s){return ge(s.integerValue||s.doubleValue)}function HT(s){return xm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class mI{constructor(t,i){this.field=t,this.transform=i}}function gI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Ml&&l instanceof Ml||a instanceof xl&&l instanceof xl?Xa(a.elements,l.elements,Di):a instanceof th&&l instanceof th?Di(a.Ae,l.Ae):a instanceof Vl&&l instanceof Vl})(s.transform,t.transform)}class pI{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class _h{}function FT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Pm(s.key,Zn.none()):new jl(s.key,s.data,Zn.none());{const i=s.data,a=Mn.empty();let l=new Ve(Fe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new Hs(s.key,a,new Xn(l.toArray()),Zn.none())}}function yI(s,t,i){s instanceof jl?(function(l,h,d){const p=l.value.clone(),v=Uv(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof Hs?(function(l,h,d){if(!Lc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Uv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(GT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(s,t,i,a){return s instanceof jl?(function(h,d,p,v){if(!Lc(h.precondition,d))return p;const _=h.value.clone(),A=kv(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof Hs?(function(h,d,p,v){if(!Lc(h.precondition,d))return p;const _=kv(h.fieldTransforms,v,d),A=d.data;return A.setAll(GT(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(h,d,p){return Lc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function _I(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=BT(a.transform,l||null);h!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,h))}return i||null}function Lv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Xa(a,l,((h,d)=>gI(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class jl extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hs extends _h{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function GT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Uv(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,p=t.data.field(h.field);a.set(h.field,dI(d,p,i[l]))}return a}function kv(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,fI(h,d,t))}return a}class Pm extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&yI(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=PT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=FT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&Xa(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return oI})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new zm(t,i,a,l)}}class TI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AI{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Ut;function SI(s){switch(s){case Y.OK:return ft(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function QT(s){if(s===void 0)return tr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Re.OK:return Y.OK;case Re.CANCELLED:return Y.CANCELLED;case Re.UNKNOWN:return Y.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Y.INTERNAL;case Re.UNAVAILABLE:return Y.UNAVAILABLE;case Re.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Re.NOT_FOUND:return Y.NOT_FOUND;case Re.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Re.ABORTED:return Y.ABORTED;case Re.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Re.DATA_LOSS:return Y.DATA_LOSS;default:return ft(39323,{code:s})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function bI(){return new TextEncoder}const wI=new Fr([4294967295,4294967295],0);function Pv(s){const t=bI().encode(s),i=new oT;return i.update(t),new Uint8Array(i.digest())}function zv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Fr([i,a],0),new Fr([l,h],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Fr.fromNumber(a)));return l.compare(wI)===1&&(l=new Fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Pv(t),[a,l]=zv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Bm(h,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Pv(t),[a,l]=zv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new vh(yt.min(),l,new le(Ot),er(),Vt())}}class Hl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Vt(),Vt(),Vt())}}class Uc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class KT{constructor(t,i){this.targetId=t,this.Ce=i}}class YT{constructor(t,i,a=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ft(38017,{changeType:h})}})),new Hl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=qv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class RI{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.He=wc(),this.Je=wc(),this.Ze=new le(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(im(h))if(a===0){const d=new ut(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(v){if(v instanceof vT)return Ya("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Bm(d,l,h)}catch(v){return Ya(v instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&im(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let a=Vt();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new vh(t,i,this.Ze,this.je,a);return this.je=er(),this.He=wc(),this.Je=wc(),this.Ze=new le(Ot),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new le(ut.comparator)}function qv(){return new le(ut.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class NI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(s,t){return s.useProto3Json||fh(t)?t:{value:t}}function eh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function OI(s,t){return eh(s,t.toTimestamp())}function Ri(s){return Ht(!!s,49232),yt.fromTimestamp((function(i){const a=Yr(i);return new ie(a.seconds,a.nanos)})(s))}function qm(s,t){return am(s,t).canonicalString()}function am(s,t){const i=(function(l){return new te(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function JT(s){const t=te.fromString(s);return Ht(e0(t),10190,{key:t.toString()}),t}function om(s,t){return qm(s.databaseId,t.path)}function zd(s,t){const i=JT(t);if(i.get(1)!==s.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut($T(i))}function ZT(s,t){return qm(s.databaseId,t)}function VI(s){const t=JT(s);return t.length===4?te.emptyPath():$T(t)}function lm(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $T(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function jv(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function MI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:QT(_.code);return new nt(A,_.message||"")})(d);i=new YT(a,l,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=zd(s,a.document.name),h=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):yt.min(),p=new Mn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,h,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Uc(_,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=zd(s,a.document),h=a.readTime?Ri(a.readTime):yt.min(),d=Xe.newNoDocument(l,h),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=zd(s,a.document),h=a.removedTargetIds||[];i=new Uc([],h,l,null)}else{if(!("filter"in t))return ft(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new AI(l,h),p=a.targetId;i=new KT(p,d)}}return i}function xI(s,t){let i;if(t instanceof jl)i={update:jv(s,t.key,t.value)};else if(t instanceof Pm)i={delete:om(s,t.key)};else if(t instanceof Hs)i={update:jv(s,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof vI))return ft(16599,{dt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:OI(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(s,t.precondition)),i}function LI(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?Ri(l.updateTime):Ri(h);return d.isEqual(yt.min())&&(d=Ri(h)),new pI(d,l.transformResults||[])})(i,t)))):[]}function UI(s,t){return{documents:[ZT(s,t.path)]}}function kI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZT(s,l);const h=(function(_){if(_.length!==0)return t0(Wn.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Pa(M.field),direction:BI(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function PI(s){let t=VI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(w){const M=WT(w);return M instanceof Wn&&DT(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(Z){return new $c(za(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,fh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,G=w.values||[];return new Zc(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new Zc(G,M)})(i.endAt)),eI(t,l,d,h,p,"F",v,_)}function zI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=za(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=za(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=za(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ie.create(za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>WT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function BI(s){return II[s]}function qI(s){return CI[s]}function jI(s){return DI[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function za(s){return Fe.fromServerFormat(s.fieldPath)}function t0(s){return s instanceof Ie?(function(i){if(i.op==="=="){if(Dv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:qI(i.op),value:i.value}}})(s):s instanceof Wn?(function(i){const a=i.getFilters().map((l=>t0(l)));return a.length===1?a[0]:{compositeFilter:{op:jI(i.op),filters:a}}})(s):ft(54877,{filter:s})}function HI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function e0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function n0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Br{constructor(t,i,a,l,h=yt.min(),d=yt.min(),p=Ge.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FI{constructor(t){this.yt=t}}function GI(s){const t=PI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wc(t,t.limit,"L"):t}class QI{constructor(){this.Sn=new KI}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Kr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class KI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(te.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(te.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(i0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}const Fv="LruGarbageCollector",YI=1048576;function Gv([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class XI{constructor(t){this.Pr=t,this.buffer=new Ve(Gv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?it(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Ar(3e5)}))}}class ZI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(hh.ce);const a=new XI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Ua()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:w}))))}}function $I(s,t){return new ZI(s,t)}class WI{constructor(){this.changes=new js((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class eC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&wl(a.mutation,l,Xn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Vs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=yl();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let h=er();const d=bl(),p=(function(){return bl()})();return i.forEach(((v,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Hs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),wl(A.mutation,_,A.mutation.getFieldMask(),ie.now())):d.set(_.key,Xn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new tC(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new le(((d,p)=>d-p)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||Xn.empty();A=p.applyToLocalView(_,A),a.set(v,A);const w=(l.get(p.batchId)||Vt()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,w=PT();A.forEach((M=>{if(!h.has(M)){const G=FT(i.get(M),a.get(M));G!==null&&w.set(M,G),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return nI(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):MT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):X.resolve(Vs());let p=Cl,v=h;return d.next((_=>X.forEach(_,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Vt()))).next((A=>({batchId:p,changes:kT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,h).next((p=>X.forEach(p,(v=>{const _=(function(w,M){return new ql(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=yl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&wl(A.mutation,_,Xn.empty(),ie.now()),ph(i,_)&&(p=p.insert(v,_))})),p}))}}class nC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:GI(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}class iC{constructor(){this.overlays=new le(ut.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return X.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.bt(t,i,h)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Vs(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new le(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=Vs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Vs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new TI(i,a));let h=this.Lr.get(i);h===void 0&&(h=Vt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(a.key))}}class rC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.kr=new Ve(Ue.Kr),this.qr=new Ve(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ut(new te([])),a=new Ue(i,t),l=new Ue(i,t+1),h=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ut(new te([])),a=new Ue(i,t),l=new Ue(i,t+1);let h=Vt();return this.qr.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ut.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||ut.comparator(t.key,i.key)}}class sC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(Ue.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EI(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ue(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),h=l<0?0:l;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);h.push(p)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Ot);return i.forEach((l=>{const h=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ut(h),0);let p=new Ve(Ot);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const h=new Ue(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aC{constructor(t){this.ti=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=er();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||VR(OR(A),a)<=0||(l.has(A.key)||ph(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(t,i,a,l){ft(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oC(this)}getSize(t){return X.resolve(this.size)}}class oC extends WI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class lC{constructor(t){this.persistence=t,this.ri=new js((i=>Lm(i)),Um),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=$a._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(h).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class r0{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new rC,this.referenceDelegate=t(this),this.li=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=(function(l){return new aC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new FI(i),this.Pi=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new iC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new uC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((h=>this.referenceDelegate.Ii(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class uC extends xR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new Hm(t)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.di.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=ut.fromPath(a);return this.mi(t,l).next((h=>{h||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class nh{constructor(t,i){this.persistence=t,this.fi=new js((a=>kR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=$I(this,i)}static Vi(t,i){return new nh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((h=>h?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Fm(t,i.fromCache,a,l)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XS()?8:LR(Je())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.gs(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new cC;return this.ys(t,i,d).next((p=>{if(h.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>h.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ua()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ua()<=Nt.DEBUG&&it("QueryEngine","Query:",ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ua()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):X.resolve())}gs(t,i){if(Mv(i))return X.resolve(null);let a=wi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Wc(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Vt(...h);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,Wc(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return Mv(i)||l.isEqual(yt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,a,l)?X.resolve(null):(Ua()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ka(i)),this.Ds(t,d,i,NR(l,Cl)).next((p=>p)))}))}bs(t,i){let a=new Ve(LT(t));return i.forEach(((l,h)=>{ph(t,h)&&(a=a.add(h))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ys(t,i,a){return Ua()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ka(i)),this.fs.getDocumentsMatchingQuery(t,i,Kr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Gm="LocalStore",fC=3e8;class dC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Ot),this.Fs=new js((h=>Lm(h)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function mC(s,t,i,a){return new dC(s,t,i,a)}async function s0(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=Vt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function gC(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const w=_.batch,M=w.keys();let G=X.resolve();return M.forEach((Z=>{G=G.next((()=>A.getEntry(v,Z))).next((et=>{const $=_.docVersions.get(Z);Ht($!==null,48541),et.version.compareTo($)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function a0(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function pC(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,w)=>{const M=l.get(w);if(!M)return;p.push(i.li.removeMatchingKeys(h,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,w))));let G=M.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(et,$,ct){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=fC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(M,G,A)&&p.push(i.li.updateTargetData(h,G))}));let v=er(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(yC(h,d,t.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!a.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((w=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=l,h)))}function yC(s,t,i){let a=Vt(),l=Vt();return i.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let d=er();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):it(Gm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function _C(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function vC(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((h=>h?(l=h,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function um(s,t,i){const a=vt(s),l=a.vs.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;it(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Qv(s,t,i){const a=vt(s);let l=yt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const w=vt(v),M=w.Fs.get(A);return M!==void 0?X.resolve(w.vs.get(M)):w.li.getTargetData(_,A)})(a,d,wi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?h:Vt()))).next((p=>(EC(a,rI(t),p),{documents:p,ks:h})))))}function EC(s,t,i){let a=s.Ms.get(t)||yt.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Ms.set(t,a)}class Kv{constructor(){this.activeTargetIds=cI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.vo=new Kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Mo(t){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function cm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Bd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Xc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,h){const d=cm(),p=this.Qo(t,i.toUriEncodedString());it(Bd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,h);const{host:_}=new URL(p),A=to(_);return this.zo(t,p,v,a,A).then((w=>(it(Bd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Ya(Bd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,l,h,d){return this.Wo(t,i,a,l,h)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}Qo(t,i){const a=SC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class wC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ke="WebChannelConnection",ml=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ha extends bC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ha.c_){const t=hT();ml(t,cT.STAT_EVENT,(i=>{i.stat===$d.PROXY?it(Ke,"STAT_EVENT: detected buffering proxy"):i.stat===$d.NOPROXY&&it(Ke,"STAT_EVENT: detected no buffering proxy")})),Ha.c_=!0}}zo(t,i,a,l,h){const d=cm();return new Promise(((p,v)=>{const _=new lT;_.setWithCredentials(!0),_.listenOnce(uT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Vc.NO_ERROR:const w=_.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Vc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),v(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const M=_.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=(function(ct){const Et=ct.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Et)>=0?Et:Y.UNKNOWN})(Z.status);v(new nt(et,Z.message))}else v(new nt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=cm(),h=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=h.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${_}`,p);const A=d.createWebChannel(_,p);this.I_(A);let w=!1,M=!1;const G=new wC({Ho:Z=>{M?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),A.open(),w=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return ml(A,pl.EventType.OPEN,(()=>{M||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),ml(A,pl.EventType.CLOSE,(()=>{M||(M=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(A))})),ml(A,pl.EventType.ERROR,(Z=>{M||(M=!0,Ya(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),ml(A,pl.EventType.MESSAGE,(Z=>{if(!M){const et=Z.data[0];Ht(!!et,16349);const $=et,ct=$?.error||$[0]?.error;if(ct){it(Ke,`RPC '${t}' stream ${l} received error:`,ct);const Et=ct.status;let mt=(function(xt){const C=Re[xt];if(C!==void 0)return QT(C)})(Et),It=ct.message;mt===void 0&&(mt=Y.INTERNAL,It="Unknown error status: "+Et+" with message "+ct.message),M=!0,G.o_(new nt(mt,It)),A.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,et),G.__(et)}})),Ha.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fT()}}function RC(s){return new Ha(s)}function qd(){return typeof document<"u"?document:null}function Eh(s){return new NI(s,!0)}Ha.c_=!1;class o0{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class l0{constructor(t,i,a,l,h,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new nt(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends l0{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=MI(this.serializer,t),a=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ri(d.readTime):yt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=im(v)?{documents:UI(h,v)}:{query:kI(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XT(h,d.resumeToken);const _=sm(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=eh(h,d.snapshotVersion.toTimestamp());const _=sm(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=zI(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.K_(i)}}class CC extends l0{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LI(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>xI(this.serializer,a)))};this.K_(i)}}class DC{}class NC extends DC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(t,am(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(Y.UNKNOWN,h.toString())}))}jo(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,am(i,a),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OC(s,t,i,a){return new NC(s,t,i,a)}class VC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const zs="RemoteStore";class MC{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fs(this)&&(it(zs,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await Fl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Th(_)})(this))}))})),this.Va=new VC(a,l)}}async function Th(s){if(Fs(s))for(const t of s.Ra)await t(!0)}async function Fl(s){for(const t of s.Ra)await t(!1)}function u0(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):ao(i).O_()&&Km(i,t))}function Qm(s,t){const i=vt(s),a=ao(i);i.Ia.delete(t),a.O_()&&c0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fs(i)&&i.Va.set("Unknown"))}function Km(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(s).Z_(t)}function c0(s,t){s.da.$e(t),ao(s).X_(t)}function Ym(s){s.da=new RI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Va.ua()}function Xm(s){return Fs(s)&&!ao(s).x_()&&s.Ia.size>0}function Fs(s){return vt(s).Ea.size===0}function h0(s){s.da=void 0}async function xC(s){s.Va.set("Online")}async function LC(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function UC(s,t){h0(s),Xm(s)?(s.Va.ha(t),Ym(s)):s.Va.set("Unknown")}async function kC(s,t,i){if(s.Va.set("Online"),t instanceof YT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(a){it(zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ih(s,a)}else if(t instanceof Uc?s.da.Xe(t):t instanceof KT?s.da.st(t):s.da.tt(t),!i.isEqual(yt.min()))try{const a=await a0(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),c0(h,v);const w=new Br(A.target,v,_,A.sequenceNumber);Km(h,w)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(zs,"Failed to raise snapshot:",a),await ih(s,a)}}async function ih(s,t,i){if(!so(t))throw t;s.Ea.add(1),await Fl(s),s.Va.set("Offline"),i||(i=()=>a0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(zs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Th(s)}))}function f0(s,t){return t().catch((i=>ih(s,i,t)))}async function Ah(s){const t=vt(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;PC(t);)try{const l=await _C(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,zC(t,l)}catch(l){await ih(t,l)}d0(t)&&m0(t)}function PC(s){return Fs(s)&&s.Ta.length<10}function zC(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function d0(s){return Fs(s)&&!Zr(s).x_()&&s.Ta.length>0}function m0(s){Zr(s).start()}async function BC(s){Zr(s).ra()}async function qC(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function jC(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await f0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ah(s)}async function HC(s,t){t&&Zr(s).Y_&&await(async function(a,l){if((function(d){return SI(d)&&d!==Y.ABORTED})(l.code)){const h=a.Ta.shift();Zr(a).B_(),await f0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Ah(a)}})(s,t),d0(s)&&m0(s)}async function Zv(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(zs,"RemoteStore received new credentials");const a=Fs(i);i.Ea.add(3),await Fl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function FC(s,t){const i=vt(s);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Fl(i),i.Va.set("Unknown"))}function ao(s){return s.ma||(s.ma=(function(i,a,l){const h=vt(i);return h.sa(),new IC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:xC.bind(null,s),Yo:LC.bind(null,s),t_:UC.bind(null,s),J_:kC.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Va.set("Unknown")):(await s.ma.stop(),h0(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,l){const h=vt(i);return h.sa(),new CC(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BC.bind(null,s),t_:HC.bind(null,s),ta:qC.bind(null,s),na:jC.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(it(zs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Jm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,p=new Jm(t,i,d,l,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(s,t){if(tr("AsyncQueue",`${t}: ${s}`),so(s))return new nt(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new le(ut.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,h,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Fa.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class GC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class QC{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),h=l.queries;l.queries=Wv(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function Wv(){return new js((s=>xT(s)),gh)}async function g0(s,t){const i=vt(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.Sa()&&t.Da()&&(a=2):(h=new GC,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.ba.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&$m(i)}async function p0(s,t){const i=vt(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.ba.indexOf(t);d>=0&&(h.ba.splice(d,1),h.ba.length===0?l=t.Da()?0:1:!h.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function KC(s,t){const i=vt(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function YC(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const h of l.ba)h.onError(i);a.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var hm,tE;(tE=hm||(hm={})).Ma="default",tE.Cache="cache";class y0{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class _0{constructor(t){this.key=t}}class v0{constructor(t){this.key=t}}class XC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=LT(t),this.tu=new Fa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const M=l.get(A),G=ph(this.query,w)?w:null,Z=!!M&&this.mutatedKeys.has(M.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;M&&G?M.data.isEqual(G.data)?Z!==et&&(a.track({type:3,doc:G}),$=!0):this.su(M,G)||(a.track({type:2,doc:G}),$=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),$=!0):M&&!G&&(a.track({type:1,doc:M}),$=!0,(v||_)&&(p=!0)),$&&(G?(d=d.add(G),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(G,Z){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:$})}};return et(G)-et(Z)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Wa(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new v0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new _0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class $C{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new js((p=>xT(p)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ut.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WC(s,t,i=!0){const a=w0(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await E0(a,t,i,!0),l}async function t2(s,t){const i=w0(s);await E0(i,t,!0,!1)}async function E0(s,t,i,a){const l=await vC(s.localStore,wi(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await e2(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&u0(s.remoteStore,l),p}async function e2(s,t,i,a,l){s.pu=(w,M,G)=>(async function(et,$,ct,Et){let mt=$.view.ru(ct);mt.Ss&&(mt=await Qv(et.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,mt))));const It=Et&&Et.targetChanges.get($.targetId),re=Et&&Et.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(mt,et.isPrimaryClient,It,re);return nE(et,$.targetId,xt.au),xt.snapshot})(s,w,M,G);const h=await Qv(s.localStore,t,!0),d=new XC(t,h.ks),p=d.ru(h.documents),v=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);nE(s,i,_.au);const A=new JC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function n2(s,t,i){const a=vt(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await um(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),fm(a,l.targetId)})).catch(ro)):(fm(a,l.targetId),await um(a.localStore,l.targetId,!0))}async function i2(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function r2(s,t,i){const a=h2(s);try{const l=await(function(d,p){const v=vt(d),_=ie.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),Vt());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=er(),et=Vt();return v.xs.getEntries(G,A).next(($=>{Z=$,Z.forEach(((ct,Et)=>{Et.isValidDocument()||(et=et.add(ct))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next(($=>{w=$;const ct=[];for(const Et of p){const mt=_I(Et,w.get(Et.key).overlayedDocument);mt!=null&&ct.push(new Hs(Et.key,mt,RT(mt.value.mapValue),Zn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ct,p)})).next(($=>{M=$;const ct=$.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(G,$.batchId,ct)}))})).then((()=>({batchId:M.batchId,changes:kT(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new le(Ot)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Gl(a,l.changes),await Ah(a.remoteStore)}catch(l){const h=Zm(l,"Failed to persist write");i.reject(h)}}async function T0(s,t){const i=vt(s);try{const a=await pC(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await ro(a)}}function eE(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,w)=>{for(const M of w.ba)M.va(p)&&(_=!0)})),_&&$m(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function s2(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new le(ut.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Vt().add(h),v=new vh(yt.min(),new Map,new le(Ot),d,p);await T0(a,v),a.Ru=a.Ru.remove(h),a.Au.delete(t),tg(a)}else await um(a.localStore,t,!1).then((()=>fm(a,t,i))).catch(ro)}async function a2(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await gC(i.localStore,t);S0(i,a,null),A0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await ro(l)}}async function o2(s,t,i){const a=vt(s);try{const l=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>(Ht(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);S0(a,t,i),A0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await ro(l)}}function A0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function S0(s,t,i){const a=vt(s);let l=a.du[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function fm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||b0(s,a)}))}function b0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Qm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),tg(s))}function nE(s,t,i){for(const a of i)a instanceof _0?(s.Vu.addReference(a.key,t),l2(s,a)):a instanceof v0?(it(Wm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||b0(s,a.key)):ft(19791,{wu:a})}function l2(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(it(Wm,"New document in limbo: "+i),s.Eu.add(a),tg(s))}function tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ut(te.fromString(t)),a=s.fu.next();s.Au.set(a,new ZC(i)),s.Ru=s.Ru.insert(i,a),u0(s.remoteStore,new Br(wi(mh(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Gl(s,t,i){const a=vt(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Fm.Es(v.targetId,_);h.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Ts,(G=>A.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>X.forEach(M.Is,(G=>A.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!so(w))throw w;it(Gm,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=A.vs.get(M),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(M,et)}}})(a.localStore,h))}async function u2(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){it(Wm,"User change. New user:",t.toKey());const a=await s0(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new nt(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ns)}}function c2(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function w0(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=s2.bind(null,t),t.Pu.J_=KC.bind(null,t.eventManager),t.Pu.yu=YC.bind(null,t.eventManager),t}function h2(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o2.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Cu(t){return new r0(Hm.Vi,this.serializer)}Du(t){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class f2 extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof nh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new r0((a=>nh.Vi(a,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>eE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=u2.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QC})()}createDatastore(t){const i=Eh(t.databaseInfo.databaseId),a=RC(t.databaseInfo);return OC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,p){return new MC(a,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>eE(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new AC})())}createSyncEngine(t,i){return(function(l,h,d,p,v,_,A){const w=new $C(l,h,d,p,v,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);it(zs,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class R0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $r="FirestoreClient";class d2{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{it($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function jd(s,t){s.asyncQueue.verifyOperationInProgress(),it($r,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await s0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function iE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await m2(s);it($r,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Zv(t.remoteStore,l))),s._onlineComponents=t}async function m2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it($r,"Using user provided OfflineComponentProvider");try{await jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await jd(s,new rh)}}else it($r,"Using default OfflineComponentProvider"),await jd(s,new f2(void 0));return s._offlineComponents}async function I0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it($r,"Using user provided OnlineComponentProvider"),await iE(s,s._uninitializedComponentsProvider._online)):(it($r,"Using default OnlineComponentProvider"),await iE(s,new dm))),s._onlineComponents}function g2(s){return I0(s).then((t=>t.syncEngine))}async function mm(s){const t=await I0(s),i=t.eventManager;return i.onListen=WC.bind(null,t.syncEngine),i.onUnlisten=n2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=t2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=i2.bind(null,t.syncEngine),i}function p2(s,t,i,a){const l=new R0(a),h=new y0(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>g0(await mm(s),h))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>p0(await mm(s),h)))}}function y2(s,t,i={}){const a=new Gr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const A=new R0({next:M=>{A.Nu(),d.enqueueAndForget((()=>p0(h,w)));const G=M.docs.has(p);!G&&M.fromCache?_.reject(new nt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&v&&v.source==="server"?_.reject(new nt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new y0(mh(p.path),A,{includeMetadataChanges:!0,Ka:!0});return g0(h,w)})(await mm(s),s.asyncQueue,t,i,a))),a.promise}function _2(s,t){const i=new Gr;return s.asyncQueue.enqueueAndForget((async()=>r2(await g2(s),t,i))),i.promise}function C0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const v2="ComponentProvider",rE=new Map;function E2(s,t,i,a,l){return new BR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,C0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const D0="firestore.googleapis.com",sE=!0;class aE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D0,this.ssl=sE}else this.host=t.host,this.ssl=t.ssl??sE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _R;switch(a.type){case"firstParty":return new AR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rE.get(i);a&&(it(v2,"Removing Datastore"),rE.delete(i),a.terminate())})(this),Promise.resolve()}}function T2(s,t,i,a={}){s=bi(s,Sh);const l=to(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(bE(`https://${p}`),wE("Firestore",!0)),h.host!==D0&&h.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:a};if(!Ls(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=BS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(w)}s._authCredentials=new vR(new mT(_,A))}}class Gs{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,pe._jsonSchema))return new pe(t,a||null,new ut(te.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class Qr extends Gs{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new ut(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function oE(s,t,...i){if(s=Ze(s),gT("collection","path",t),s instanceof Sh){const a=te.fromString(t,...i);return vv(a),new Qr(s,null,a)}{if(!(s instanceof pe||s instanceof Qr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return vv(a),new Qr(s.firestore,null,a)}}function kc(s,t,...i){if(s=Ze(s),arguments.length===1&&(t=Om.newId()),gT("doc","path",t),s instanceof Sh){const a=te.fromString(t,...i);return _v(a),new pe(s,null,new ut(a))}{if(!(s instanceof pe||s instanceof Qr))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return _v(a),new pe(s.firestore,s instanceof Qr?s.converter:null,new ut(a))}}const lE="AsyncQueue";class uE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o0(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&it(lE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;it(lE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",cE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function cE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Bs extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new uE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new uE(t),this._firestoreClient=void 0,await t}}}function A2(s,t){const i=typeof s=="object"?s:DE(),a=typeof s=="string"?s:Xc,l=_m(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=PS("firestore");h&&T2(l,...h)}return l}function eg(s){if(s._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||S2(s),s._firestoreClient}function S2(s){const t=s._freezeSettings(),i=E2(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new d2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Ge.fromBase64String(t))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ce("string",xn._jsonSchemaVersion),bytes:Ce("string")};class N0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ng{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ce("string",Ii._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class $n{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,$n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new $n(t.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$n._jsonSchemaVersion="firestore/vectorValue/1.0",$n._jsonSchema={type:Ce("string",$n._jsonSchemaVersion),vectorValues:Ce("object")};const b2=/^__.*__$/;class w2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Hs(t,this.data,this.fieldMask,i,this.fieldTransforms):new jl(t,this.data,i,this.fieldTransforms)}}function O0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:s})}}class ig{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(O0(this.dataSource)&&b2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class R2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Eh(t)}createContext(t,i,a,l=!1){return new ig({dataSource:t,methodName:i,targetDoc:a,path:Fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(s){const t=s._freezeSettings(),i=Eh(s._databaseId);return new R2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function V0(s,t,i,a,l,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,t,i,l);L0("Data must be an object, but it was:",d,a);const p=M0(a,d);let v,_;if(h.merge)v=new Xn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const M=bh(t,w,i);if(!d.contains(M))throw new nt(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);N2(A,M)||A.push(M)}v=new Xn(A),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new w2(new Mn(p),v,_)}class sg extends ng{_toFieldTransform(t){return new mI(t.path,new Vl)}isEqual(t){return t instanceof sg}}function I2(s,t,i,a=!1){return ag(i,s.createContext(a?4:3,t))}function ag(s,t){if(x0(s=Ze(s)))return L0("Unsupported field value:",t,s),M0(s,t);if(s instanceof ng)return(function(a,l){if(!O0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const p of a){let v=ag(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=Ze(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ie.fromDate(a);return{timestampValue:eh(l.serializer,h)}}if(a instanceof ie){const h=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(l.serializer,h)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:XT(l.serializer,a._byteString)};if(a instanceof pe){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $n)return(function(d,p){const v=d instanceof $n?d.toArray():d;return{mapValue:{fields:{[bT]:{stringValue:wT},[Jc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,A)}))}}}}}})(a,l);if(n0(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${ch(a)}`)})(s,t)}function M0(s,t){const i={};return _T(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(s,((a,l)=>{const h=ag(l,t.childContextForField(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function x0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ii||s instanceof xn||s instanceof pe||s instanceof ng||s instanceof $n||n0(s))}function L0(s,t,i){if(!x0(i)||!pT(i)){const a=ch(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function bh(s,t,i){if((t=Ze(t))instanceof N0)return t._internalPath;if(typeof t=="string")return D2(s,t);throw sh("Field path arguments must be of type string or ",s,!1,void 0,i)}const C2=new RegExp("[~\\*/\\[\\]]");function D2(s,t,i){if(t.search(C2)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new N0(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sh(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new nt(Y.INVALID_ARGUMENT,p+s+v)}function N2(s,t){return s.some((i=>i.isEqual(t)))}class O2{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return qs(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new $n(i)}convertGeoPoint(t){return new Ii(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);Ht(e0(a),9688,{name:t});const l=new Nl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return l.isEqual(i)||tr(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class U0 extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function Ic(){return new sg("serverTimestamp")}const hE="@firebase/firestore",fE="4.10.0";function dE(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class k0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(bh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class V2 extends k0{data(){return super.data()}}function M2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class P0 extends og{}function x2(s,t,...i){let a=[];t instanceof og&&a.push(t),a=a.concat(i),(function(h){const d=h.filter((v=>v instanceof lg)).length,p=h.filter((v=>v instanceof wh)).length;if(d>1||d>0&&p>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class wh extends P0{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new wh(t,i,a)}_apply(t){const i=this._parse(t);return z0(t._query,i),new Gs(t.firestore,t.converter,rm(t._query,i))}_parse(t){const i=rg(t.firestore);return(function(h,d,p,v,_,A,w){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){gE(w,A);const Z=[];for(const et of w)Z.push(mE(v,h,et));M={arrayValue:{values:Z}}}else M=mE(v,h,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||gE(w,A),M=I2(p,d,w,A==="in"||A==="not-in");return Ie.create(_,A,M)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function L2(s,t,i){const a=t,l=bh("where",s);return wh._create(l,a,i)}class lg extends og{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new lg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const p=h.getFlattenedFilters();for(const v of p)z0(d,v),d=rm(d,v)})(t._query,i),new Gs(t.firestore,t.converter,rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends P0{constructor(t,i,a){super(),this.type=t,this._limit=i,this._limitType=a}static _create(t,i,a){return new ug(t,i,a)}_apply(t){return new Gs(t.firestore,t.converter,Wc(t._query,this._limit,this._limitType))}}function U2(s){return DR("limit",s),ug._create("limit",s,"F")}function mE(s,t,i){if(typeof(i=Ze(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(t)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!ut.isDocumentKey(a))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Iv(s,new ut(a))}if(i instanceof pe)return Iv(s,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function gE(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function z0(s,t){const i=(function(l,h){for(const d of l)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function B0(s,t,i){let a;return a=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,a}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xs extends k0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(bh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=xs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",xs._jsonSchema={type:Ce("string",xs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Pc extends xs{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Pc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:k2(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function k2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ce("string",Ga._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function P2(s){s=bi(s,pe);const t=bi(s.firestore,Bs),i=eg(t);return y2(i,s._key).then((a=>q0(t,s,a)))}function Hd(s,t,i){s=bi(s,pe);const a=bi(s.firestore,Bs),l=B0(s.converter,t,i),h=rg(a);return cg(a,[V0(h,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zn.none())])}function z2(s){return cg(bi(s.firestore,Bs),[new Pm(s._key,Zn.none())])}function B2(s,t){const i=bi(s.firestore,Bs),a=kc(s),l=B0(s.converter,t),h=rg(s.firestore);return cg(i,[V0(h,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function pE(s,...t){s=Ze(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||dE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dE(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let h,d,p;if(s instanceof pe)d=bi(s.firestore,Bs),p=mh(s._key.path),h={next:_=>{t[a]&&t[a](q0(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=bi(s,Gs);d=bi(_.firestore,Bs),p=_._query;const A=new U0(d);h={next:w=>{t[a]&&t[a](new Ga(d,A,_,w))},error:t[a+1],complete:t[a+2]},M2(s._query)}const v=eg(d);return p2(v,p,l,h)}function cg(s,t){const i=eg(s);return _2(i,t)}function q0(s,t,i){const a=i.docs.get(t._key),l=new U0(s);return new xs(s,l,t._key,a,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){yR(eo),Qa(new Us("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Bs(new ER(a.getProvider("auth-internal")),new SR(d,a.getProvider("app-check-internal")),qR(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Hr(hE,fE,t),Hr(hE,fE,"esm2020")})();const q2={apiKey:"AIzaSyAL2hN40jx6sA9refGF3uNks9Bpd68sanY",authDomain:"donelist-8b4e7.firebaseapp.com",projectId:"donelist-8b4e7",storageBucket:"donelist-8b4e7.firebasestorage.app",messagingSenderId:"73001294102",appId:"1:73001294102:web:fc416b73b630f9f17f1837"},j0=CE(q2),zc=gR(j0);tw(zc,Im);const H0=new Xi;H0.setCustomParameters({prompt:"select_account"});const gl=A2(j0),yE={sk:{title:"Done!",subtitle:"Zapisuj si svoje vazstv kad de.",login:"Prihlsi sa cez Google",logout:"Odhlsi",placeholder:"Zap si mal (aj vek) vhru...",noLogs:"Zatia iadne zznamy.",loadMore:"Nata starie",loading:"Natavam...",motivations:["Skvel prca! Len tak alej. ","al zrez! Ide ti to karta. ","Mal vhra, vek posun. ","Si nezastaviten! o bude alej? ","Dobr trefa! Kad krok sa pota. ","Bum! A je to tam. "]},en:{title:"Done!",subtitle:"Record your victories every day.",login:"Sign in with Google",logout:"Sign out",placeholder:"Record a small (or big) win...",noLogs:"No entries yet.",loadMore:"Load more",loading:"Loading...",motivations:["Great job! Keep it up. ","Another win! You're on a roll. ","Small win, big progress. ","You're unstoppable! What's next? ","Nice one! Every step counts. ","Boom! There it is. "]}};function j2(){const[s,t]=en.useState(null),[i,a]=en.useState([]),[l,h]=en.useState(""),[d,p]=en.useState(!0),[v,_]=en.useState(20),[A,w]=en.useState(!0),[M,G]=en.useState(null),[Z,et]=en.useState(""),[$,ct]=en.useState("sk"),[Et,mt]=en.useState(0);en.useEffect(()=>{try{const S=localStorage.getItem("lang");S&&ct(S)}catch{console.warn("LocalStorage access denied")}},[]);const It=yE[$]||yE.sk;en.useEffect(()=>{try{localStorage.setItem("lang",$)}catch{}},[$]),en.useEffect(()=>{const S=iw(zc,O=>{t(O),p(!1)},O=>{console.error("Auth error",O),p(!1)});return()=>S()},[]),en.useEffect(()=>{if(!s){mt(0);return}const S=pE(kc(gl,"userStats",s.uid),x=>{x.exists()&&mt(x.data().streak||0)},x=>console.error("Streak error",x)),O=x2(oE(gl,"logs"),L2("userId","==",s.uid),U2(v)),D=pE(O,x=>{const R=x.docs.map(Pt=>({id:Pt.id,...Pt.data()})).sort((Pt,Wt)=>(Wt.timestamp?.seconds||0)-(Pt.timestamp?.seconds||0));a(R),w(x.docs.length===v)},x=>console.error("Logs error",x));return()=>{S(),D()}},[s,v]);const re=async()=>{try{await bw(zc,H0)}catch{alert("Prihlsenie zlyhalo. Skste prosm klasick okno Safari a vypnite blokovanie cookies.")}},xt=()=>rw(zc),C=async S=>{if(S.preventDefault(),!!l.trim())try{await B2(oE(gl,"logs"),{userId:s.uid,text:l,timestamp:Ic(),category:"default"});const O=kc(gl,"userStats",s.uid),D=await P2(O),x=new Date,R=new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime();if(D.exists()){const Pt=D.data(),Wt=Pt.lastDate?.toDate();if(Wt){const j=new Date(Wt.getFullYear(),Wt.getMonth(),Wt.getDate()).getTime();if(j<R){const W=R-864e5,ot=j===W?(Pt.streak||0)+1:1;await Hd(O,{streak:ot,lastDate:Ic()},{merge:!0})}}else await Hd(O,{streak:1,lastDate:Ic()},{merge:!0})}else await Hd(O,{streak:1,lastDate:Ic()});h(""),et(It.motivations[Math.floor(Math.random()*It.motivations.length)]),setTimeout(()=>et(""),4e3)}catch(O){console.error(O)}},b=async S=>{if(M!==S){G(S),setTimeout(()=>G(null),3e3);return}try{await z2(kc(gl,"logs",S)),G(null)}catch(O){console.error(O)}};return d?pt.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F2F2F7]",children:pt.jsx("div",{className:"h-8 w-8 border-4 border-gray-300 border-t-black rounded-full animate-spin"})}):pt.jsx("div",{className:"min-h-screen bg-apple-bg text-apple-text pb-32",children:s?pt.jsxs(pt.Fragment,{children:[pt.jsx("div",{className:`fixed top-8 left-1/2 -translate-x-1/2 z-50 transition-all duration-500 transform ${Z?"translate-y-0 opacity-100":"-translate-y-12 opacity-0 pointer-events-none"}`,children:pt.jsxs("div",{className:"bg-apple-card border border-apple-border px-6 py-3 rounded-full shadow-2xl flex items-center gap-3 text-apple-text",children:[pt.jsx("span",{children:""}),pt.jsx("p",{className:"text-[15px] font-semibold whitespace-nowrap",children:Z})]})}),pt.jsx("header",{className:"px-6 pt-12 pb-6 sticky top-0 bg-apple-bg/80 backdrop-blur-md z-10 border-b border-apple-border/10",children:pt.jsxs("div",{className:"max-w-xl mx-auto flex justify-between items-end",children:[pt.jsxs("div",{children:[pt.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[pt.jsx("p",{className:"text-xs font-semibold text-apple-secondary uppercase tracking-widest",children:new Date().toLocaleDateString($==="sk"?"sk-SK":"en-US",{day:"numeric",month:"long"})}),Et>0&&pt.jsxs("span",{className:"flex items-center gap-1 text-sm font-bold text-orange-500 bg-orange-500/10 px-2 py-0.5 rounded-full border border-orange-500/20",children:[" ",Et]})]}),pt.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:It.title})]}),pt.jsxs("div",{className:"flex flex-col items-end gap-2",children:[pt.jsxs("div",{className:"flex items-center gap-3",children:[pt.jsxs("div",{className:"flex gap-2",children:[pt.jsx("button",{onClick:()=>ct("sk"),className:`text-[10px] font-bold px-2 py-1 rounded ${$==="sk"?"bg-apple-text text-apple-bg":"text-apple-secondary border border-apple-border"}`,children:"SK"}),pt.jsx("button",{onClick:()=>ct("en"),className:`text-[10px] font-bold px-2 py-1 rounded ${$==="en"?"bg-apple-text text-apple-bg":"text-apple-secondary border border-apple-border"}`,children:"EN"})]}),s.photoURL&&pt.jsx("img",{src:s.photoURL,alt:"P",className:"w-10 h-10 rounded-full border border-apple-border shadow-sm"})]}),pt.jsx("button",{onClick:xt,className:"text-xs font-medium text-apple-secondary",children:It.logout})]})]})}),pt.jsx("main",{className:"max-w-xl mx-auto px-6 mt-6",children:pt.jsxs("div",{className:"space-y-3",children:[i.map(S=>pt.jsxs("div",{className:"bg-apple-card p-4 rounded-2xl shadow-sm border border-apple-border flex justify-between items-center",children:[pt.jsxs("div",{className:"flex flex-col pr-4",children:[pt.jsx("p",{className:"text-[17px] leading-tight",children:S.text}),S.timestamp&&pt.jsx("span",{className:"text-[13px] text-apple-secondary mt-1",children:new Date(S.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),pt.jsx("button",{onClick:()=>b(S.id),className:`p-2 rounded-full ${M===S.id?"bg-red-500 text-white":"text-apple-border"}`,children:M===S.id?"":""})]},S.id)),i.length===0&&pt.jsx("div",{className:"text-center py-12 text-apple-secondary font-medium",children:It.noLogs})]})}),pt.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-apple-bg via-apple-bg/95 to-transparent backdrop-blur-sm",children:pt.jsxs("form",{onSubmit:C,className:"max-w-xl mx-auto flex items-center bg-apple-card rounded-2xl shadow-2xl border border-apple-border p-1",children:[pt.jsx("input",{type:"text",value:l,onChange:S=>h(S.target.value),placeholder:It.placeholder,className:"flex-1 bg-transparent border-none px-5 py-4 focus:ring-0 outline-none text-[17px] text-apple-text placeholder:text-apple-secondary"}),pt.jsx("button",{type:"submit",className:"bg-apple-text text-apple-bg h-11 w-11 rounded-xl shadow-sm flex items-center justify-center mr-1",children:pt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:pt.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]})})]}):pt.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center",children:[pt.jsx("h1",{className:"text-5xl font-extrabold mb-2 tracking-tight",children:It.title}),pt.jsx("p",{className:"text-apple-secondary mb-12 max-w-xs",children:It.subtitle}),pt.jsx("button",{onClick:re,className:"w-full max-w-xs bg-apple-text text-apple-bg py-4 rounded-2xl font-semibold shadow-xl",children:It.login}),pt.jsxs("div",{className:"mt-8 flex gap-4",children:[pt.jsx("button",{onClick:()=>ct("sk"),className:`text-sm ${$==="sk"?"font-bold":"text-apple-secondary"}`,children:"SK"}),pt.jsx("button",{onClick:()=>ct("en"),className:`text-sm ${$==="en"?"font-bold":"text-apple-secondary"}`,children:"EN"})]})]})})}DS.createRoot(document.getElementById("root")).render(pt.jsx(en.StrictMode,{children:pt.jsx(j2,{})}));
